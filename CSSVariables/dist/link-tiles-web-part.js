define("345cc87f-4434-4231-9039-013bfaea37b8_0.0.1",["react","react-dom","@microsoft/sp-core-library","@microsoft/sp-webpart-base","@microsoft/sp-property-pane","LinkTilesWebPartStrings"],function(e,t,n,r,o,i){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return u});/**
 * @license
 * v1.3.2
 * MIT (https://github.com/pnp/pnpjs/blob/master/LICENSE)
 * Copyright (c) 2019 Microsoft
 * docs: https://pnp.github.io/pnpjs/
 * source: https://github.com/pnp/pnpjs
 * bugs: https://github.com/pnp/pnpjs/issues
 */
var r,o=function(){function e(){}return Object.defineProperty(e,"activeLogLevel",{get:function(){return e.instance.activeLogLevel},set:function(t){e.instance.activeLogLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return void 0!==e._instance&&null!==e._instance||(e._instance=new i),e._instance},enumerable:!0,configurable:!0}),e.subscribe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.map(function(t){return e.instance.subscribe(t)})},e.clearSubscribers=function(){return e.instance.clearSubscribers()},Object.defineProperty(e,"count",{get:function(){return e.instance.count},enumerable:!0,configurable:!0}),e.write=function(t,n){void 0===n&&(n=1),e.instance.log({level:n,message:t})},e.writeJSON=function(e,t){void 0===t&&(t=1),this.write(JSON.stringify(e),t)},e.log=function(t){e.instance.log(t)},e.error=function(t){e.instance.log({data:t,level:3,message:t.message})},e}(),i=function(){function e(e,t){void 0===e&&(e=2),void 0===t&&(t=[]),this.activeLogLevel=e,this.subscribers=t}return e.prototype.subscribe=function(e){this.subscribers.push(e)},e.prototype.clearSubscribers=function(){var e=this.subscribers.slice(0);return this.subscribers.length=0,e},Object.defineProperty(e.prototype,"count",{get:function(){return this.subscribers.length},enumerable:!0,configurable:!0}),e.prototype.write=function(e,t){void 0===t&&(t=1),this.log({level:t,message:e})},e.prototype.log=function(e){void 0!==e&&this.activeLogLevel<=e.level&&this.subscribers.map(function(t){return t.log(e)})},e}();!function(e){e[e.Verbose=0]="Verbose",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Off=99]="Off"}(r||(r={}));var u=function(){function e(){}return e.prototype.log=function(e){var t=this.format(e);switch(e.level){case 0:case 1:console.log(t);break;case 2:console.warn(t);break;case 3:console.error(t)}},e.prototype.format=function(e){var t=[];if(t.push("Message: "+e.message),void 0!==e.data)try{t.push(" Data: "+JSON.stringify(e.data))}catch(e){t.push(" Data: Error in stringify of supplied data "+e)}return t.join("")},e}();!function(){function e(e){this.method=e}e.prototype.log=function(e){this.method(e)}}()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(t,n){t.exports=e},function(e,t,n){"use strict";(function(e){function r(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){t.apply(e,n)}}function i(e,t,n){var r=new Date(e);switch(t.toLowerCase()){case"year":r.setFullYear(r.getFullYear()+n);break;case"quarter":r.setMonth(r.getMonth()+3*n);break;case"month":r.setMonth(r.getMonth()+n);break;case"week":r.setDate(r.getDate()+7*n);break;case"day":r.setDate(r.getDate()+n);break;case"hour":r.setTime(r.getTime()+36e5*n);break;case"minute":r.setTime(r.getTime()+6e4*n);break;case"second":r.setTime(r.getTime()+1e3*n);break;default:r=void 0}return r}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return!h(e)}).map(function(e){return e.replace(/^[\\|\/]/,"").replace(/[\\|\/]$/,"")}).join("/").replace(/\\/g,"/")}function a(){var e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}function s(e){return"function"==typeof e}function c(e){return void 0!==e&&null!==e}function l(e){return Array.isArray?Array.isArray(e):e&&"number"==typeof e.length&&e.constructor===Array}function p(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=function(){return!0}),!c(t))return e;var o=n?function(e,t){return!(t in e)}:function(){return!0},i=function(t){return o(e,t)&&r(t)};return Object.getOwnPropertyNames(t).filter(i).reduce(function(e,n){return e[n]=t[n],e},e)}function f(e){return/^https?:\/\/|^\/\//i.test(e)}function h(e){return void 0===e||null===e||e.length<1}function d(e){return JSON.stringify(e)}function y(e,t){return Object.hasOwnProperty.call(e,t)}function g(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function v(e,t){if(void 0!==t&&null!==t){new Request("",{headers:t}).headers.forEach(function(t,n){e.append(n,t)})}}function b(e,t){if(c(t)){var n=p(e.headers||{},t.headers);e=p(e,t),e.headers=n}}function m(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.hostname}function _(e){return void 0!==e&&null!==e?new Map(E(e)):new Map}function S(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)t[r].forEach(function(t,n){e.set(n,t)});return e}n.d(t,"c",function(){return x}),n.d(t,"o",function(){return v}),n.d(t,"p",function(){return b}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return k}),n.d(t,"g",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return u}),n.d(t,"h",function(){return a}),n.d(t,"l",function(){return s}),n.d(t,"q",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"f",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"r",function(){return h}),n.d(t,"n",function(){return d}),n.d(t,"j",function(){return y}),n.d(t,"i",function(){return g});var T=n(11),w=(n.n(T),function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)}),O=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},C=function(){function e(){}return e.prototype.fetch=function(e,t){return O.fetch(e,t)},e}(),I=function(e){function t(t){var n=e.call(this)||this;return n._token=t,n}return r(t,e),Object.defineProperty(t.prototype,"token",{get:function(){return this._token||""},set:function(e){this._token=e},enumerable:!0,configurable:!0}),t.prototype.fetch=function(t,n){void 0===n&&(n={});var r=new Headers;return v(r,n.headers),r.set("Authorization","Bearer "+this._token),n.headers=r,e.prototype.fetch.call(this,t,n)},t}(C),P=(function(e){function t(t,n,r){var o=e.call(this,null)||this;return o.clientId=t,o.tenant=n,o.redirectUri=r,o._displayCallback=null,o._loginPromise=null,o}r(t,e),t.fromSPFxContext=function(e){return new P(e)},t.prototype.fetch=function(t,n){var r=this;if(!f(t))throw Error("You must supply absolute urls to AdalClient.fetch.");return this.getToken(m(t)).then(function(o){return r.token=o,e.prototype.fetch.call(r,t,n)})},t.prototype.getToken=function(e){var n=this;return new Promise(function(r,o){n.ensureAuthContext().then(function(e){return n.login()}).then(function(n){t._authContext.acquireToken(e,function(e,t){if(e)return o(Error(e));r(t)})}).catch(o)})},t.prototype.ensureAuthContext=function(){var e=this;return new Promise(function(n){null===t._authContext&&(t._authContext=Object(T.inject)({clientId:e.clientId,displayCall:function(t){e._displayCallback&&e._displayCallback(t)},navigateToLoginRequestUrl:!1,redirectUri:e.redirectUri,tenant:e.tenant})),n()})},t.prototype.login=function(){var e=this;return this._loginPromise?this._loginPromise:(this._loginPromise=new Promise(function(n,r){if(t._authContext.getCachedUser())return n();e._displayCallback=function(o){var i=window.open(o,"login","width=483, height=600");if(!i)return r(Error("Could not open pop-up window for auth. Likely pop-ups are blocked by the browser."));i&&i.focus&&i.focus();var u=window.setInterval(function(){i&&!i.closed&&void 0!==i.closed||window.clearInterval(u);try{-1!==i.document.URL.indexOf(e.redirectUri)&&(window.clearInterval(u),t._authContext.handleWindowCallback(i.location.hash),i.close(),n())}catch(e){r(e)}},30)},e.ensureAuthContext().then(function(n){t._authContext._loginInProgress=!1,t._authContext.login(),e._displayCallback=null})}),this._loginPromise)},t._authContext=null}(I),function(e){function t(t){var n=e.call(this,null)||this;return n.context=t,n}return r(t,e),t.prototype.fetch=function(t,n){var r=this;return this.getToken(m(t)).then(function(o){return r.token=o,e.prototype.fetch.call(r,t,n)})},t.prototype.getToken=function(e){return this.context.aadTokenProviderFactory.getTokenProvider().then(function(t){return t.getToken(e)})},t}(I)),E=s(Object.entries)?Object.entries:function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},j=["defaultCachingStore","defaultCachingTimeoutSeconds","globalCacheDisable","enableCacheExpiration","cacheExpirationIntervalMilliseconds","spfxContext"],R=function(){function e(e){void 0===e&&(e=new Map),this._v=e,this._v.set(j[0],"session"),this._v.set(j[1],60),this._v.set(j[2],!1),this._v.set(j[3],!1),this._v.set(j[4],750),this._v.set(j[5],null)}return e.prototype.extend=function(e){this._v=S(this._v,_(e))},e.prototype.get=function(e){return this._v.get(e)},Object.defineProperty(e.prototype,"defaultCachingStore",{get:function(){return this.get(j[0])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCachingTimeoutSeconds",{get:function(){return this.get(j[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"globalCacheDisable",{get:function(){return this.get(j[2])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableCacheExpiration",{get:function(){return this.get(j[3])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cacheExpirationIntervalMilliseconds",{get:function(){return this.get(j[4])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spfxContext",{get:function(){return this.get(j[5])},enumerable:!0,configurable:!0}),e}(),N=new R,x=N,A=function(){function e(e,t){void 0===t&&(t=-1),this.store=e,this.defaultTimeoutMinutes=t,this.enabled=this.test(),x.enableCacheExpiration&&this.cacheExpirationHandler()}return e.prototype.get=function(e){if(!this.enabled)return null;var t=this.store.getItem(e);if(!c(t))return null;var n=JSON.parse(t);return new Date(n.expiration)<=new Date?(this.delete(e),null):n.value},e.prototype.put=function(e,t,n){this.enabled&&this.store.setItem(e,this.createPersistable(t,n))},e.prototype.delete=function(e){this.enabled&&this.store.removeItem(e)},e.prototype.getOrPut=function(e,t,n){var r=this;if(!this.enabled)return t();var o=this.get(e);return null===o?t().then(function(t){return r.put(e,t,n),t}):Promise.resolve(o)},e.prototype.deleteExpired=function(){var e=this;return new Promise(function(t,n){e.enabled||t();try{for(var r=0;r<e.store.length;r++){var o=e.store.key(r);null!==o&&/["|']?pnp["|']? ?: ?1/i.test(e.store.getItem(o))&&e.get(o)}t()}catch(e){n(e)}})},e.prototype.test=function(){try{return this.store.setItem("t","t"),this.store.removeItem("t"),!0}catch(e){return!1}},e.prototype.createPersistable=function(e,t){if(void 0===t){var n=x.defaultCachingTimeoutSeconds;this.defaultTimeoutMinutes>0&&(n=60*this.defaultTimeoutMinutes),t=i(new Date,"second",n)}return d({pnp:1,expiration:t,value:e})},e.prototype.cacheExpirationHandler=function(){var e=this;this.deleteExpired().then(function(t){setTimeout(o(e,e.cacheExpirationHandler),x.cacheExpirationIntervalMilliseconds)}).catch(function(e){console.error(e)})},e}(),U=function(){function e(e){void 0===e&&(e=new Map),this._store=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._store.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._store.clear()},e.prototype.getItem=function(e){return this._store.get(e)},e.prototype.key=function(e){return Array.from(this._store)[e][0]},e.prototype.removeItem=function(e){this._store.delete(e)},e.prototype.setItem=function(e,t){this._store.set(e,t)},e}(),k=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._local=e,this._session=t}return Object.defineProperty(e.prototype,"local",{get:function(){return null===this._local&&(this._local=this.getStore("local")),this._local},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"session",{get:function(){return null===this._session&&(this._session=this.getStore("session")),this._session},enumerable:!0,configurable:!0}),e.prototype.getStore=function(e){return new A("local"===e?"undefined"==typeof localStorage?new U:localStorage:"undefined"==typeof sessionStorage?new U:sessionStorage)},e}()}).call(t,n(1))},function(e,t,n){(function(e,r){var o;(function(){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];t(r,u,n(u),e)}return r}function a(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function s(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function l(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}function p(e,t){return!!(null==e?0:e.length)&&T(e,t,0)>-1}function f(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function h(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function d(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function y(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function g(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function v(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e){return e.split("")}function m(e){return e.match(Dt)||[]}function _(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function S(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function T(e,t,n){return t===t?$(e,t,n):S(e,O,n)}function w(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function O(e){return e!==e}function C(e,t){var n=null==e?0:e.length;return n?R(e,t)/n:Ae}function I(e){return function(t){return null==t?ne:t[e]}}function P(e){return function(t){return null==e?ne:e[t]}}function E(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function j(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function R(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==ne&&(n=n===ne?i:n+i)}return n}function N(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function x(e,t){return h(t,function(t){return[t,e[t]]})}function A(e){return function(t){return e(t)}}function U(e,t){return h(t,function(t){return e[t]})}function k(e,t){return e.has(t)}function L(e,t){for(var n=-1,r=e.length;++n<r&&T(t,e[n],0)>-1;);return n}function D(e,t){for(var n=e.length;n--&&T(t,e[n],0)>-1;);return n}function F(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function B(e){return"\\"+Cn[e]}function q(e,t){return null==e?ne:e[t]}function M(e){return gn.test(e)}function G(e){return vn.test(e)}function W(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function K(e,t){return function(n){return e(t(n))}}function V(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n];u!==t&&u!==se||(e[n]=se,i[o++]=n)}return i}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function $(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function J(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function X(e){return M(e)?Z(e):Gn(e)}function Y(e){return M(e)?ee(e):b(e)}function Z(e){for(var t=dn.lastIndex=0;dn.test(e);)++t;return t}function ee(e){return e.match(dn)||[]}function te(e){return e.match(yn)||[]}var ne,re=200,oe="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",ue="__lodash_hash_undefined__",ae=500,se="__lodash_placeholder__",ce=1,le=2,pe=4,fe=1,he=2,de=1,ye=2,ge=4,ve=8,be=16,me=32,_e=64,Se=128,Te=256,we=512,Oe=30,Ce="...",Ie=800,Pe=16,Ee=1,je=2,Re=1/0,Ne=9007199254740991,xe=1.7976931348623157e308,Ae=NaN,Ue=4294967295,ke=Ue-1,Le=Ue>>>1,De=[["ary",Se],["bind",de],["bindKey",ye],["curry",ve],["curryRight",be],["flip",we],["partial",me],["partialRight",_e],["rearg",Te]],Fe="[object Arguments]",Be="[object Array]",qe="[object AsyncFunction]",Me="[object Boolean]",Ge="[object Date]",We="[object DOMException]",He="[object Error]",Ke="[object Function]",Ve="[object GeneratorFunction]",ze="[object Map]",Qe="[object Number]",$e="[object Null]",Je="[object Object]",Xe="[object Proxy]",Ye="[object RegExp]",Ze="[object Set]",et="[object String]",tt="[object Symbol]",nt="[object Undefined]",rt="[object WeakMap]",ot="[object WeakSet]",it="[object ArrayBuffer]",ut="[object DataView]",at="[object Float32Array]",st="[object Float64Array]",ct="[object Int8Array]",lt="[object Int16Array]",pt="[object Int32Array]",ft="[object Uint8Array]",ht="[object Uint8ClampedArray]",dt="[object Uint16Array]",yt="[object Uint32Array]",gt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,St=RegExp(mt.source),Tt=RegExp(_t.source),wt=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp(jt.source),Nt=/^\s+|\s+$/g,xt=/^\s+/,At=/\s+$/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kt=/\{\n\/\* \[wrapped with (.+)\] \*/,Lt=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/\\(\\)?/g,Bt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,Mt=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,Wt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\d*)$/,Vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zt=/($^)/,Qt=/['\n\r\u2028\u2029\\]/g,$t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xt="["+Jt+"]",Yt="["+$t+"]",Zt="[a-z\\xdf-\\xf6\\xf8-\\xff]",en="[^\\ud800-\\udfff"+Jt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",tn="\\ud83c[\\udffb-\\udfff]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="[A-Z\\xc0-\\xd6\\xd8-\\xde]",un="(?:"+Zt+"|"+en+")",an="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",sn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",nn,rn].join("|")+")[\\ufe0e\\ufe0f]?"+an+")*",cn="[\\ufe0e\\ufe0f]?"+an+sn,ln="(?:"+["[\\u2700-\\u27bf]",nn,rn].join("|")+")"+cn,pn="(?:"+["[^\\ud800-\\udfff]"+Yt+"?",Yt,nn,rn,"[\\ud800-\\udfff]"].join("|")+")",fn=RegExp("['’]","g"),hn=RegExp(Yt,"g"),dn=RegExp(tn+"(?="+tn+")|"+pn+cn,"g"),yn=RegExp([on+"?"+Zt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Xt,on,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Xt,on+un,"$"].join("|")+")",on+"?"+un+"+(?:['’](?:d|ll|m|re|s|t|ve))?",on+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",ln].join("|"),"g"),gn=RegExp("[\\u200d\\ud800-\\udfff"+$t+"\\ufe0e\\ufe0f]"),vn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mn=-1,_n={};_n[at]=_n[st]=_n[ct]=_n[lt]=_n[pt]=_n[ft]=_n[ht]=_n[dt]=_n[yt]=!0,_n[Fe]=_n[Be]=_n[it]=_n[Me]=_n[ut]=_n[Ge]=_n[He]=_n[Ke]=_n[ze]=_n[Qe]=_n[Je]=_n[Ye]=_n[Ze]=_n[et]=_n[rt]=!1;var Sn={};Sn[Fe]=Sn[Be]=Sn[it]=Sn[ut]=Sn[Me]=Sn[Ge]=Sn[at]=Sn[st]=Sn[ct]=Sn[lt]=Sn[pt]=Sn[ze]=Sn[Qe]=Sn[Je]=Sn[Ye]=Sn[Ze]=Sn[et]=Sn[tt]=Sn[ft]=Sn[ht]=Sn[dt]=Sn[yt]=!0,Sn[He]=Sn[Ke]=Sn[rt]=!1;var Tn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},wn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},On={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},In=parseFloat,Pn=parseInt,En="object"==typeof e&&e&&e.Object===Object&&e,jn="object"==typeof self&&self&&self.Object===Object&&self,Rn=En||jn||Function("return this")(),Nn="object"==typeof t&&t&&!t.nodeType&&t,xn=Nn&&"object"==typeof r&&r&&!r.nodeType&&r,An=xn&&xn.exports===Nn,Un=An&&En.process,kn=function(){try{var e=xn&&xn.require&&xn.require("util").types;return e||Un&&Un.binding&&Un.binding("util")}catch(e){}}(),Ln=kn&&kn.isArrayBuffer,Dn=kn&&kn.isDate,Fn=kn&&kn.isMap,Bn=kn&&kn.isRegExp,qn=kn&&kn.isSet,Mn=kn&&kn.isTypedArray,Gn=I("length"),Wn=P(Tn),Hn=P(wn),Kn=P(On),Vn=function e(t){function n(e){if(ts(e)&&!hf(e)&&!(e instanceof b)){if(e instanceof o)return e;if(fl.call(e,"__wrapped__"))return Yi(e)}return new o(e)}function r(){}function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ne}function b(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ue,this.__views__=[]}function P(){var e=new b(this.__wrapped__);return e.__actions__=Ao(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ao(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ao(this.__views__),e}function $(){if(this.__filtered__){var e=new b(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Z(){var e=this.__wrapped__.value(),t=this.__dir__,n=hf(e),r=t<0,o=n?e.length:0,i=Ti(0,o,this.__views__),u=i.start,a=i.end,s=a-u,c=r?a:u-1,l=this.__iteratees__,p=l.length,f=0,h=Gl(s,this.__takeCount__);if(!n||!r&&o==s&&h==s)return go(e,this.__actions__);var d=[];e:for(;s--&&f<h;){c+=t;for(var y=-1,g=e[c];++y<p;){var v=l[y],b=v.iteratee,m=v.type,_=b(g);if(m==je)g=_;else if(!_){if(m==Ee)continue e;break e}}d[f++]=g}return d}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dt(){this.__data__=Yl?Yl(null):{},this.size=0}function $t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Jt(e){var t=this.__data__;if(Yl){var n=t[e];return n===ue?ne:n}return fl.call(t,e)?t[e]:ne}function Xt(e){var t=this.__data__;return Yl?t[e]!==ne:fl.call(t,e)}function Yt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Yl&&t===ne?ue:t,this}function Zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function en(){this.__data__=[],this.size=0}function tn(e){var t=this.__data__,n=zn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Il.call(t,n,1),--this.size,!0)}function nn(e){var t=this.__data__,n=zn(t,e);return n<0?ne:t[n][1]}function rn(e){return zn(this.__data__,e)>-1}function on(e,t){var n=this.__data__,r=zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function an(){this.size=0,this.__data__={hash:new ee,map:new(Ql||Zt),string:new ee}}function sn(e){var t=bi(this,e).delete(e);return this.size-=t?1:0,t}function cn(e){return bi(this,e).get(e)}function ln(e){return bi(this,e).has(e)}function pn(e,t){var n=bi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function dn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new un;++t<n;)this.add(e[t])}function yn(e){return this.__data__.set(e,ue),this}function gn(e){return this.__data__.has(e)}function vn(e){var t=this.__data__=new Zt(e);this.size=t.size}function Tn(){this.__data__=new Zt,this.size=0}function wn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function On(e){return this.__data__.get(e)}function Cn(e){return this.__data__.has(e)}function En(e,t){var n=this.__data__;if(n instanceof Zt){var r=n.__data__;if(!Ql||r.length<re-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(e,t),this.size=n.size,this}function jn(e,t){var n=hf(e),r=!n&&ff(e),o=!n&&!r&&yf(e),i=!n&&!r&&!o&&_f(e),u=n||r||o||i,a=u?N(e.length,il):[],s=a.length;for(var c in e)!t&&!fl.call(e,c)||u&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ri(c,s))||a.push(c);return a}function Nn(e){var t=e.length;return t?e[Jr(0,t-1)]:ne}function xn(e,t){return Qi(Ao(e),Zn(t,0,e.length))}function Un(e){return Qi(Ao(e))}function kn(e,t,n){(n===ne||Ma(e[t],n))&&(n!==ne||t in e)||Xn(e,t,n)}function Gn(e,t,n){var r=e[t];fl.call(e,t)&&Ma(r,n)&&(n!==ne||t in e)||Xn(e,t,n)}function zn(e,t){for(var n=e.length;n--;)if(Ma(e[n][0],t))return n;return-1}function Qn(e,t,n,r){return lp(e,function(e,o,i){t(r,e,n(e),i)}),r}function $n(e,t){return e&&Uo(t,Ls(t),e)}function Jn(e,t){return e&&Uo(t,Ds(t),e)}function Xn(e,t,n){"__proto__"==t&&Rl?Rl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,r=t.length,o=Yc(r),i=null==e;++n<r;)o[n]=i?ne:As(e,t[n]);return o}function Zn(e,t,n){return e===e&&(n!==ne&&(e=e<=n?e:n),t!==ne&&(e=e>=t?e:t)),e}function er(e,t,n,r,o,i){var u,s=t&ce,c=t&le,l=t&pe;if(n&&(u=o?n(e,r,o,i):n(e)),u!==ne)return u;if(!es(e))return e;var p=hf(e);if(p){if(u=Ci(e),!s)return Ao(e,u)}else{var f=Tp(e),h=f==Ke||f==Ve;if(yf(e))return wo(e,s);if(f==Je||f==Fe||h&&!o){if(u=c||h?{}:Ii(e),!s)return c?Lo(e,Jn(u,e)):ko(e,$n(u,e))}else{if(!Sn[f])return o?e:{};u=Pi(e,f,s)}}i||(i=new vn);var d=i.get(e);if(d)return d;if(i.set(e,u),mf(e))return e.forEach(function(r){u.add(er(r,t,n,r,e,i))}),u;if(vf(e))return e.forEach(function(r,o){u.set(o,er(r,t,n,o,e,i))}),u;var y=l?c?di:hi:c?Ds:Ls,g=p?ne:y(e);return a(g||e,function(r,o){g&&(o=r,r=e[o]),Gn(u,o,er(r,t,n,o,e,i))}),u}function tr(e){var t=Ls(e);return function(n){return nr(n,e,t)}}function nr(e,t,n){var r=n.length;if(null==e)return!r;for(e=rl(e);r--;){var o=n[r],i=t[o],u=e[o];if(u===ne&&!(o in e)||!i(u))return!1}return!0}function rr(e,t,n){if("function"!=typeof e)throw new ul(ie);return Cp(function(){e.apply(ne,n)},t)}function or(e,t,n,r){var o=-1,i=p,u=!0,a=e.length,s=[],c=t.length;if(!a)return s;n&&(t=h(t,A(n))),r?(i=f,u=!1):t.length>=re&&(i=k,u=!1,t=new dn(t));e:for(;++o<a;){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,u&&d===d){for(var y=c;y--;)if(t[y]===d)continue e;s.push(l)}else i(t,d,r)||s.push(l)}return s}function ir(e,t){var n=!0;return lp(e,function(e,r,o){return n=!!t(e,r,o)}),n}function ur(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],u=t(i);if(null!=u&&(a===ne?u===u&&!fs(u):n(u,a)))var a=u,s=i}return s}function ar(e,t,n,r){var o=e.length;for(n=bs(n),n<0&&(n=-n>o?0:o+n),r=r===ne||r>o?o:bs(r),r<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}function sr(e,t){var n=[];return lp(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function cr(e,t,n,r,o){var i=-1,u=e.length;for(n||(n=ji),o||(o=[]);++i<u;){var a=e[i];t>0&&n(a)?t>1?cr(a,t-1,n,r,o):d(o,a):r||(o[o.length]=a)}return o}function lr(e,t){return e&&fp(e,t,Ls)}function pr(e,t){return e&&hp(e,t,Ls)}function fr(e,t){return l(t,function(t){return Xa(e[t])})}function hr(e,t){t=So(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[$i(t[n++])];return n&&n==r?e:ne}function dr(e,t,n){var r=t(e);return hf(e)?r:d(r,n(e))}function yr(e){return null==e?e===ne?nt:$e:jl&&jl in rl(e)?Si(e):Mi(e)}function gr(e,t){return e>t}function vr(e,t){return null!=e&&fl.call(e,t)}function br(e,t){return null!=e&&t in rl(e)}function mr(e,t,n){return e>=Gl(t,n)&&e<Ml(t,n)}function _r(e,t,n){for(var r=n?f:p,o=e[0].length,i=e.length,u=i,a=Yc(i),s=1/0,c=[];u--;){var l=e[u];u&&t&&(l=h(l,A(t))),s=Gl(l.length,s),a[u]=!n&&(t||o>=120&&l.length>=120)?new dn(u&&l):ne}l=e[0];var d=-1,y=a[0];e:for(;++d<o&&c.length<s;){var g=l[d],v=t?t(g):g;if(g=n||0!==g?g:0,!(y?k(y,v):r(c,v,n))){for(u=i;--u;){var b=a[u];if(!(b?k(b,v):r(e[u],v,n)))continue e}y&&y.push(v),c.push(g)}}return c}function Sr(e,t,n,r){return lr(e,function(e,o,i){t(r,n(e),o,i)}),r}function Tr(e,t,n){t=So(t,e),e=Wi(e,t);var r=null==e?e:e[$i(vu(t))];return null==r?ne:i(r,e,n)}function wr(e){return ts(e)&&yr(e)==Fe}function Or(e){return ts(e)&&yr(e)==it}function Cr(e){return ts(e)&&yr(e)==Ge}function Ir(e,t,n,r,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:Pr(e,t,n,r,Ir,o))}function Pr(e,t,n,r,o,i){var u=hf(e),a=hf(t),s=u?Be:Tp(e),c=a?Be:Tp(t);s=s==Fe?Je:s,c=c==Fe?Je:c;var l=s==Je,p=c==Je,f=s==c;if(f&&yf(e)){if(!yf(t))return!1;u=!0,l=!1}if(f&&!l)return i||(i=new vn),u||_f(e)?ci(e,t,n,r,o,i):li(e,t,s,n,r,o,i);if(!(n&fe)){var h=l&&fl.call(e,"__wrapped__"),d=p&&fl.call(t,"__wrapped__");if(h||d){var y=h?e.value():e,g=d?t.value():t;return i||(i=new vn),o(y,g,n,r,i)}}return!!f&&(i||(i=new vn),pi(e,t,n,r,o,i))}function Er(e){return ts(e)&&Tp(e)==ze}function jr(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=rl(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var s=a[0],c=e[s],l=a[1];if(u&&a[2]){if(c===ne&&!(s in e))return!1}else{var p=new vn;if(r)var f=r(c,l,s,e,t,p);if(!(f===ne?Ir(l,c,fe|he,r,p):f))return!1}}return!0}function Rr(e){return!(!es(e)||ki(e))&&(Xa(e)?bl:Wt).test(Ji(e))}function Nr(e){return ts(e)&&yr(e)==Ye}function xr(e){return ts(e)&&Tp(e)==Ze}function Ar(e){return ts(e)&&Za(e.length)&&!!_n[yr(e)]}function Ur(e){return"function"==typeof e?e:null==e?Ic:"object"==typeof e?hf(e)?qr(e[0],e[1]):Br(e):Uc(e)}function kr(e){if(!Li(e))return ql(e);var t=[];for(var n in rl(e))fl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!es(e))return qi(e);var t=Li(e),n=[];for(var r in e)("constructor"!=r||!t&&fl.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Fr(e,t){var n=-1,r=Ga(e)?Yc(e.length):[];return lp(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Br(e){var t=mi(e);return 1==t.length&&t[0][2]?Fi(t[0][0],t[0][1]):function(n){return n===e||jr(n,e,t)}}function qr(e,t){return xi(e)&&Di(t)?Fi($i(e),t):function(n){var r=As(n,e);return r===ne&&r===t?ks(n,e):Ir(t,r,fe|he)}}function Mr(e,t,n,r,o){e!==t&&fp(t,function(i,u){if(es(i))o||(o=new vn),Gr(e,t,u,n,Mr,r,o);else{var a=r?r(Ki(e,u),i,u+"",e,t,o):ne;a===ne&&(a=i),kn(e,u,a)}},Ds)}function Gr(e,t,n,r,o,i,u){var a=Ki(e,n),s=Ki(t,n),c=u.get(s);if(c)return void kn(e,n,c);var l=i?i(a,s,n+"",e,t,u):ne,p=l===ne;if(p){var f=hf(s),h=!f&&yf(s),d=!f&&!h&&_f(s);l=s,f||h||d?hf(a)?l=a:Wa(a)?l=Ao(a):h?(p=!1,l=wo(s,!0)):d?(p=!1,l=Eo(s,!0)):l=[]:cs(s)||ff(s)?(l=a,ff(a)?l=Ss(a):es(a)&&!Xa(a)||(l=Ii(s))):p=!1}p&&(u.set(s,l),o(l,s,r,i,u),u.delete(s)),kn(e,n,l)}function Wr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Ri(t,n)?e[t]:ne}function Hr(e,t,n){var r=-1;return t=h(t.length?t:[Ic],A(vi())),j(Fr(e,function(e,n,o){return{criteria:h(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Ro(e,t,n)})}function Kr(e,t){return Vr(e,t,function(t,n){return ks(e,n)})}function Vr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var u=t[r],a=hr(e,u);n(a,u)&&no(i,So(u,e),a)}return i}function zr(e){return function(t){return hr(t,e)}}function Qr(e,t,n,r){var o=r?w:T,i=-1,u=t.length,a=e;for(e===t&&(t=Ao(t)),n&&(a=h(e,A(n)));++i<u;)for(var s=0,c=t[i],l=n?n(c):c;(s=o(a,l,s,r))>-1;)a!==e&&Il.call(a,s,1),Il.call(e,s,1);return e}function $r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ri(o)?Il.call(e,o,1):fo(e,o)}}return e}function Jr(e,t){return e+kl(Kl()*(t-e+1))}function Xr(e,t,n,r){for(var o=-1,i=Ml(Ul((t-e)/(n||1)),0),u=Yc(i);i--;)u[r?i:++o]=e,e+=n;return u}function Yr(e,t){var n="";if(!e||t<1||t>Ne)return n;do{t%2&&(n+=e),(t=kl(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Ip(Gi(e,t,Ic),e+"")}function eo(e){return Nn($s(e))}function to(e,t){var n=$s(e);return Qi(n,Zn(t,0,n.length))}function no(e,t,n,r){if(!es(e))return e;t=So(t,e);for(var o=-1,i=t.length,u=i-1,a=e;null!=a&&++o<i;){var s=$i(t[o]),c=n;if(o!=u){var l=a[s];c=r?r(l,s,a):ne,c===ne&&(c=es(l)?l:Ri(t[o+1])?[]:{})}Gn(a,s,c),a=a[s]}return e}function ro(e){return Qi($s(e))}function oo(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Yc(o);++r<o;)i[r]=e[r+t];return i}function io(e,t){var n;return lp(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function uo(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=Le){for(;r<o;){var i=r+o>>>1,u=e[i];null!==u&&!fs(u)&&(n?u<=t:u<t)?r=i+1:o=i}return o}return ao(e,t,Ic,n)}function ao(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,u=t!==t,a=null===t,s=fs(t),c=t===ne;o<i;){var l=kl((o+i)/2),p=n(e[l]),f=p!==ne,h=null===p,d=p===p,y=fs(p);if(u)var g=r||d;else g=c?d&&(r||f):a?d&&f&&(r||!h):s?d&&f&&!h&&(r||!y):!h&&!y&&(r?p<=t:p<t);g?o=l+1:i=l}return Gl(i,ke)}function so(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n],a=t?t(u):u;if(!n||!Ma(a,s)){var s=a;i[o++]=0===u?0:u}}return i}function co(e){return"number"==typeof e?e:fs(e)?Ae:+e}function lo(e){if("string"==typeof e)return e;if(hf(e))return h(e,lo)+"";if(fs(e))return sp?sp.call(e):"";var t=e+"";return"0"==t&&1/e==-Re?"-0":t}function po(e,t,n){var r=-1,o=p,i=e.length,u=!0,a=[],s=a;if(n)u=!1,o=f;else if(i>=re){var c=t?null:bp(e);if(c)return z(c);u=!1,o=k,s=new dn}else s=t?[]:a;e:for(;++r<i;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,u&&h===h){for(var d=s.length;d--;)if(s[d]===h)continue e;t&&s.push(h),a.push(l)}else o(s,h,n)||(s!==a&&s.push(h),a.push(l))}return a}function fo(e,t){return t=So(t,e),null==(e=Wi(e,t))||delete e[$i(vu(t))]}function ho(e,t,n,r){return no(e,t,n(hr(e,t)),r)}function yo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function go(e,t){var n=e;return n instanceof b&&(n=n.value()),y(t,function(e,t){return t.func.apply(t.thisArg,d([e],t.args))},n)}function vo(e,t,n){var r=e.length;if(r<2)return r?po(e[0]):[];for(var o=-1,i=Yc(r);++o<r;)for(var u=e[o],a=-1;++a<r;)a!=o&&(i[o]=or(i[o]||u,e[a],t,n));return po(cr(i,1),t,n)}function bo(e,t,n){for(var r=-1,o=e.length,i=t.length,u={};++r<o;){var a=r<i?t[r]:ne;n(u,e[r],a)}return u}function mo(e){return Wa(e)?e:[]}function _o(e){return"function"==typeof e?e:Ic}function So(e,t){return hf(e)?e:xi(e,t)?[e]:Pp(ws(e))}function To(e,t,n){var r=e.length;return n=n===ne?r:n,!t&&n>=r?e:oo(e,t,n)}function wo(e,t){if(t)return e.slice();var n=e.length,r=Tl?Tl(n):new e.constructor(n);return e.copy(r),r}function Oo(e){var t=new e.constructor(e.byteLength);return new Sl(t).set(new Sl(e)),t}function Co(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Io(e){var t=new e.constructor(e.source,qt.exec(e));return t.lastIndex=e.lastIndex,t}function Po(e){return ap?rl(ap.call(e)):{}}function Eo(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function jo(e,t){if(e!==t){var n=e!==ne,r=null===e,o=e===e,i=fs(e),u=t!==ne,a=null===t,s=t===t,c=fs(t);if(!a&&!c&&!i&&e>t||i&&u&&s&&!a&&!c||r&&u&&s||!n&&s||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||a&&n&&o||!u&&o||!s)return-1}return 0}function Ro(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,u=o.length,a=n.length;++r<u;){var s=jo(o[r],i[r]);if(s){if(r>=a)return s;return s*("desc"==n[r]?-1:1)}}return e.index-t.index}function No(e,t,n,r){for(var o=-1,i=e.length,u=n.length,a=-1,s=t.length,c=Ml(i-u,0),l=Yc(s+c),p=!r;++a<s;)l[a]=t[a];for(;++o<u;)(p||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[a++]=e[o++];return l}function xo(e,t,n,r){for(var o=-1,i=e.length,u=-1,a=n.length,s=-1,c=t.length,l=Ml(i-a,0),p=Yc(l+c),f=!r;++o<l;)p[o]=e[o];for(var h=o;++s<c;)p[h+s]=t[s];for(;++u<a;)(f||o<i)&&(p[h+n[u]]=e[o++]);return p}function Ao(e,t){var n=-1,r=e.length;for(t||(t=Yc(r));++n<r;)t[n]=e[n];return t}function Uo(e,t,n,r){var o=!n;n||(n={});for(var i=-1,u=t.length;++i<u;){var a=t[i],s=r?r(n[a],e[a],a,n,e):ne;s===ne&&(s=e[a]),o?Xn(n,a,s):Gn(n,a,s)}return n}function ko(e,t){return Uo(e,_p(e),t)}function Lo(e,t){return Uo(e,Sp(e),t)}function Do(e,t){return function(n,r){var o=hf(n)?u:Qn,i=t?t():{};return o(n,e,vi(r,2),i)}}function Fo(e){return Zr(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:ne,u=o>2?n[2]:ne;for(i=e.length>3&&"function"==typeof i?(o--,i):ne,u&&Ni(n[0],n[1],u)&&(i=o<3?ne:i,o=1),t=rl(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}function Bo(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,u=rl(n);(t?i--:++i<o)&&!1!==r(u[i],i,u););return n}}function qo(e){return function(t,n,r){for(var o=-1,i=rl(t),u=r(t),a=u.length;a--;){var s=u[e?a:++o];if(!1===n(i[s],s,i))break}return t}}function Mo(e,t,n){function r(){return(this&&this!==Rn&&this instanceof r?i:e).apply(o?n:this,arguments)}var o=t&de,i=Ho(e);return r}function Go(e){return function(t){t=ws(t);var n=M(t)?Y(t):ne,r=n?n[0]:t.charAt(0),o=n?To(n,1).join(""):t.slice(1);return r[e]()+o}}function Wo(e){return function(t){return y(Sc(tc(t).replace(fn,"")),e,"")}}function Ho(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=cp(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function Ko(e,t,n){function r(){for(var u=arguments.length,a=Yc(u),s=u,c=gi(r);s--;)a[s]=arguments[s];var l=u<3&&a[0]!==c&&a[u-1]!==c?[]:V(a,c);return(u-=l.length)<n?ni(e,t,Qo,r.placeholder,ne,a,l,ne,ne,n-u):i(this&&this!==Rn&&this instanceof r?o:e,this,a)}var o=Ho(e);return r}function Vo(e){return function(t,n,r){var o=rl(t);if(!Ga(t)){var i=vi(n,3);t=Ls(t),n=function(e){return i(o[e],e,o)}}var u=e(t,n,r);return u>-1?o[i?t[u]:u]:ne}}function zo(e){return fi(function(t){var n=t.length,r=n,i=o.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new ul(ie);if(i&&!a&&"wrapper"==yi(u))var a=new o([],!0)}for(r=a?r:n;++r<n;){u=t[r];var s=yi(u),c="wrapper"==s?mp(u):ne;a=c&&Ui(c[0])&&c[1]==(Se|ve|me|Te)&&!c[4].length&&1==c[9]?a[yi(c[0])].apply(a,c[3]):1==u.length&&Ui(u)?a[s]():a.thru(u)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&hf(r))return a.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function Qo(e,t,n,r,o,i,u,a,s,c){function l(){for(var v=arguments.length,b=Yc(v),m=v;m--;)b[m]=arguments[m];if(d)var _=gi(l),S=F(b,_);if(r&&(b=No(b,r,o,d)),i&&(b=xo(b,i,u,d)),v-=S,d&&v<c){var T=V(b,_);return ni(e,t,Qo,l.placeholder,n,b,T,a,s,c-v)}var w=f?n:this,O=h?w[e]:e;return v=b.length,a?b=Hi(b,a):y&&v>1&&b.reverse(),p&&s<v&&(b.length=s),this&&this!==Rn&&this instanceof l&&(O=g||Ho(O)),O.apply(w,b)}var p=t&Se,f=t&de,h=t&ye,d=t&(ve|be),y=t&we,g=h?ne:Ho(e);return l}function $o(e,t){return function(n,r){return Sr(n,e,t(r),{})}}function Jo(e,t){return function(n,r){var o;if(n===ne&&r===ne)return t;if(n!==ne&&(o=n),r!==ne){if(o===ne)return r;"string"==typeof n||"string"==typeof r?(n=lo(n),r=lo(r)):(n=co(n),r=co(r)),o=e(n,r)}return o}}function Xo(e){return fi(function(t){return t=h(t,A(vi())),Zr(function(n){var r=this;return e(t,function(e){return i(e,r,n)})})})}function Yo(e,t){t=t===ne?" ":lo(t);var n=t.length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,Ul(e/X(t)));return M(t)?To(Y(r),0,e).join(""):r.slice(0,e)}function Zo(e,t,n,r){function o(){for(var t=-1,s=arguments.length,c=-1,l=r.length,p=Yc(l+s),f=this&&this!==Rn&&this instanceof o?a:e;++c<l;)p[c]=r[c];for(;s--;)p[c++]=arguments[++t];return i(f,u?n:this,p)}var u=t&de,a=Ho(e);return o}function ei(e){return function(t,n,r){return r&&"number"!=typeof r&&Ni(t,n,r)&&(n=r=ne),t=vs(t),n===ne?(n=t,t=0):n=vs(n),r=r===ne?t<n?1:-1:vs(r),Xr(t,n,r,e)}}function ti(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=_s(t),n=_s(n)),e(t,n)}}function ni(e,t,n,r,o,i,u,a,s,c){var l=t&ve,p=l?u:ne,f=l?ne:u,h=l?i:ne,d=l?ne:i;t|=l?me:_e,(t&=~(l?_e:me))&ge||(t&=~(de|ye));var y=[e,t,o,h,p,d,f,a,s,c],g=n.apply(ne,y);return Ui(e)&&Op(g,y),g.placeholder=r,Vi(g,e,t)}function ri(e){var t=nl[e];return function(e,n){if(e=_s(e),n=null==n?0:Gl(bs(n),292)){var r=(ws(e)+"e").split("e");return r=(ws(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function oi(e){return function(t){var n=Tp(t);return n==ze?H(t):n==Ze?Q(t):x(t,e(t))}}function ii(e,t,n,r,o,i,u,a){var s=t&ye;if(!s&&"function"!=typeof e)throw new ul(ie);var c=r?r.length:0;if(c||(t&=~(me|_e),r=o=ne),u=u===ne?u:Ml(bs(u),0),a=a===ne?a:bs(a),c-=o?o.length:0,t&_e){var l=r,p=o;r=o=ne}var f=s?ne:mp(e),h=[e,t,n,r,o,l,p,i,u,a];if(f&&Bi(h,f),e=h[0],t=h[1],n=h[2],r=h[3],o=h[4],a=h[9]=h[9]===ne?s?0:e.length:Ml(h[9]-c,0),!a&&t&(ve|be)&&(t&=~(ve|be)),t&&t!=de)d=t==ve||t==be?Ko(e,t,a):t!=me&&t!=(de|me)||o.length?Qo.apply(ne,h):Zo(e,t,n,r);else var d=Mo(e,t,n);return Vi((f?dp:Op)(d,h),e,t)}function ui(e,t,n,r){return e===ne||Ma(e,cl[n])&&!fl.call(r,n)?t:e}function ai(e,t,n,r,o,i){return es(e)&&es(t)&&(i.set(t,e),Mr(e,t,ne,ai,i),i.delete(t)),e}function si(e){return cs(e)?ne:e}function ci(e,t,n,r,o,i){var u=n&fe,a=e.length,s=t.length;if(a!=s&&!(u&&s>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,p=!0,f=n&he?new dn:ne;for(i.set(e,t),i.set(t,e);++l<a;){var h=e[l],d=t[l];if(r)var y=u?r(d,h,l,t,e,i):r(h,d,l,e,t,i);if(y!==ne){if(y)continue;p=!1;break}if(f){if(!v(t,function(e,t){if(!k(f,t)&&(h===e||o(h,e,n,r,i)))return f.push(t)})){p=!1;break}}else if(h!==d&&!o(h,d,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function li(e,t,n,r,o,i,u){switch(n){case ut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case it:return!(e.byteLength!=t.byteLength||!i(new Sl(e),new Sl(t)));case Me:case Ge:case Qe:return Ma(+e,+t);case He:return e.name==t.name&&e.message==t.message;case Ye:case et:return e==t+"";case ze:var a=H;case Ze:var s=r&fe;if(a||(a=z),e.size!=t.size&&!s)return!1;var c=u.get(e);if(c)return c==t;r|=he,u.set(e,t);var l=ci(a(e),a(t),r,o,i,u);return u.delete(e),l;case tt:if(ap)return ap.call(e)==ap.call(t)}return!1}function pi(e,t,n,r,o,i){var u=n&fe,a=hi(e),s=a.length;if(s!=hi(t).length&&!u)return!1;for(var c=s;c--;){var l=a[c];if(!(u?l in t:fl.call(t,l)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);for(var h=u;++c<s;){l=a[c];var d=e[l],y=t[l];if(r)var g=u?r(y,d,l,t,e,i):r(d,y,l,e,t,i);if(!(g===ne?d===y||o(d,y,n,r,i):g)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var v=e.constructor,b=t.constructor;v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(f=!1)}return i.delete(e),i.delete(t),f}function fi(e){return Ip(Gi(e,ne,cu),e+"")}function hi(e){return dr(e,Ls,_p)}function di(e){return dr(e,Ds,Sp)}function yi(e){for(var t=e.name+"",n=ep[t],r=fl.call(ep,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function gi(e){return(fl.call(n,"placeholder")?n:e).placeholder}function vi(){var e=n.iteratee||Pc;return e=e===Pc?Ur:e,arguments.length?e(arguments[0],arguments[1]):e}function bi(e,t){var n=e.__data__;return Ai(t)?n["string"==typeof t?"string":"hash"]:n.map}function mi(e){for(var t=Ls(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Di(o)]}return t}function _i(e,t){var n=q(e,t);return Rr(n)?n:ne}function Si(e){var t=fl.call(e,jl),n=e[jl];try{e[jl]=ne;var r=!0}catch(e){}var o=yl.call(e);return r&&(t?e[jl]=n:delete e[jl]),o}function Ti(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],u=i.size;switch(i.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=Gl(t,e+u);break;case"takeRight":e=Ml(e,t-u)}}return{start:e,end:t}}function wi(e){var t=e.match(kt);return t?t[1].split(Lt):[]}function Oi(e,t,n){t=So(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var u=$i(t[r]);if(!(i=null!=e&&n(e,u)))break;e=e[u]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Za(o)&&Ri(u,o)&&(hf(e)||ff(e))}function Ci(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&fl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ii(e){return"function"!=typeof e.constructor||Li(e)?{}:cp(wl(e))}function Pi(e,t,n){var r=e.constructor;switch(t){case it:return Oo(e);case Me:case Ge:return new r(+e);case ut:return Co(e,n);case at:case st:case ct:case lt:case pt:case ft:case ht:case dt:case yt:return Eo(e,n);case ze:return new r;case Qe:case et:return new r(e);case Ye:return Io(e);case Ze:return new r;case tt:return Po(e)}}function Ei(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ut,"{\n/* [wrapped with "+t+"] */\n")}function ji(e){return hf(e)||ff(e)||!!(Pl&&e&&e[Pl])}function Ri(e,t){var n=typeof e;return!!(t=null==t?Ne:t)&&("number"==n||"symbol"!=n&&Kt.test(e))&&e>-1&&e%1==0&&e<t}function Ni(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&Ri(t,n.length):"string"==r&&t in n)&&Ma(n[t],e)}function xi(e,t){if(hf(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fs(e))||(Pt.test(e)||!It.test(e)||null!=t&&e in rl(t))}function Ai(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ui(e){var t=yi(e),r=n[t];if("function"!=typeof r||!(t in b.prototype))return!1;if(e===r)return!0;var o=mp(r);return!!o&&e===o[0]}function ki(e){return!!dl&&dl in e}function Li(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||cl)}function Di(e){return e===e&&!es(e)}function Fi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ne||e in rl(n)))}}function Bi(e,t){var n=e[1],r=t[1],o=n|r,i=o<(de|ye|Se),u=r==Se&&n==ve||r==Se&&n==Te&&e[7].length<=t[8]||r==(Se|Te)&&t[7].length<=t[8]&&n==ve;if(!i&&!u)return e;r&de&&(e[2]=t[2],o|=n&de?0:ge);var a=t[3];if(a){var s=e[3];e[3]=s?No(s,a,t[4]):a,e[4]=s?V(e[3],se):t[4]}return a=t[5],a&&(s=e[5],e[5]=s?xo(s,a,t[6]):a,e[6]=s?V(e[5],se):t[6]),a=t[7],a&&(e[7]=a),r&Se&&(e[8]=null==e[8]?t[8]:Gl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function qi(e){var t=[];if(null!=e)for(var n in rl(e))t.push(n);return t}function Mi(e){return yl.call(e)}function Gi(e,t,n){return t=Ml(t===ne?e.length-1:t,0),function(){for(var r=arguments,o=-1,u=Ml(r.length-t,0),a=Yc(u);++o<u;)a[o]=r[t+o];o=-1;for(var s=Yc(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),i(e,this,s)}}function Wi(e,t){return t.length<2?e:hr(e,oo(t,0,-1))}function Hi(e,t){for(var n=e.length,r=Gl(t.length,n),o=Ao(e);r--;){var i=t[r];e[r]=Ri(i,n)?o[i]:ne}return e}function Ki(e,t){if("__proto__"!=t)return e[t]}function Vi(e,t,n){var r=t+"";return Ip(e,Ei(r,Xi(wi(r),n)))}function zi(e){var t=0,n=0;return function(){var r=Wl(),o=Pe-(r-n);if(n=r,o>0){if(++t>=Ie)return arguments[0]}else t=0;return e.apply(ne,arguments)}}function Qi(e,t){var n=-1,r=e.length,o=r-1;for(t=t===ne?r:t;++n<t;){var i=Jr(n,o),u=e[i];e[i]=e[n],e[n]=u}return e.length=t,e}function $i(e){if("string"==typeof e||fs(e))return e;var t=e+"";return"0"==t&&1/e==-Re?"-0":t}function Ji(e){if(null!=e){try{return pl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Xi(e,t){return a(De,function(n){var r="_."+n[0];t&n[1]&&!p(e,r)&&e.push(r)}),e.sort()}function Yi(e){if(e instanceof b)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=Ao(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Zi(e,t,n){t=(n?Ni(e,t,n):t===ne)?1:Ml(bs(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,u=Yc(Ul(r/t));o<r;)u[i++]=oo(e,o,o+=t);return u}function eu(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function tu(){var e=arguments.length;if(!e)return[];for(var t=Yc(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return d(hf(n)?Ao(n):[n],cr(t,1))}function nu(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:bs(t),oo(e,t<0?0:t,r)):[]}function ru(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:bs(t),t=r-t,oo(e,0,t<0?0:t)):[]}function ou(e,t){return e&&e.length?yo(e,vi(t,3),!0,!0):[]}function iu(e,t){return e&&e.length?yo(e,vi(t,3),!0):[]}function uu(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Ni(e,t,n)&&(n=0,r=o),ar(e,t,n,r)):[]}function au(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:bs(n);return o<0&&(o=Ml(r+o,0)),S(e,vi(t,3),o)}function su(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==ne&&(o=bs(n),o=n<0?Ml(r+o,0):Gl(o,r-1)),S(e,vi(t,3),o,!0)}function cu(e){return(null==e?0:e.length)?cr(e,1):[]}function lu(e){return(null==e?0:e.length)?cr(e,Re):[]}function pu(e,t){return(null==e?0:e.length)?(t=t===ne?1:bs(t),cr(e,t)):[]}function fu(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function hu(e){return e&&e.length?e[0]:ne}function du(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:bs(n);return o<0&&(o=Ml(r+o,0)),T(e,t,o)}function yu(e){return(null==e?0:e.length)?oo(e,0,-1):[]}function gu(e,t){return null==e?"":Bl.call(e,t)}function vu(e){var t=null==e?0:e.length;return t?e[t-1]:ne}function bu(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==ne&&(o=bs(n),o=o<0?Ml(r+o,0):Gl(o,r-1)),t===t?J(e,t,o):S(e,O,o,!0)}function mu(e,t){return e&&e.length?Wr(e,bs(t)):ne}function _u(e,t){return e&&e.length&&t&&t.length?Qr(e,t):e}function Su(e,t,n){return e&&e.length&&t&&t.length?Qr(e,t,vi(n,2)):e}function Tu(e,t,n){return e&&e.length&&t&&t.length?Qr(e,t,ne,n):e}function wu(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=vi(t,3);++r<i;){var u=e[r];t(u,r,e)&&(n.push(u),o.push(r))}return $r(e,o),n}function Ou(e){return null==e?e:Vl.call(e)}function Cu(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ni(e,t,n)?(t=0,n=r):(t=null==t?0:bs(t),n=n===ne?r:bs(n)),oo(e,t,n)):[]}function Iu(e,t){return uo(e,t)}function Pu(e,t,n){return ao(e,t,vi(n,2))}function Eu(e,t){var n=null==e?0:e.length;if(n){var r=uo(e,t);if(r<n&&Ma(e[r],t))return r}return-1}function ju(e,t){return uo(e,t,!0)}function Ru(e,t,n){return ao(e,t,vi(n,2),!0)}function Nu(e,t){if(null==e?0:e.length){var n=uo(e,t,!0)-1;if(Ma(e[n],t))return n}return-1}function xu(e){return e&&e.length?so(e):[]}function Au(e,t){return e&&e.length?so(e,vi(t,2)):[]}function Uu(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]}function ku(e,t,n){return e&&e.length?(t=n||t===ne?1:bs(t),oo(e,0,t<0?0:t)):[]}function Lu(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:bs(t),t=r-t,oo(e,t<0?0:t,r)):[]}function Du(e,t){return e&&e.length?yo(e,vi(t,3),!1,!0):[]}function Fu(e,t){return e&&e.length?yo(e,vi(t,3)):[]}function Bu(e){return e&&e.length?po(e):[]}function qu(e,t){return e&&e.length?po(e,vi(t,2)):[]}function Mu(e,t){return t="function"==typeof t?t:ne,e&&e.length?po(e,ne,t):[]}function Gu(e){if(!e||!e.length)return[];var t=0;return e=l(e,function(e){if(Wa(e))return t=Ml(e.length,t),!0}),N(t,function(t){return h(e,I(t))})}function Wu(e,t){if(!e||!e.length)return[];var n=Gu(e);return null==t?n:h(n,function(e){return i(t,ne,e)})}function Hu(e,t){return bo(e||[],t||[],Gn)}function Ku(e,t){return bo(e||[],t||[],no)}function Vu(e){var t=n(e);return t.__chain__=!0,t}function zu(e,t){return t(e),e}function Qu(e,t){return t(e)}function $u(){return Vu(this)}function Ju(){return new o(this.value(),this.__chain__)}function Xu(){this.__values__===ne&&(this.__values__=gs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ne:this.__values__[this.__index__++]}}function Yu(){return this}function Zu(e){for(var t,n=this;n instanceof r;){var o=Yi(n);o.__index__=0,o.__values__=ne,t?i.__wrapped__=o:t=o;var i=o;n=n.__wrapped__}return i.__wrapped__=e,t}function ea(){var e=this.__wrapped__;if(e instanceof b){var t=e;return this.__actions__.length&&(t=new b(this)),t=t.reverse(),t.__actions__.push({func:Qu,args:[Ou],thisArg:ne}),new o(t,this.__chain__)}return this.thru(Ou)}function ta(){return go(this.__wrapped__,this.__actions__)}function na(e,t,n){var r=hf(e)?c:ir;return n&&Ni(e,t,n)&&(t=ne),r(e,vi(t,3))}function ra(e,t){return(hf(e)?l:sr)(e,vi(t,3))}function oa(e,t){return cr(la(e,t),1)}function ia(e,t){return cr(la(e,t),Re)}function ua(e,t,n){return n=n===ne?1:bs(n),cr(la(e,t),n)}function aa(e,t){return(hf(e)?a:lp)(e,vi(t,3))}function sa(e,t){return(hf(e)?s:pp)(e,vi(t,3))}function ca(e,t,n,r){e=Ga(e)?e:$s(e),n=n&&!r?bs(n):0;var o=e.length;return n<0&&(n=Ml(o+n,0)),ps(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&T(e,t,n)>-1}function la(e,t){return(hf(e)?h:Fr)(e,vi(t,3))}function pa(e,t,n,r){return null==e?[]:(hf(t)||(t=null==t?[]:[t]),n=r?ne:n,hf(n)||(n=null==n?[]:[n]),Hr(e,t,n))}function fa(e,t,n){var r=hf(e)?y:E,o=arguments.length<3;return r(e,vi(t,4),n,o,lp)}function ha(e,t,n){var r=hf(e)?g:E,o=arguments.length<3;return r(e,vi(t,4),n,o,pp)}function da(e,t){return(hf(e)?l:sr)(e,Ea(vi(t,3)))}function ya(e){return(hf(e)?Nn:eo)(e)}function ga(e,t,n){return t=(n?Ni(e,t,n):t===ne)?1:bs(t),(hf(e)?xn:to)(e,t)}function va(e){return(hf(e)?Un:ro)(e)}function ba(e){if(null==e)return 0;if(Ga(e))return ps(e)?X(e):e.length;var t=Tp(e);return t==ze||t==Ze?e.size:kr(e).length}function ma(e,t,n){var r=hf(e)?v:io;return n&&Ni(e,t,n)&&(t=ne),r(e,vi(t,3))}function _a(e,t){if("function"!=typeof t)throw new ul(ie);return e=bs(e),function(){if(--e<1)return t.apply(this,arguments)}}function Sa(e,t,n){return t=n?ne:t,t=e&&null==t?e.length:t,ii(e,Se,ne,ne,ne,ne,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new ul(ie);return e=bs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ne),n}}function wa(e,t,n){t=n?ne:t;var r=ii(e,ve,ne,ne,ne,ne,ne,t);return r.placeholder=wa.placeholder,r}function Oa(e,t,n){t=n?ne:t;var r=ii(e,be,ne,ne,ne,ne,ne,t);return r.placeholder=Oa.placeholder,r}function Ca(e,t,n){function r(t){var n=f,r=h;return f=h=ne,b=t,y=e.apply(r,n)}function o(e){return b=e,g=Cp(a,t),m?r(e):y}function i(e){var n=e-v,r=e-b,o=t-n;return _?Gl(o,d-r):o}function u(e){var n=e-v,r=e-b;return v===ne||n>=t||n<0||_&&r>=d}function a(){var e=ef();if(u(e))return s(e);g=Cp(a,i(e))}function s(e){return g=ne,S&&f?r(e):(f=h=ne,y)}function c(){g!==ne&&vp(g),b=0,f=v=h=g=ne}function l(){return g===ne?y:s(ef())}function p(){var e=ef(),n=u(e);if(f=arguments,h=this,v=e,n){if(g===ne)return o(v);if(_)return g=Cp(a,t),r(v)}return g===ne&&(g=Cp(a,t)),y}var f,h,d,y,g,v,b=0,m=!1,_=!1,S=!0;if("function"!=typeof e)throw new ul(ie);return t=_s(t)||0,es(n)&&(m=!!n.leading,_="maxWait"in n,d=_?Ml(_s(n.maxWait)||0,t):d,S="trailing"in n?!!n.trailing:S),p.cancel=c,p.flush=l,p}function Ia(e){return ii(e,we)}function Pa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ul(ie);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=e.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(Pa.Cache||un),n}function Ea(e){if("function"!=typeof e)throw new ul(ie);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ja(e){return Ta(2,e)}function Ra(e,t){if("function"!=typeof e)throw new ul(ie);return t=t===ne?t:bs(t),Zr(e,t)}function Na(e,t){if("function"!=typeof e)throw new ul(ie);return t=null==t?0:Ml(bs(t),0),Zr(function(n){var r=n[t],o=To(n,0,t);return r&&d(o,r),i(e,this,o)})}function xa(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ul(ie);return es(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ca(e,t,{leading:r,maxWait:t,trailing:o})}function Aa(e){return Sa(e,1)}function Ua(e,t){return af(_o(t),e)}function ka(){if(!arguments.length)return[];var e=arguments[0];return hf(e)?e:[e]}function La(e){return er(e,pe)}function Da(e,t){return t="function"==typeof t?t:ne,er(e,pe,t)}function Fa(e){return er(e,ce|pe)}function Ba(e,t){return t="function"==typeof t?t:ne,er(e,ce|pe,t)}function qa(e,t){return null==t||nr(e,t,Ls(t))}function Ma(e,t){return e===t||e!==e&&t!==t}function Ga(e){return null!=e&&Za(e.length)&&!Xa(e)}function Wa(e){return ts(e)&&Ga(e)}function Ha(e){return!0===e||!1===e||ts(e)&&yr(e)==Me}function Ka(e){return ts(e)&&1===e.nodeType&&!cs(e)}function Va(e){if(null==e)return!0;if(Ga(e)&&(hf(e)||"string"==typeof e||"function"==typeof e.splice||yf(e)||_f(e)||ff(e)))return!e.length;var t=Tp(e);if(t==ze||t==Ze)return!e.size;if(Li(e))return!kr(e).length;for(var n in e)if(fl.call(e,n))return!1;return!0}function za(e,t){return Ir(e,t)}function Qa(e,t,n){n="function"==typeof n?n:ne;var r=n?n(e,t):ne;return r===ne?Ir(e,t,ne,n):!!r}function $a(e){if(!ts(e))return!1;var t=yr(e);return t==He||t==We||"string"==typeof e.message&&"string"==typeof e.name&&!cs(e)}function Ja(e){return"number"==typeof e&&Fl(e)}function Xa(e){if(!es(e))return!1;var t=yr(e);return t==Ke||t==Ve||t==qe||t==Xe}function Ya(e){return"number"==typeof e&&e==bs(e)}function Za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ne}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}function ns(e,t){return e===t||jr(e,t,mi(t))}function rs(e,t,n){return n="function"==typeof n?n:ne,jr(e,t,mi(t),n)}function os(e){return ss(e)&&e!=+e}function is(e){if(wp(e))throw new el(oe);return Rr(e)}function us(e){return null===e}function as(e){return null==e}function ss(e){return"number"==typeof e||ts(e)&&yr(e)==Qe}function cs(e){if(!ts(e)||yr(e)!=Je)return!1;var t=wl(e);if(null===t)return!0;var n=fl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&pl.call(n)==gl}function ls(e){return Ya(e)&&e>=-Ne&&e<=Ne}function ps(e){return"string"==typeof e||!hf(e)&&ts(e)&&yr(e)==et}function fs(e){return"symbol"==typeof e||ts(e)&&yr(e)==tt}function hs(e){return e===ne}function ds(e){return ts(e)&&Tp(e)==rt}function ys(e){return ts(e)&&yr(e)==ot}function gs(e){if(!e)return[];if(Ga(e))return ps(e)?Y(e):Ao(e);if(El&&e[El])return W(e[El]());var t=Tp(e);return(t==ze?H:t==Ze?z:$s)(e)}function vs(e){if(!e)return 0===e?e:0;if((e=_s(e))===Re||e===-Re){return(e<0?-1:1)*xe}return e===e?e:0}function bs(e){var t=vs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?Zn(bs(e),0,Ue):0}function _s(e){if("number"==typeof e)return e;if(fs(e))return Ae;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Nt,"");var n=Gt.test(e);return n||Ht.test(e)?Pn(e.slice(2),n?2:8):Mt.test(e)?Ae:+e}function Ss(e){return Uo(e,Ds(e))}function Ts(e){return e?Zn(bs(e),-Ne,Ne):0===e?e:0}function ws(e){return null==e?"":lo(e)}function Os(e,t){var n=cp(e);return null==t?n:$n(n,t)}function Cs(e,t){return _(e,vi(t,3),lr)}function Is(e,t){return _(e,vi(t,3),pr)}function Ps(e,t){return null==e?e:fp(e,vi(t,3),Ds)}function Es(e,t){return null==e?e:hp(e,vi(t,3),Ds)}function js(e,t){return e&&lr(e,vi(t,3))}function Rs(e,t){return e&&pr(e,vi(t,3))}function Ns(e){return null==e?[]:fr(e,Ls(e))}function xs(e){return null==e?[]:fr(e,Ds(e))}function As(e,t,n){var r=null==e?ne:hr(e,t);return r===ne?n:r}function Us(e,t){return null!=e&&Oi(e,t,vr)}function ks(e,t){return null!=e&&Oi(e,t,br)}function Ls(e){return Ga(e)?jn(e):kr(e)}function Ds(e){return Ga(e)?jn(e,!0):Lr(e)}function Fs(e,t){var n={};return t=vi(t,3),lr(e,function(e,r,o){Xn(n,t(e,r,o),e)}),n}function Bs(e,t){var n={};return t=vi(t,3),lr(e,function(e,r,o){Xn(n,r,t(e,r,o))}),n}function qs(e,t){return Ms(e,Ea(vi(t)))}function Ms(e,t){if(null==e)return{};var n=h(di(e),function(e){return[e]});return t=vi(t),Vr(e,n,function(e,n){return t(e,n[0])})}function Gs(e,t,n){t=So(t,e);var r=-1,o=t.length;for(o||(o=1,e=ne);++r<o;){var i=null==e?ne:e[$i(t[r])];i===ne&&(r=o,i=n),e=Xa(i)?i.call(e):i}return e}function Ws(e,t,n){return null==e?e:no(e,t,n)}function Hs(e,t,n,r){return r="function"==typeof r?r:ne,null==e?e:no(e,t,n,r)}function Ks(e,t,n){var r=hf(e),o=r||yf(e)||_f(e);if(t=vi(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:es(e)&&Xa(i)?cp(wl(e)):{}}return(o?a:lr)(e,function(e,r,o){return t(n,e,r,o)}),n}function Vs(e,t){return null==e||fo(e,t)}function zs(e,t,n){return null==e?e:ho(e,t,_o(n))}function Qs(e,t,n,r){return r="function"==typeof r?r:ne,null==e?e:ho(e,t,_o(n),r)}function $s(e){return null==e?[]:U(e,Ls(e))}function Js(e){return null==e?[]:U(e,Ds(e))}function Xs(e,t,n){return n===ne&&(n=t,t=ne),n!==ne&&(n=_s(n),n=n===n?n:0),t!==ne&&(t=_s(t),t=t===t?t:0),Zn(_s(e),t,n)}function Ys(e,t,n){return t=vs(t),n===ne?(n=t,t=0):n=vs(n),e=_s(e),mr(e,t,n)}function Zs(e,t,n){if(n&&"boolean"!=typeof n&&Ni(e,t,n)&&(t=n=ne),n===ne&&("boolean"==typeof t?(n=t,t=ne):"boolean"==typeof e&&(n=e,e=ne)),e===ne&&t===ne?(e=0,t=1):(e=vs(e),t===ne?(t=e,e=0):t=vs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Kl();return Gl(e+o*(t-e+In("1e-"+((o+"").length-1))),t)}return Jr(e,t)}function ec(e){return Vf(ws(e).toLowerCase())}function tc(e){return(e=ws(e))&&e.replace(Vt,Wn).replace(hn,"")}function nc(e,t,n){e=ws(e),t=lo(t);var r=e.length;n=n===ne?r:Zn(bs(n),0,r);var o=n;return(n-=t.length)>=0&&e.slice(n,o)==t}function rc(e){return e=ws(e),e&&Tt.test(e)?e.replace(_t,Hn):e}function oc(e){return e=ws(e),e&&Rt.test(e)?e.replace(jt,"\\$&"):e}function ic(e,t,n){e=ws(e),t=bs(t);var r=t?X(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Yo(kl(o),n)+e+Yo(Ul(o),n)}function uc(e,t,n){e=ws(e),t=bs(t);var r=t?X(e):0;return t&&r<t?e+Yo(t-r,n):e}function ac(e,t,n){e=ws(e),t=bs(t);var r=t?X(e):0;return t&&r<t?Yo(t-r,n)+e:e}function sc(e,t,n){return n||null==t?t=0:t&&(t=+t),Hl(ws(e).replace(xt,""),t||0)}function cc(e,t,n){return t=(n?Ni(e,t,n):t===ne)?1:bs(t),Yr(ws(e),t)}function lc(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function pc(e,t,n){return n&&"number"!=typeof n&&Ni(e,t,n)&&(t=n=ne),(n=n===ne?Ue:n>>>0)?(e=ws(e),e&&("string"==typeof t||null!=t&&!bf(t))&&!(t=lo(t))&&M(e)?To(Y(e),0,n):e.split(t,n)):[]}function fc(e,t,n){return e=ws(e),n=null==n?0:Zn(bs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t}function hc(e,t,r){var o=n.templateSettings;r&&Ni(e,t,r)&&(t=ne),e=ws(e),t=Cf({},t,o,ui);var i,u,a=Cf({},t.imports,o.imports,ui),s=Ls(a),c=U(a,s),l=0,p=t.interpolate||zt,f="__p += '",h=ol((t.escape||zt).source+"|"+p.source+"|"+(p===Ct?Bt:zt).source+"|"+(t.evaluate||zt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++mn+"]")+"\n";e.replace(h,function(t,n,r,o,a,s){return r||(r=o),f+=e.slice(l,s).replace(Qt,B),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),a&&(u=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t}),f+="';\n";var y=t.variable;y||(f="with (obj) {\n"+f+"\n}\n"),f=(u?f.replace(gt,""):f).replace(vt,"$1").replace(bt,"$1;"),f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=zf(function(){return tl(s,d+"return "+f).apply(ne,c)});if(g.source=f,$a(g))throw g;return g}function dc(e){return ws(e).toLowerCase()}function yc(e){return ws(e).toUpperCase()}function gc(e,t,n){if((e=ws(e))&&(n||t===ne))return e.replace(Nt,"");if(!e||!(t=lo(t)))return e;var r=Y(e),o=Y(t);return To(r,L(r,o),D(r,o)+1).join("")}function vc(e,t,n){if((e=ws(e))&&(n||t===ne))return e.replace(At,"");if(!e||!(t=lo(t)))return e;var r=Y(e);return To(r,0,D(r,Y(t))+1).join("")}function bc(e,t,n){if((e=ws(e))&&(n||t===ne))return e.replace(xt,"");if(!e||!(t=lo(t)))return e;var r=Y(e);return To(r,L(r,Y(t))).join("")}function mc(e,t){var n=Oe,r=Ce;if(es(t)){var o="separator"in t?t.separator:o;n="length"in t?bs(t.length):n,r="omission"in t?lo(t.omission):r}e=ws(e);var i=e.length;if(M(e)){var u=Y(e);i=u.length}if(n>=i)return e;var a=n-X(r);if(a<1)return r;var s=u?To(u,0,a).join(""):e.slice(0,a);if(o===ne)return s+r;if(u&&(a+=s.length-a),bf(o)){if(e.slice(a).search(o)){var c,l=s;for(o.global||(o=ol(o.source,ws(qt.exec(o))+"g")),o.lastIndex=0;c=o.exec(l);)var p=c.index;s=s.slice(0,p===ne?a:p)}}else if(e.indexOf(lo(o),a)!=a){var f=s.lastIndexOf(o);f>-1&&(s=s.slice(0,f))}return s+r}function _c(e){return e=ws(e),e&&St.test(e)?e.replace(mt,Kn):e}function Sc(e,t,n){return e=ws(e),t=n?ne:t,t===ne?G(e)?te(e):m(e):e.match(t)||[]}function Tc(e){var t=null==e?0:e.length,n=vi();return e=t?h(e,function(e){if("function"!=typeof e[1])throw new ul(ie);return[n(e[0]),e[1]]}):[],Zr(function(n){for(var r=-1;++r<t;){var o=e[r];if(i(o[0],this,n))return i(o[1],this,n)}})}function wc(e){return tr(er(e,ce))}function Oc(e){return function(){return e}}function Cc(e,t){return null==e||e!==e?t:e}function Ic(e){return e}function Pc(e){return Ur("function"==typeof e?e:er(e,ce))}function Ec(e){return Br(er(e,ce))}function jc(e,t){return qr(e,er(t,ce))}function Rc(e,t,n){var r=Ls(t),o=fr(t,r);null!=n||es(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=fr(t,Ls(t)));var i=!(es(n)&&"chain"in n&&!n.chain),u=Xa(e);return a(o,function(n){var r=t[n];e[n]=r,u&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ao(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,d([this.value()],arguments))})}),e}function Nc(){return Rn._===this&&(Rn._=vl),this}function xc(){}function Ac(e){return e=bs(e),Zr(function(t){return Wr(t,e)})}function Uc(e){return xi(e)?I($i(e)):zr(e)}function kc(e){return function(t){return null==e?ne:hr(e,t)}}function Lc(){return[]}function Dc(){return!1}function Fc(){return{}}function Bc(){return""}function qc(){return!0}function Mc(e,t){if((e=bs(e))<1||e>Ne)return[];var n=Ue,r=Gl(e,Ue);t=vi(t),e-=Ue;for(var o=N(r,t);++n<e;)t(n);return o}function Gc(e){return hf(e)?h(e,$i):fs(e)?[e]:Ao(Pp(ws(e)))}function Wc(e){var t=++hl;return ws(e)+t}function Hc(e){return e&&e.length?ur(e,Ic,gr):ne}function Kc(e,t){return e&&e.length?ur(e,vi(t,2),gr):ne}function Vc(e){return C(e,Ic)}function zc(e,t){return C(e,vi(t,2))}function Qc(e){return e&&e.length?ur(e,Ic,Dr):ne}function $c(e,t){return e&&e.length?ur(e,vi(t,2),Dr):ne}function Jc(e){return e&&e.length?R(e,Ic):0}function Xc(e,t){return e&&e.length?R(e,vi(t,2)):0}t=null==t?Rn:Vn.defaults(Rn.Object(),t,Vn.pick(Rn,bn));var Yc=t.Array,Zc=t.Date,el=t.Error,tl=t.Function,nl=t.Math,rl=t.Object,ol=t.RegExp,il=t.String,ul=t.TypeError,al=Yc.prototype,sl=tl.prototype,cl=rl.prototype,ll=t["__core-js_shared__"],pl=sl.toString,fl=cl.hasOwnProperty,hl=0,dl=function(){var e=/[^.]+$/.exec(ll&&ll.keys&&ll.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),yl=cl.toString,gl=pl.call(rl),vl=Rn._,bl=ol("^"+pl.call(fl).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ml=An?t.Buffer:ne,_l=t.Symbol,Sl=t.Uint8Array,Tl=ml?ml.allocUnsafe:ne,wl=K(rl.getPrototypeOf,rl),Ol=rl.create,Cl=cl.propertyIsEnumerable,Il=al.splice,Pl=_l?_l.isConcatSpreadable:ne,El=_l?_l.iterator:ne,jl=_l?_l.toStringTag:ne,Rl=function(){try{var e=_i(rl,"defineProperty");return e({},"",{}),e}catch(e){}}(),Nl=t.clearTimeout!==Rn.clearTimeout&&t.clearTimeout,xl=Zc&&Zc.now!==Rn.Date.now&&Zc.now,Al=t.setTimeout!==Rn.setTimeout&&t.setTimeout,Ul=nl.ceil,kl=nl.floor,Ll=rl.getOwnPropertySymbols,Dl=ml?ml.isBuffer:ne,Fl=t.isFinite,Bl=al.join,ql=K(rl.keys,rl),Ml=nl.max,Gl=nl.min,Wl=Zc.now,Hl=t.parseInt,Kl=nl.random,Vl=al.reverse,zl=_i(t,"DataView"),Ql=_i(t,"Map"),$l=_i(t,"Promise"),Jl=_i(t,"Set"),Xl=_i(t,"WeakMap"),Yl=_i(rl,"create"),Zl=Xl&&new Xl,ep={},tp=Ji(zl),np=Ji(Ql),rp=Ji($l),op=Ji(Jl),ip=Ji(Xl),up=_l?_l.prototype:ne,ap=up?up.valueOf:ne,sp=up?up.toString:ne,cp=function(){function e(){}return function(t){if(!es(t))return{};if(Ol)return Ol(t);e.prototype=t;var n=new e;return e.prototype=ne,n}}();n.templateSettings={escape:wt,evaluate:Ot,interpolate:Ct,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,o.prototype=cp(r.prototype),o.prototype.constructor=o,b.prototype=cp(r.prototype),b.prototype.constructor=b,ee.prototype.clear=Dt,ee.prototype.delete=$t,ee.prototype.get=Jt,ee.prototype.has=Xt,ee.prototype.set=Yt,Zt.prototype.clear=en,Zt.prototype.delete=tn,Zt.prototype.get=nn,Zt.prototype.has=rn,Zt.prototype.set=on,un.prototype.clear=an,un.prototype.delete=sn,un.prototype.get=cn,un.prototype.has=ln,un.prototype.set=pn,dn.prototype.add=dn.prototype.push=yn,dn.prototype.has=gn,vn.prototype.clear=Tn,vn.prototype.delete=wn,vn.prototype.get=On,vn.prototype.has=Cn,vn.prototype.set=En;var lp=Bo(lr),pp=Bo(pr,!0),fp=qo(),hp=qo(!0),dp=Zl?function(e,t){return Zl.set(e,t),e}:Ic,yp=Rl?function(e,t){return Rl(e,"toString",{configurable:!0,enumerable:!1,value:Oc(t),writable:!0})}:Ic,gp=Zr,vp=Nl||function(e){return Rn.clearTimeout(e)},bp=Jl&&1/z(new Jl([,-0]))[1]==Re?function(e){return new Jl(e)}:xc,mp=Zl?function(e){return Zl.get(e)}:xc,_p=Ll?function(e){return null==e?[]:(e=rl(e),l(Ll(e),function(t){return Cl.call(e,t)}))}:Lc,Sp=Ll?function(e){for(var t=[];e;)d(t,_p(e)),e=wl(e);return t}:Lc,Tp=yr;(zl&&Tp(new zl(new ArrayBuffer(1)))!=ut||Ql&&Tp(new Ql)!=ze||$l&&"[object Promise]"!=Tp($l.resolve())||Jl&&Tp(new Jl)!=Ze||Xl&&Tp(new Xl)!=rt)&&(Tp=function(e){var t=yr(e),n=t==Je?e.constructor:ne,r=n?Ji(n):"";if(r)switch(r){case tp:return ut;case np:return ze;case rp:return"[object Promise]";case op:return Ze;case ip:return rt}return t});var wp=ll?Xa:Dc,Op=zi(dp),Cp=Al||function(e,t){return Rn.setTimeout(e,t)},Ip=zi(yp),Pp=function(e){var t=Pa(e,function(e){return n.size===ae&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Et,function(e,n,r,o){t.push(r?o.replace(Ft,"$1"):n||e)}),t}),Ep=Zr(function(e,t){return Wa(e)?or(e,cr(t,1,Wa,!0)):[]}),jp=Zr(function(e,t){var n=vu(t);return Wa(n)&&(n=ne),Wa(e)?or(e,cr(t,1,Wa,!0),vi(n,2)):[]}),Rp=Zr(function(e,t){var n=vu(t);return Wa(n)&&(n=ne),Wa(e)?or(e,cr(t,1,Wa,!0),ne,n):[]}),Np=Zr(function(e){var t=h(e,mo);return t.length&&t[0]===e[0]?_r(t):[]}),xp=Zr(function(e){var t=vu(e),n=h(e,mo);return t===vu(n)?t=ne:n.pop(),n.length&&n[0]===e[0]?_r(n,vi(t,2)):[]}),Ap=Zr(function(e){var t=vu(e),n=h(e,mo);return t="function"==typeof t?t:ne,t&&n.pop(),n.length&&n[0]===e[0]?_r(n,ne,t):[]}),Up=Zr(_u),kp=fi(function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return $r(e,h(t,function(e){return Ri(e,n)?+e:e}).sort(jo)),r}),Lp=Zr(function(e){return po(cr(e,1,Wa,!0))}),Dp=Zr(function(e){var t=vu(e);return Wa(t)&&(t=ne),po(cr(e,1,Wa,!0),vi(t,2))}),Fp=Zr(function(e){var t=vu(e);return t="function"==typeof t?t:ne,po(cr(e,1,Wa,!0),ne,t)}),Bp=Zr(function(e,t){return Wa(e)?or(e,t):[]}),qp=Zr(function(e){return vo(l(e,Wa))}),Mp=Zr(function(e){var t=vu(e);return Wa(t)&&(t=ne),vo(l(e,Wa),vi(t,2))}),Gp=Zr(function(e){var t=vu(e);return t="function"==typeof t?t:ne,vo(l(e,Wa),ne,t)}),Wp=Zr(Gu),Hp=Zr(function(e){var t=e.length,n=t>1?e[t-1]:ne;return n="function"==typeof n?(e.pop(),n):ne,Wu(e,n)}),Kp=fi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof b&&Ri(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Qu,args:[i],thisArg:ne}),new o(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ne),e})):this.thru(i)}),Vp=Do(function(e,t,n){fl.call(e,n)?++e[n]:Xn(e,n,1)}),zp=Vo(au),Qp=Vo(su),$p=Do(function(e,t,n){fl.call(e,n)?e[n].push(t):Xn(e,n,[t])}),Jp=Zr(function(e,t,n){var r=-1,o="function"==typeof t,u=Ga(e)?Yc(e.length):[];return lp(e,function(e){u[++r]=o?i(t,e,n):Tr(e,t,n)}),u}),Xp=Do(function(e,t,n){Xn(e,n,t)}),Yp=Do(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Zp=Zr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ni(e,t[0],t[1])?t=[]:n>2&&Ni(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,cr(t,1),[])}),ef=xl||function(){return Rn.Date.now()},tf=Zr(function(e,t,n){var r=de;if(n.length){var o=V(n,gi(tf));r|=me}return ii(e,r,t,n,o)}),nf=Zr(function(e,t,n){var r=de|ye;if(n.length){var o=V(n,gi(nf));r|=me}return ii(t,r,e,n,o)}),rf=Zr(function(e,t){return rr(e,1,t)}),of=Zr(function(e,t,n){return rr(e,_s(t)||0,n)});Pa.Cache=un;var uf=gp(function(e,t){t=1==t.length&&hf(t[0])?h(t[0],A(vi())):h(cr(t,1),A(vi()));var n=t.length;return Zr(function(r){for(var o=-1,u=Gl(r.length,n);++o<u;)r[o]=t[o].call(this,r[o]);return i(e,this,r)})}),af=Zr(function(e,t){var n=V(t,gi(af));return ii(e,me,ne,t,n)}),sf=Zr(function(e,t){var n=V(t,gi(sf));return ii(e,_e,ne,t,n)}),cf=fi(function(e,t){return ii(e,Te,ne,ne,ne,t)}),lf=ti(gr),pf=ti(function(e,t){return e>=t}),ff=wr(function(){return arguments}())?wr:function(e){return ts(e)&&fl.call(e,"callee")&&!Cl.call(e,"callee")},hf=Yc.isArray,df=Ln?A(Ln):Or,yf=Dl||Dc,gf=Dn?A(Dn):Cr,vf=Fn?A(Fn):Er,bf=Bn?A(Bn):Nr,mf=qn?A(qn):xr,_f=Mn?A(Mn):Ar,Sf=ti(Dr),Tf=ti(function(e,t){return e<=t}),wf=Fo(function(e,t){if(Li(t)||Ga(t))return void Uo(t,Ls(t),e);for(var n in t)fl.call(t,n)&&Gn(e,n,t[n])}),Of=Fo(function(e,t){Uo(t,Ds(t),e)}),Cf=Fo(function(e,t,n,r){Uo(t,Ds(t),e,r)}),If=Fo(function(e,t,n,r){Uo(t,Ls(t),e,r)}),Pf=fi(Yn),Ef=Zr(function(e,t){e=rl(e);var n=-1,r=t.length,o=r>2?t[2]:ne;for(o&&Ni(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],u=Ds(i),a=-1,s=u.length;++a<s;){var c=u[a],l=e[c];(l===ne||Ma(l,cl[c])&&!fl.call(e,c))&&(e[c]=i[c])}return e}),jf=Zr(function(e){return e.push(ne,ai),i(Uf,ne,e)}),Rf=$o(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=yl.call(t)),e[t]=n},Oc(Ic)),Nf=$o(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=yl.call(t)),fl.call(e,t)?e[t].push(n):e[t]=[n]},vi),xf=Zr(Tr),Af=Fo(function(e,t,n){Mr(e,t,n)}),Uf=Fo(function(e,t,n,r){Mr(e,t,n,r)}),kf=fi(function(e,t){var n={};if(null==e)return n;var r=!1;t=h(t,function(t){return t=So(t,e),r||(r=t.length>1),t}),Uo(e,di(e),n),r&&(n=er(n,ce|le|pe,si));for(var o=t.length;o--;)fo(n,t[o]);return n}),Lf=fi(function(e,t){return null==e?{}:Kr(e,t)}),Df=oi(Ls),Ff=oi(Ds),Bf=Wo(function(e,t,n){return t=t.toLowerCase(),e+(n?ec(t):t)}),qf=Wo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Mf=Wo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Gf=Go("toLowerCase"),Wf=Wo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Hf=Wo(function(e,t,n){return e+(n?" ":"")+Vf(t)}),Kf=Wo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Vf=Go("toUpperCase"),zf=Zr(function(e,t){try{return i(e,ne,t)}catch(e){return $a(e)?e:new el(e)}}),Qf=fi(function(e,t){return a(t,function(t){t=$i(t),Xn(e,t,tf(e[t],e))}),e}),$f=zo(),Jf=zo(!0),Xf=Zr(function(e,t){return function(n){return Tr(n,e,t)}}),Yf=Zr(function(e,t){return function(n){return Tr(e,n,t)}}),Zf=Xo(h),eh=Xo(c),th=Xo(v),nh=ei(),rh=ei(!0),oh=Jo(function(e,t){return e+t},0),ih=ri("ceil"),uh=Jo(function(e,t){return e/t},1),ah=ri("floor"),sh=Jo(function(e,t){return e*t},1),ch=ri("round"),lh=Jo(function(e,t){return e-t},0);return n.after=_a,n.ary=Sa,n.assign=wf,n.assignIn=Of,n.assignInWith=Cf,n.assignWith=If,n.at=Pf,n.before=Ta,n.bind=tf,n.bindAll=Qf,n.bindKey=nf,n.castArray=ka,n.chain=Vu,n.chunk=Zi,n.compact=eu,n.concat=tu,n.cond=Tc,n.conforms=wc,n.constant=Oc,n.countBy=Vp,n.create=Os,n.curry=wa,n.curryRight=Oa,n.debounce=Ca,n.defaults=Ef,n.defaultsDeep=jf,n.defer=rf,n.delay=of,n.difference=Ep,n.differenceBy=jp,n.differenceWith=Rp,n.drop=nu,n.dropRight=ru,n.dropRightWhile=ou,n.dropWhile=iu,n.fill=uu,n.filter=ra,n.flatMap=oa,n.flatMapDeep=ia,n.flatMapDepth=ua,n.flatten=cu,n.flattenDeep=lu,n.flattenDepth=pu,n.flip=Ia,n.flow=$f,n.flowRight=Jf,n.fromPairs=fu,n.functions=Ns,n.functionsIn=xs,n.groupBy=$p,n.initial=yu,n.intersection=Np,n.intersectionBy=xp,n.intersectionWith=Ap,n.invert=Rf,n.invertBy=Nf,n.invokeMap=Jp,n.iteratee=Pc,n.keyBy=Xp,n.keys=Ls,n.keysIn=Ds,n.map=la,n.mapKeys=Fs,n.mapValues=Bs,n.matches=Ec,n.matchesProperty=jc,n.memoize=Pa,n.merge=Af,n.mergeWith=Uf,n.method=Xf,n.methodOf=Yf,n.mixin=Rc,n.negate=Ea,n.nthArg=Ac,n.omit=kf,n.omitBy=qs,n.once=ja,n.orderBy=pa,n.over=Zf,n.overArgs=uf,n.overEvery=eh,n.overSome=th,n.partial=af,n.partialRight=sf,n.partition=Yp,n.pick=Lf,n.pickBy=Ms,n.property=Uc,n.propertyOf=kc,n.pull=Up,n.pullAll=_u,n.pullAllBy=Su,n.pullAllWith=Tu,n.pullAt=kp,n.range=nh,n.rangeRight=rh,n.rearg=cf,n.reject=da,n.remove=wu,n.rest=Ra,n.reverse=Ou,n.sampleSize=ga,n.set=Ws,n.setWith=Hs,n.shuffle=va,n.slice=Cu,n.sortBy=Zp,n.sortedUniq=xu,n.sortedUniqBy=Au,n.split=pc,n.spread=Na,n.tail=Uu,n.take=ku,n.takeRight=Lu,n.takeRightWhile=Du,n.takeWhile=Fu,n.tap=zu,n.throttle=xa,n.thru=Qu,n.toArray=gs,n.toPairs=Df,n.toPairsIn=Ff,n.toPath=Gc,n.toPlainObject=Ss,n.transform=Ks,n.unary=Aa,n.union=Lp,n.unionBy=Dp,n.unionWith=Fp,n.uniq=Bu,n.uniqBy=qu,n.uniqWith=Mu,n.unset=Vs,n.unzip=Gu,n.unzipWith=Wu,n.update=zs,n.updateWith=Qs,n.values=$s,n.valuesIn=Js,n.without=Bp,n.words=Sc,n.wrap=Ua,n.xor=qp,n.xorBy=Mp,n.xorWith=Gp,n.zip=Wp,n.zipObject=Hu,n.zipObjectDeep=Ku,n.zipWith=Hp,n.entries=Df,n.entriesIn=Ff,n.extend=Of,n.extendWith=Cf,Rc(n,n),n.add=oh,n.attempt=zf,n.camelCase=Bf,n.capitalize=ec,n.ceil=ih,n.clamp=Xs,n.clone=La,n.cloneDeep=Fa,n.cloneDeepWith=Ba,n.cloneWith=Da,n.conformsTo=qa,n.deburr=tc,n.defaultTo=Cc,n.divide=uh,n.endsWith=nc,n.eq=Ma,n.escape=rc,n.escapeRegExp=oc,n.every=na,n.find=zp,n.findIndex=au,n.findKey=Cs,n.findLast=Qp,n.findLastIndex=su,n.findLastKey=Is,n.floor=ah,n.forEach=aa,n.forEachRight=sa,n.forIn=Ps,n.forInRight=Es,n.forOwn=js,n.forOwnRight=Rs,n.get=As,n.gt=lf,n.gte=pf,n.has=Us,n.hasIn=ks,n.head=hu,n.identity=Ic,n.includes=ca,n.indexOf=du,n.inRange=Ys,n.invoke=xf,n.isArguments=ff,n.isArray=hf,n.isArrayBuffer=df,n.isArrayLike=Ga,n.isArrayLikeObject=Wa,n.isBoolean=Ha,n.isBuffer=yf,n.isDate=gf,n.isElement=Ka,n.isEmpty=Va,n.isEqual=za,n.isEqualWith=Qa,n.isError=$a,n.isFinite=Ja,n.isFunction=Xa,n.isInteger=Ya,n.isLength=Za,n.isMap=vf,n.isMatch=ns,n.isMatchWith=rs,n.isNaN=os,n.isNative=is,n.isNil=as,n.isNull=us,n.isNumber=ss,n.isObject=es,n.isObjectLike=ts,n.isPlainObject=cs,n.isRegExp=bf,n.isSafeInteger=ls,n.isSet=mf,n.isString=ps,n.isSymbol=fs,n.isTypedArray=_f,n.isUndefined=hs,n.isWeakMap=ds,n.isWeakSet=ys,n.join=gu,n.kebabCase=qf,n.last=vu,n.lastIndexOf=bu,n.lowerCase=Mf,n.lowerFirst=Gf,n.lt=Sf,n.lte=Tf,n.max=Hc,n.maxBy=Kc,n.mean=Vc,n.meanBy=zc,n.min=Qc,n.minBy=$c,n.stubArray=Lc,n.stubFalse=Dc,n.stubObject=Fc,n.stubString=Bc,n.stubTrue=qc,n.multiply=sh,n.nth=mu,n.noConflict=Nc,n.noop=xc,n.now=ef,n.pad=ic,n.padEnd=uc,n.padStart=ac,n.parseInt=sc,n.random=Zs,n.reduce=fa,n.reduceRight=ha,n.repeat=cc,n.replace=lc,n.result=Gs,n.round=ch,n.runInContext=e,n.sample=ya,n.size=ba,n.snakeCase=Wf,n.some=ma,n.sortedIndex=Iu,n.sortedIndexBy=Pu,n.sortedIndexOf=Eu,n.sortedLastIndex=ju,n.sortedLastIndexBy=Ru,n.sortedLastIndexOf=Nu,n.startCase=Hf,n.startsWith=fc,n.subtract=lh,n.sum=Jc,n.sumBy=Xc,n.template=hc,n.times=Mc,n.toFinite=vs,n.toInteger=bs,n.toLength=ms,n.toLower=dc,n.toNumber=_s,n.toSafeInteger=Ts,n.toString=ws,n.toUpper=yc,n.trim=gc,n.trimEnd=vc,n.trimStart=bc,n.truncate=mc,n.unescape=_c,n.uniqueId=Wc,n.upperCase=Kf,n.upperFirst=Vf,n.each=aa,n.eachRight=sa,n.first=hu,Rc(n,function(){var e={};return lr(n,function(t,r){fl.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.11",a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),a(["drop","take"],function(e,t){b.prototype[e]=function(n){n=n===ne?1:Ml(bs(n),0);var r=this.__filtered__&&!t?new b(this):this.clone();return r.__filtered__?r.__takeCount__=Gl(n,r.__takeCount__):r.__views__.push({size:Gl(n,Ue),type:e+(r.__dir__<0?"Right":"")}),r},b.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),a(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Ee||3==n;b.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:vi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),a(["head","last"],function(e,t){var n="take"+(t?"Right":"");b.prototype[e]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");b.prototype[e]=function(){return this.__filtered__?new b(this):this[n](1)}}),b.prototype.compact=function(){return this.filter(Ic)},b.prototype.find=function(e){return this.filter(e).head()},b.prototype.findLast=function(e){return this.reverse().find(e)},b.prototype.invokeMap=Zr(function(e,t){return"function"==typeof e?new b(this):this.map(function(n){return Tr(n,e,t)})}),b.prototype.reject=function(e){return this.filter(Ea(vi(e)))},b.prototype.slice=function(e,t){e=bs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new b(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ne&&(t=bs(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},b.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},b.prototype.toArray=function(){return this.take(Ue)},lr(b.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),u=n[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);u&&(n.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,c=t instanceof b,l=s[0],p=c||hf(t),f=function(e){var t=u.apply(n,d([e],s));return i&&h?t[0]:t};p&&r&&"function"==typeof l&&1!=l.length&&(c=p=!1);var h=this.__chain__,y=!!this.__actions__.length,g=a&&!h,v=c&&!y;if(!a&&p){t=v?t:new b(this);var m=e.apply(t,s);return m.__actions__.push({func:Qu,args:[f],thisArg:ne}),new o(m,h)}return g&&v?e.apply(this,s):(m=this.thru(f),g?i?m.value()[0]:m.value():m)})}),a(["pop","push","shift","sort","splice","unshift"],function(e){var t=al[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var n=this.value();return t.apply(hf(n)?n:[],e)}return this[r](function(n){return t.apply(hf(n)?n:[],e)})}}),lr(b.prototype,function(e,t){var r=n[t];if(r){var o=r.name+"";(ep[o]||(ep[o]=[])).push({name:t,func:r})}}),ep[Qo(ne,ye).name]=[{name:"wrapper",func:ne}],b.prototype.clone=P,b.prototype.reverse=$,b.prototype.value=Z,n.prototype.at=Kp,n.prototype.chain=$u,n.prototype.commit=Ju,n.prototype.next=Xu,n.prototype.plant=Zu,n.prototype.reverse=ea,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=ta,n.prototype.first=n.prototype.head,El&&(n.prototype[El]=Yu),n}();Rn._=Vn,(o=function(){return Vn}.call(t,n,t,r))!==ne&&(r.exports=o)}).call(this)}).call(t,n(1),n(14)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(6),i=n(7),u=n(8),a=n(9),s=n(10),c=n(0),l=n(13),p=n(4);n(15);var f={linkTiles:"linkTiles_b64f5c91",tileCont:"tileCont_b64f5c91",tile:"tile_b64f5c91",tileFlip:"tileFlip_b64f5c91",tileFront:"tileFront_b64f5c91",tileBack:"tileBack_b64f5c91",hover:"hover_b64f5c91",tileTitle:"tileTitle_b64f5c91",tileDescription:"tileDescription_b64f5c91"},h=f,d=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(){function e(){}return e}(),g=function(e){function t(t){var n=e.call(this,t)||this;return n.LOG_SOURCE="Tile",n.clickTile=function(){window.open(n.props.tile.LinkLocation.Url,"_blank")},n.state=new y,n}return d(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!p.isEqual(t,this.state)||!p.isEqual(e,this.props)},t.prototype.render=function(){try{return r.createElement("div",{className:h.tile,onClick:this.clickTile},r.createElement("div",{className:h.tileFlip},r.createElement("div",{className:h.tileFront},r.createElement("img",{src:this.props.tile.BackgroundImageLocation.Url}),this.props.showTitle&&r.createElement("div",{className:h.tileTitle},this.props.tile.Title)),r.createElement("div",{className:h.tileBack},r.createElement("div",{className:h.tileDescription},this.props.tile.Description))))}catch(e){return c.b.write(e+" - "+this.LOG_SOURCE+" (render)",3),null}},t}(r.Component),v=g,b=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(){function e(){}return e}(),_=function(e){function t(t){var n=e.call(this,t)||this;return n.LOG_SOURCE="LinkTiles",n.state=new m,n}return b(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!p.isEqual(t,this.state)||!p.isEqual(e,this.props)},t.prototype.render=function(){var e=this,t={"--tileWidth":this.props.width+"px","--tileHeight":this.props.height+"px"};try{return r.createElement("div",{className:h.linkTiles+" "+h.tileCont,style:t},this.props.tiles&&this.props.tiles.length>0&&this.props.tiles.map(function(t){return r.createElement(v,{tile:t,showTitle:e.props.showTitle})}))}catch(e){return c.b.write(e+" - "+this.LOG_SOURCE+" (render)",3),null}},t}(r.Component),S=_,T=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}s((r=r.apply(e,t||[])).next())})},O=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(u=2&n[0]?i.return:n[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){s.label=n[1];break}if(6===n[0]&&s.label<u[1]){s.label=u[1],u=n;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(n);break}u[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,a,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.onInit=function(){return w(this,void 0,void 0,function(){return O(this,function(e){return c.b.subscribe(new c.a),c.b.activeLogLevel=1,s.a.setup({spfxContext:this.context}),[2]})})},t.prototype.render=function(){return w(this,void 0,void 0,function(){var e,t;return O(this,function(n){switch(n.label){case 0:return[4,s.a.web.lists.getByTitle(this.properties.listName).items.select("Title","Description","LinkLocation","BackgroundImageLocation").get()];case 1:return e=n.sent(),t=r.createElement(S,{tiles:e,width:this.properties.tileWidth,height:this.properties.tileHeight,showTitle:this.properties.showTitle}),o.render(t,this.domElement),[2]}})})},t.prototype.onDispose=function(){o.unmountComponentAtNode(this.domElement)},Object.defineProperty(t.prototype,"dataVersion",{get:function(){return i.Version.parse("1.0")},enumerable:!0,configurable:!0}),t.prototype.getPropertyPaneConfiguration=function(){return{pages:[{header:{description:l.PropertyPaneDescription},groups:[{groupName:l.BasicGroupName,groupFields:[Object(a.PropertyPaneTextField)("listName",{label:l.ListNameDescription}),Object(a.PropertyPaneTextField)("tileHeight",{label:l.TileHeightDescription}),Object(a.PropertyPaneTextField)("tileWidth",{label:l.TileWidthDescription}),Object(a.PropertyPaneCheckbox)("showTitle",{text:l.ShowTitleDescription,checked:!0})]}]}]}},t}(u.BaseClientSideWebPart);t.default=C},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){"use strict";(function(e){function r(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function i(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}s((r=r.apply(e,t||[])).next())})}function u(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(u=2&n[0]?i.return:n[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){s.label=n[1];break}if(6===n[0]&&s.label<u[1]){s.label=u[1],u=n;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(n);break}u[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,a,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function a(e){if(Object(v.r)(e))return"";var t=e.indexOf("_api/");return t<0&&(t=e.indexOf("_vti_bin/")),t>-1?e.substr(0,t):e}function s(e){var t=[],n=["odata.type","odata.editLink","__metadata","odata.metadata"];return Object(v.j)(e,n[0])&&"SP.Web"===e[n[0]]?Object(v.j)(e,n[1])?t.push(e[n[1]]):Object(v.j)(e,n[2])&&t.push(e.__metadata.uri):Object(v.j)(e,n[3])&&Object(v.j)(e,n[1])?t.push(a(e[n[3]]),"_api",e[n[1]]):Object(v.j)(e,n[1])?t.push("_api",e[n[1]]):Object(v.j)(e,n[2])&&t.push(e.__metadata.uri),t.length<1?(b.b.write("No uri information found in ODataEntity parsing, chaining will fail for this object.",2),""):v.d.apply(void 0,t)}function c(e){return new S(e)}function l(e){v.c.extend(e)}function p(e){return new Promise(function(t){if(Object(v.m)(e))return t(e);if(null!==w.baseUrl)return t(Object(v.d)(w.baseUrl,e));if(void 0!==E._spPageContextInfo){if(Object(v.j)(E._spPageContextInfo,"webAbsoluteUrl"))return t(Object(v.d)(E._spPageContextInfo.webAbsoluteUrl,e));if(Object(v.j)(E._spPageContextInfo,"webServerRelativeUrl"))return t(Object(v.d)(E._spPageContextInfo.webServerRelativeUrl,e))}if(void 0!==E.location){var n=E.location.toString().toLowerCase();["/_layouts/","/siteassets/"].forEach(function(r){var o=n.indexOf(r);if(o>0)return t(Object(v.d)(n.substr(0,o),e))})}return t(e)})}function f(e){return{__metadata:{type:e}}}function h(e){return function(t){return function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.call(this,n[0],n.length>1&&void 0!==n[1]?n[1]:e)||this}return r(n,t),n}(t)}}function d(e){return e.length<1?1:Math.max.apply(null,e.map(function(e){return e.order}))+1}function y(e){for(var t=0;t<e.length;t++)e[t].order=t+1,Object(v.j)(e[t],"columns")?y(e[t].columns):Object(v.j)(e[t],"controls")&&y(e[t].controls)}n.d(t,"a",function(){return Yt});var g,v=n(3),b=n(0),m=n(12),_=function(e,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},S=function(e){function t(t){var n=e.call(this)||this;return n.factory=t,n.hydrate=function(e){var t=new n.factory(s(e),null);return Object(v.f)(t,e)},n}return r(t,e),t.prototype.parse=function(t){var n=this;return e.prototype.parse.call(this,t).then(function(e){var t=new n.factory(s(e),null);return Object(v.f)(t,e)})},t}(m.g),T=(function(e){function t(t){var n=e.call(this)||this;return n.factory=t,n.hydrate=function(e){return e.map(function(e){var t=new n.factory(s(e),null);return Object(v.f)(t,e)})},n}r(t,e),t.prototype.parse=function(t){var n=this;return e.prototype.parse.call(this,t).then(function(e){return e.map(function(e){var t=new n.factory(s(e),null);return Object(v.f)(t,e)})})}}(m.g),function(){function e(){}return Object.defineProperty(e.prototype,"headers",{get:function(){var e=v.c.get("sp");return void 0!==e&&void 0!==e.headers?e.headers:{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){var e=v.c.get("sp");return void 0!==e&&void 0!==e.baseUrl?e.baseUrl:void 0!==v.c.spfxContext&&null!==v.c.spfxContext?v.c.spfxContext.pageContext.web.absoluteUrl:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fetchClientFactory",{get:function(){var e=v.c.get("sp");return void 0!==e&&void 0!==e.fetchClientFactory?e.fetchClientFactory:function(){return new v.a}},enumerable:!0,configurable:!0}),e}()),w=new T,O=function(){function e(){}return e}(),C=new Map,I=function(){function e(e,t){void 0===t&&(t=C),this._httpClient=e,this._digests=t}return e.prototype.getDigest=function(e){var t=this,n=this._digests.get(e);if(void 0!==n){if(new Date<n.expiration)return Promise.resolve(n.value)}var r=Object(v.d)(e,"/_api/contextinfo"),o={Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose;charset=utf-8"};return this._httpClient.fetchRaw(r,{cache:"no-cache",credentials:"same-origin",headers:Object(v.f)(o,w.headers,!0),method:"POST"}).then(function(e){return(new m.f).parse(e).then(function(e){return e.GetContextWebInformation})}).then(function(n){var r=new O;r.value=n.FormDigestValue;var o=n.FormDigestTimeoutSeconds,i=new Date;return i.setTime(i.getTime()+1e3*o),r.expiration=i,t._digests.set(e,r),r.value})},e.prototype.clear=function(){this._digests.clear()},e}(),P=function(){function e(e){void 0===e&&(e=w.fetchClientFactory()),this._impl=e,this._digestCache=new I(this)}return e.prototype.fetch=function(e,t){var n=this;void 0===t&&(t={});var r=Object(v.f)(t,{cache:"no-cache",credentials:"same-origin"},!0),o=new Headers;return Object(v.o)(o,w.headers),Object(v.o)(o,t.headers),o.has("Accept")||o.append("Accept","application/json"),o.has("Content-Type")||o.append("Content-Type","application/json;odata=verbose;charset=utf-8"),o.has("X-ClientService-ClientTag")||o.append("X-ClientService-ClientTag","PnPCoreJS:@pnp-1.3.2"),o.has("User-Agent")||o.append("User-Agent","NONISV|SharePointPnP|PnPCoreJS/1.3.2"),r=Object(v.f)(r,{headers:o}),!r.method||"GET"===r.method.toUpperCase()||o.has("X-RequestDigest")||o.has("Authorization")?this.fetchRaw(e,r):this._digestCache.getDigest(a(e)).then(function(t){return o.append("X-RequestDigest",t),n.fetchRaw(e,r)})},e.prototype.fetchRaw=function(e,t){var n=this;void 0===t&&(t={});var r=new Headers;Object(v.o)(r,t.headers),t=Object(v.f)(t,{headers:r});var o=function(r){var i=function(e){var t;e.headers.has("Retry-After")?t=parseInt(e.headers.get("Retry-After"),10):(t=r.delay,r.delay*=2),r.attempts++,r.retryCount<=r.attempts?r.reject(Error("Retry count exceeded ("+r.retryCount+") for request. Response status: ["+e.status+"] "+e.statusText)):setTimeout(Object(v.g)(n,o,r),t)};n._impl.fetch(e,t).then(function(e){429===e.status?i(e):r.resolve(e)}).catch(function(e){503===e.status?i(e):r.reject(e)})};return new Promise(function(e,t){var r={attempts:0,delay:100,reject:t,resolve:e,retryCount:7};o.call(n,r)})},e.prototype.get=function(e,t){void 0===t&&(t={});var n=Object(v.f)(t,{method:"GET"});return this.fetch(e,n)},e.prototype.post=function(e,t){void 0===t&&(t={});var n=Object(v.f)(t,{method:"POST"});return this.fetch(e,n)},e.prototype.patch=function(e,t){void 0===t&&(t={});var n=Object(v.f)(t,{method:"PATCH"});return this.fetch(e,n)},e.prototype.delete=function(e,t){void 0===t&&(t={});var n=Object(v.f)(t,{method:"DELETE"});return this.fetch(e,n)},e}(),E=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},j=function(e){function t(t,n){var r=e.call(this)||this;if(r._forceCaching=!1,"string"==typeof t)if(Object(v.m)(t)||t.lastIndexOf("/")<0)r._parentUrl=t,r._url=Object(v.d)(t,n);else if(t.lastIndexOf("/")>t.lastIndexOf("(")){var o=t.lastIndexOf("/");r._parentUrl=t.slice(0,o),n=Object(v.d)(t.slice(o),n),r._url=Object(v.d)(r._parentUrl,n)}else{var o=t.lastIndexOf("(");r._parentUrl=t.slice(0,o),r._url=Object(v.d)(t,n)}else{r.extend(t,n);var i=t.query.get("@target");void 0!==i&&r.query.set("@target",i)}return r}return r(t,e),t.prototype.as=function(e){var t=new e(this._url,null);return Object(v.f)(t,this,!0)},t.prototype.toUrlAndQuery=function(){var e=new Map(this.query),t=this.toUrl().replace(/'!(@.*?)::(.*?)'/gi,function(t,n,r){return b.b.write("Rewriting aliased parameter from match "+t+" to label: "+n+" value: "+r,0),e.set(n,"'"+r+"'"),n});if(e.size>0){t+=""+(t.indexOf("?")>-1?"&":"?")+Array.from(e).map(function(e){return e[0]+"="+e[1]}).join("&")}return t},t.prototype.select=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length>0&&this.query.set("$select",e.join(",")),this},t.prototype.expand=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length>0&&this.query.set("$expand",e.join(",")),this},t.prototype.getParent=function(e,t,n,r){void 0===t&&(t=this.parentUrl);var o=new e(t,n).configureFrom(this),i="@target";return this.query.has(i)&&o.query.set(i,this.query.get(i)),void 0!==r&&(o=o.inBatch(r)),o},t.prototype.clone=function(t,n,r){void 0===r&&(r=!0);var o=e.prototype._clone.call(this,new t(this,n),{includeBatch:r}),i="@target";return this.query.has(i)&&o.query.set(i,this.query.get(i)),o},t.prototype.toRequestContext=function(e,t,n,r){var o=this;void 0===t&&(t={});var i=this.hasBatch?this._batchDependency:function(){};return p(this.toUrlAndQuery()).then(function(u){return Object(v.p)(t,o._options),{batch:o.batch,batchDependency:i,cachingOptions:o._cachingOptions,clientFactory:function(){return new P},isBatched:o.hasBatch,isCached:o._forceCaching||o._useCaching&&/^get$/i.test(e),options:t,parser:n,pipeline:r,requestAbsoluteUrl:u,requestId:Object(v.h)(),verb:e}})},t}(m.h),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.filter=function(e){return this.query.set("$filter",e),this},t.prototype.orderBy=function(e,t){void 0===t&&(t=!0);var n="$orderby",r=this.query.has(n)?this.query.get(n).split(","):[];return r.push(e+" "+(t?"asc":"desc")),this.query.set(n,r.join(",")),this},t.prototype.skip=function(e){return this.query.set("$skip",e.toString()),this},t.prototype.top=function(e){return this.query.set("$top",e.toString()),this},t}(j),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._update=function(e,t){var n=this;return function(r){return n.postCore({body:Object(v.n)(Object(v.f)(f(e),r)),headers:{"X-HTTP-Method":"MERGE"}}).then(function(e){return t(e,r)})}},t.prototype._delete=function(){return this.postCore({headers:{"X-HTTP-Method":"DELETE"}})},t.prototype._deleteWithETag=function(e){return void 0===e&&(e="*"),this.postCore({headers:{"IF-Match":e,"X-HTTP-Method":"DELETE"}})},t}(j),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){return new U(this,"getById("+e+")")},t.prototype.getByEmail=function(e){return new U(this,"getByEmail('"+e+"')")},t.prototype.getByLoginName=function(e){var t=new U(this);return t.concat("('!@v::"+encodeURIComponent(e)+"')"),t},t.prototype.removeById=function(e){return this.clone(n,"removeById("+e+")").postCore()},t.prototype.removeByLoginName=function(e){var t=this.clone(n,"removeByLoginName(@v)");return t.query.set("@v","'"+encodeURIComponent(e)+"'"),t.postCore()},t.prototype.add=function(e){var t=this;return this.clone(n,null).postCore({body:Object(v.n)(Object(v.f)(f("SP.User"),{LoginName:e}))}).then(function(){return t.getByLoginName(e)})};var n;return t=n=o([h("siteusers")],t)}(R),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"groups",{get:function(){return new D(this,"groups")},enumerable:!0,configurable:!0}),t}(N),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.update=t._update("SP.User",function(e){return{data:e,user:t}}),t.delete=t._delete,t}return r(t,e),t}(A),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t=o([h("currentuser")],t)}(A);!function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.DistributionList=2]="DistributionList",e[e.SecurityGroup=4]="SecurityGroup",e[e.SharePointGroup=8]="SharePointGroup",e[e.All=15]="All"}(g||(g={}));var L,D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){var t=new F(this);return t.concat("("+e+")"),t},t.prototype.add=function(e){var t=this,n=Object(v.n)(Object(v.f)(f("SP.Group"),e));return this.postCore({body:n}).then(function(e){return{data:e,group:t.getById(e.Id)}})},t.prototype.getByName=function(e){return new F(this,"getByName('"+e+"')")},t.prototype.removeById=function(e){return this.clone(n,"removeById('"+e+"')").postCore()},t.prototype.removeByLoginName=function(e){return this.clone(n,"removeByLoginName('"+e+"')").postCore()};var n;return t=n=o([h("sitegroups")],t)}(R),F=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.update=n._update("SP.Group",function(e,r){var o=n;return Object(v.j)(r,"Title")&&(o=n.getParent(t,n.parentUrl,"getByName('"+r.Title+"')")),{data:e,group:o}}),n}return r(t,e),Object.defineProperty(t.prototype,"users",{get:function(){return new x(this,"users")},enumerable:!0,configurable:!0}),t}(N),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){var t=new q(this);return t.concat("("+e+")"),t},t.prototype.add=function(e,t){return this.clone(n,"addroleassignment(principalid="+e+", roledefid="+t+")").postCore()},t.prototype.remove=function(e,t){return this.clone(n,"removeroleassignment(principalid="+e+", roledefid="+t+")").postCore()};var n;return t=n=o([h("roleassignments")],t)}(R),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delete=t._delete,t}return r(t,e),Object.defineProperty(t.prototype,"groups",{get:function(){return new D(this,"groups")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindings",{get:function(){return new W(this)},enumerable:!0,configurable:!0}),t}(N),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getById=function(e){return new G(this,"getById("+e+")")},t.prototype.getByName=function(e){return new G(this,"getbyname('"+e+"')")},t.prototype.getByType=function(e){return new G(this,"getbytype("+e+")")},t.prototype.add=function(e,t,n,r){var o=this,i=Object(v.n)({BasePermissions:Object(v.f)({__metadata:{type:"SP.BasePermissions"}},r),Description:t,Name:e,Order:n,__metadata:{type:"SP.RoleDefinition"}});return this.postCore({body:i}).then(function(e){return{data:e,definition:o.getById(e.Id)}})},t=o([h("roledefinitions")],t)}(R),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delete=t._delete,t}return r(t,e),t.prototype.update=function(e){var t=this,n=["BasePermissions"];void 0!==Object(v.j)(e,n[0])&&(e[n[0]]=Object(v.f)({__metadata:{type:"SP."+n[0]}},e[n[0]]));var r=Object(v.n)(Object(v.f)(f("SP.RoleDefinition"),e));return this.postCore({body:r,headers:{"X-HTTP-Method":"MERGE"}}).then(function(n){var r=t;if(Object(v.j)(e,"Name")){r=t.getParent(M,t.parentUrl,"").getByName(e.Name)}return{data:n,definition:r}})},t}(N),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t=o([h("roledefinitionbindings")],t)}(R);!function(e){e[e.Display=1]="Display",e[e.Edit=2]="Edit",e[e.New=3]="New"}(L||(L={}));var H;!function(e){e[e.Invalid=0]="Invalid",e[e.Integer=1]="Integer",e[e.Text=2]="Text",e[e.Note=3]="Note",e[e.DateTime=4]="DateTime",e[e.Counter=5]="Counter",e[e.Choice=6]="Choice",e[e.Lookup=7]="Lookup",e[e.Boolean=8]="Boolean",e[e.Number=9]="Number",e[e.Currency=10]="Currency",e[e.URL=11]="URL",e[e.Computed=12]="Computed",e[e.Threading=13]="Threading",e[e.Guid=14]="Guid",e[e.MultiChoice=15]="MultiChoice",e[e.GridChoice=16]="GridChoice",e[e.Calculated=17]="Calculated",e[e.File=18]="File",e[e.Attachments=19]="Attachments",e[e.User=20]="User",e[e.Recurrence=21]="Recurrence",e[e.CrossProjectLink=22]="CrossProjectLink",e[e.ModStat=23]="ModStat",e[e.Error=24]="Error",e[e.ContentTypeId=25]="ContentTypeId",e[e.PageSeparator=26]="PageSeparator",e[e.ThreadIndex=27]="ThreadIndex",e[e.WorkflowStatus=28]="WorkflowStatus",e[e.AllDayEvent=29]="AllDayEvent",e[e.WorkflowEventType=30]="WorkflowEventType"}(H||(H={}));var K;!function(e){e[e.DateOnly=0]="DateOnly",e[e.DateTime=1]="DateTime"}(K||(K={}));var V;!function(e){e[e.Unspecified=0]="Unspecified",e[e.Disabled=1]="Disabled",e[e.Relative=2]="Relative"}(V||(V={}));var z;!function(e){e[e.DefaultValue=0]="DefaultValue",e[e.AddToDefaultContentType=1]="AddToDefaultContentType",e[e.AddToNoContentType=2]="AddToNoContentType",e[e.AddToAllContentTypes=4]="AddToAllContentTypes",e[e.AddFieldInternalNameHint=8]="AddFieldInternalNameHint",e[e.AddFieldToDefaultView=16]="AddFieldToDefaultView",e[e.AddFieldCheckDisplayName=32]="AddFieldCheckDisplayName"}(z||(z={}));var Q;!function(e){e[e.Gregorian=1]="Gregorian",e[e.Japan=3]="Japan",e[e.Taiwan=4]="Taiwan",e[e.Korea=5]="Korea",e[e.Hijri=6]="Hijri",e[e.Thai=7]="Thai",e[e.Hebrew=8]="Hebrew",e[e.GregorianMEFrench=9]="GregorianMEFrench",e[e.GregorianArabic=10]="GregorianArabic",e[e.GregorianXLITEnglish=11]="GregorianXLITEnglish",e[e.GregorianXLITFrench=12]="GregorianXLITFrench",e[e.KoreaJapanLunar=14]="KoreaJapanLunar",e[e.ChineseLunar=15]="ChineseLunar",e[e.SakaEra=16]="SakaEra",e[e.UmAlQura=23]="UmAlQura"}(Q||(Q={}));var $;!function(e){e[e.Hyperlink=0]="Hyperlink",e[e.Image=1]="Image"}($||($={}));var J;!function(e){e[e.EmptyMask=0]="EmptyMask",e[e.ViewListItems=1]="ViewListItems",e[e.AddListItems=2]="AddListItems",e[e.EditListItems=3]="EditListItems",e[e.DeleteListItems=4]="DeleteListItems",e[e.ApproveItems=5]="ApproveItems",e[e.OpenItems=6]="OpenItems",e[e.ViewVersions=7]="ViewVersions",e[e.DeleteVersions=8]="DeleteVersions",e[e.CancelCheckout=9]="CancelCheckout",e[e.ManagePersonalViews=10]="ManagePersonalViews",e[e.ManageLists=12]="ManageLists",e[e.ViewFormPages=13]="ViewFormPages",e[e.AnonymousSearchAccessList=14]="AnonymousSearchAccessList",e[e.Open=17]="Open",e[e.ViewPages=18]="ViewPages",e[e.AddAndCustomizePages=19]="AddAndCustomizePages",e[e.ApplyThemeAndBorder=20]="ApplyThemeAndBorder",e[e.ApplyStyleSheets=21]="ApplyStyleSheets",e[e.ViewUsageData=22]="ViewUsageData",e[e.CreateSSCSite=23]="CreateSSCSite",e[e.ManageSubwebs=24]="ManageSubwebs",e[e.CreateGroups=25]="CreateGroups",e[e.ManagePermissions=26]="ManagePermissions",e[e.BrowseDirectories=27]="BrowseDirectories",e[e.BrowseUserInfo=28]="BrowseUserInfo",e[e.AddDelPrivateWebParts=29]="AddDelPrivateWebParts",e[e.UpdatePersonalWebParts=30]="UpdatePersonalWebParts",e[e.ManageWeb=31]="ManageWeb",e[e.AnonymousSearchAccessWebLists=32]="AnonymousSearchAccessWebLists",e[e.UseClientIntegration=37]="UseClientIntegration",e[e.UseRemoteAPIs=38]="UseRemoteAPIs",e[e.ManageAlerts=39]="ManageAlerts",e[e.CreateAlerts=40]="CreateAlerts",e[e.EditMyUserInfo=41]="EditMyUserInfo",e[e.EnumeratePermissions=63]="EnumeratePermissions",e[e.FullMask=65]="FullMask"}(J||(J={}));var X;!function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.DistributionList=2]="DistributionList",e[e.SecurityGroup=4]="SecurityGroup",e[e.SharePointGroup=8]="SharePointGroup",e[e.All=15]="All"}(X||(X={}));var Y;!function(e){e[e.None=0]="None",e[e.UserInfoList=1]="UserInfoList",e[e.Windows=2]="Windows",e[e.MembershipProvider=4]="MembershipProvider",e[e.RoleProvider=8]="RoleProvider",e[e.All=15]="All"}(Y||(Y={}));var Z;!function(e){e[e.None=0]="None",e[e.Guest=1]="Guest",e[e.Reader=2]="Reader",e[e.Contributor=3]="Contributor",e[e.WebDesigner=4]="WebDesigner",e[e.Administrator=5]="Administrator"}(Z||(Z={}));var ee;!function(e){e[e.Invalid=-1]="Invalid",e[e.DefaultView=0]="DefaultView",e[e.NormalView=1]="NormalView",e[e.DialogView=2]="DialogView",e[e.View=3]="View",e[e.DisplayForm=4]="DisplayForm",e[e.DisplayFormDialog=5]="DisplayFormDialog",e[e.EditForm=6]="EditForm",e[e.EditFormDialog=7]="EditFormDialog",e[e.NewForm=8]="NewForm",e[e.NewFormDialog=9]="NewFormDialog",e[e.SolutionForm=10]="SolutionForm",e[e.PAGE_MAXITEMS=11]="PAGE_MAXITEMS"}(ee||(ee={}));var te;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Direct=1]="Direct",e[e.OrganizationView=2]="OrganizationView",e[e.OrganizationEdit=3]="OrganizationEdit",e[e.AnonymousView=4]="AnonymousView",e[e.AnonymousEdit=5]="AnonymousEdit",e[e.Flexible=6]="Flexible"}(te||(te={}));var ne;!function(e){e[e.None=0]="None",e[e.View=1]="View",e[e.Edit=2]="Edit",e[e.Owner=3]="Owner"}(ne||(ne={}));var re;!function(e){e[e.CompletedSuccessfully=0]="CompletedSuccessfully",e[e.AccessRequestsQueued=1]="AccessRequestsQueued",e[e.NoResolvedUsers=-1]="NoResolvedUsers",e[e.AccessDenied=-2]="AccessDenied",e[e.CrossSiteRequestNotSupported=-3]="CrossSiteRequestNotSupported",e[e.UnknowError=-4]="UnknowError",e[e.EmailBodyTooLong=-5]="EmailBodyTooLong",e[e.ListUniqueScopesExceeded=-6]="ListUniqueScopesExceeded",e[e.CapabilityDisabled=-7]="CapabilityDisabled",e[e.ObjectNotSupported=-8]="ObjectNotSupported",e[e.NestedGroupsNotSupported=-9]="NestedGroupsNotSupported"}(re||(re={}));var oe;!function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Folder=2]="Folder",e[e.Item=3]="Item",e[e.List=4]="List",e[e.Web=5]="Web",e[e.Max=6]="Max"}(oe||(oe={}));var ie;!function(e){e[e.None=0]="None",e[e.AllowList=1]="AllowList",e[e.BlockList=2]="BlockList"}(ie||(ie={}));var ue;!function(e){e[e.None=0]="None",e[e.ContextInfo=1]="ContextInfo",e[e.ListData=2]="ListData",e[e.ListSchema=4]="ListSchema",e[e.MenuView=8]="MenuView",e[e.ListContentType=16]="ListContentType",e[e.FileSystemItemId=32]="FileSystemItemId",e[e.ClientFormSchema=64]="ClientFormSchema",e[e.QuickLaunch=128]="QuickLaunch",e[e.Spotlight=256]="Spotlight",e[e.Visualization=512]="Visualization",e[e.ViewMetadata=1024]="ViewMetadata",e[e.DisableAutoHyperlink=2048]="DisableAutoHyperlink",e[e.EnableMediaTAUrls=4096]="EnableMediaTAUrls",e[e.ParentInfo=8192]="ParentInfo",e[e.PageContextInfo=16384]="PageContextInfo",e[e.ClientSideComponentManifest=32768]="ClientSideComponentManifest"}(ue||(ue={}));var ae;!function(e){e[e.PeopleAndGroups=1]="PeopleAndGroups",e[e.PeopleOnly=0]="PeopleOnly"}(ae||(ae={}));var se;!function(e){e[e.Dropdown=0]="Dropdown",e[e.RadioButtons=1]="RadioButtons"}(se||(se={}));var ce;!function(e){e[e.DefaultZone=0]="DefaultZone",e[e.Intranet=1]="Intranet",e[e.Internet=2]="Internet",e[e.Custom=3]="Custom",e[e.Extranet=4]="Extranet"}(ce||(ce={}));var le,pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"roleAssignments",{get:function(){return new B(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstUniqueAncestorSecurableObject",{get:function(){return new N(this,"FirstUniqueAncestorSecurableObject")},enumerable:!0,configurable:!0}),t.prototype.getUserEffectivePermissions=function(e){var t=this.clone(j,"getUserEffectivePermissions(@user)");return t.query.set("@user","'"+encodeURIComponent(e)+"'"),t.get().then(function(e){return Object(v.j)(e,"GetUserEffectivePermissions")?e.GetUserEffectivePermissions:e})},t.prototype.getCurrentUserEffectivePermissions=function(){var e=this;return new N("_api/web","currentuser").configureFrom(this).select("LoginName").get().then(function(t){return e.getUserEffectivePermissions(t.LoginName)})},t.prototype.breakRoleInheritance=function(e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.clone(t,"breakroleinheritance(copyroleassignments="+e+", clearsubscopes="+n+")").postCore()},t.prototype.resetRoleInheritance=function(){return this.clone(t,"resetroleinheritance").postCore()},t.prototype.userHasPermissions=function(e,t){var n=this;return this.getUserEffectivePermissions(e).then(function(e){return n.hasPermissions(e,t)})},t.prototype.currentUserHasPermissions=function(e){var t=this;return this.getCurrentUserEffectivePermissions().then(function(n){return t.hasPermissions(n,e)})},t.prototype.hasPermissions=function(e,t){if(!t)return!0;if(t===J.FullMask)return 32767==(32767&e.High)&&65535===e.Low;t-=1;var n=1;return t>=0&&t<32?(n<<=t,0!=(e.Low&n)):t>=32&&t<64&&(n<<=t-32,0!=(e.High&n))},t}(N),fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getShareLink=function(e,n){void 0===n&&(n=null);var r=null!==n?n.toISOString():null;return this.clone(t,"shareLink").postCore({body:Object(v.n)({request:{createLink:!0,emailData:null,settings:{expiration:r,linkKind:e}}})})},t.prototype.shareWith=function(e,n,r,o,i){var u=this;void 0===r&&(r=!1),void 0===o&&(o=!1),Array.isArray(e)||(e=[e]);var a=Object(v.n)(e.map(function(e){return{Key:e}})),s=n===ne.Edit?Z.Contributor:Z.Reader;return new R("_api/web","roledefinitions").select("Id").filter("RoleTypeKind eq "+s).get().then(function(e){if(!Array.isArray(e)||e.length<1)throw Error("Could not locate a role defintion with RoleTypeKind "+s);var n={includeAnonymousLinkInEmail:r,peoplePickerInput:a,propagateAcl:o,roleValue:"role:"+e[0].Id,useSimplifiedRoles:!0};return void 0!==i&&(n=Object(v.f)(n,{emailBody:i.body,emailSubject:void 0!==i.subject?i.subject:"",sendEmail:!0})),u.clone(t,"shareObject").postCore({body:Object(v.n)(n)})})},t.prototype.shareObject=function(e,t){var n=this;return void 0===t&&(t=!1),t?this.sendShareObjectRequest(e):(e=Object(v.f)(e,{group:null,includeAnonymousLinkInEmail:!1,propagateAcl:!1,useSimplifiedRoles:!0},!0),this.getRoleValue(e.role,e.group).then(function(t){Array.isArray(e.loginNames)||(e.loginNames=[e.loginNames]);var r=Object(v.n)(e.loginNames.map(function(e){return{Key:e}})),o={peoplePickerInput:r,roleValue:t,url:e.url};return void 0!==e.emailData&&null!==e.emailData&&(o=Object(v.f)(o,{emailBody:e.emailData.body,emailSubject:void 0!==e.emailData.subject?e.emailData.subject:"Shared with you.",sendEmail:!0})),n.sendShareObjectRequest(o)}))},t.prototype.unshareObjectWeb=function(e){return this.clone(t,"unshareObject").postCore({body:Object(v.n)({url:e})})},t.prototype.checkPermissions=function(e){return this.clone(t,"checkPermissions").postCore({body:Object(v.n)({recipients:e})})},t.prototype.getSharingInformation=function(e,n){void 0===e&&(e=null);var r=this.clone(t,"getSharingInformation");return r.expand.apply(r,n).postCore({body:Object(v.n)({request:e})})},t.prototype.getObjectSharingSettings=function(e){return void 0===e&&(e=!0),this.clone(t,"getObjectSharingSettings").postCore({body:Object(v.n)({useSimplifiedRoles:e})})},t.prototype.unshareObject=function(){return this.clone(t,"unshareObject").postCore()},t.prototype.deleteLinkByKind=function(e){return this.clone(t,"deleteLinkByKind").postCore({body:Object(v.n)({linkKind:e})})},t.prototype.unshareLink=function(e,n){return void 0===n&&(n="00000000-0000-0000-0000-000000000000"),this.clone(t,"unshareLink").postCore({body:Object(v.n)({linkKind:e,shareId:n})})},t.prototype.getRoleValue=function(e,t){if(void 0===t||null===t){var n=e===ne.Edit?Z.Contributor:Z.Reader;return new R("_api/web","roledefinitions").select("Id").top(1).filter("RoleTypeKind eq "+n).get().then(function(e){if(e.length<1)throw Error("Could not locate associated role definition for supplied role. Edit and View are supported");return"role: "+e[0].Id})}switch(t){case Z.Contributor:return new N("_api/web","associatedmembergroup").select("Id").get().then(function(e){return"group: "+e.Id});case Z.Reader:case Z.Guest:return new N("_api/web","associatedvisitorgroup").select("Id").get().then(function(e){return"group: "+e.Id});default:throw Error("Could not determine role value for supplied value. Contributor, Reader, and Guest are supported")}},t.prototype.getShareObjectWeb=function(e){return Promise.resolve(new N(a(e),"/_api/SP.Web.ShareObject"))},t.prototype.sendShareObjectRequest=function(e){return this.getShareObjectWeb(this.toUrl()).then(function(n){return n.expand("UsersWithAccessRequests","GroupsSharedWith").as(t).postCore({body:Object(v.n)(e)})})},t}(j),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.shareWith=function(e,t,n){var r=this;void 0===t&&(t=ne.View);var o=this.addBatchDependency();return new N(a(this.toUrl()),"/_api/web/url").get().then(function(i){return o(),r.shareObject(Object(v.d)(i,"/_layouts/15/aclinv.aspx?forSharing=1&mbypass=1"),e,t,n)})},t.prototype.shareObject=function(e,t,n,r,o,i,u,a){return void 0===i&&(i=!1),void 0===u&&(u=!1),void 0===a&&(a=!0),this.clone(fe,null).shareObject({emailData:r,group:o,includeAnonymousLinkInEmail:u,loginNames:t,propagateAcl:i,role:n,url:e,useSimplifiedRoles:a})},t.prototype.shareObjectRaw=function(e){return this.clone(fe,null).shareObject(e,!0)},t.prototype.unshareObject=function(e){return this.clone(fe,null).unshareObjectWeb(e)},t}(pe),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getShareLink=function(e,t){return void 0===e&&(e=te.OrganizationView),void 0===t&&(t=null),this.clone(fe,null).getShareLink(e,t)},t.prototype.shareWith=function(e,t,n,r){return void 0===t&&(t=ne.View),void 0===n&&(n=!1),this.clone(fe,null).shareWith(e,t,n,!1,r)},t.prototype.checkSharingPermissions=function(e){return this.clone(fe,null).checkPermissions(e)},t.prototype.getSharingInformation=function(e,t){return void 0===e&&(e=null),this.clone(fe,null).getSharingInformation(e,t)},t.prototype.getObjectSharingSettings=function(e){return void 0===e&&(e=!0),this.clone(fe,null).getObjectSharingSettings(e)},t.prototype.unshare=function(){return this.clone(fe,null).unshareObject()},t.prototype.deleteSharingLinkByKind=function(e){return this.clone(fe,null).deleteLinkByKind(e)},t.prototype.unshareLink=function(e,t){return this.clone(fe,null).unshareLink(e,t)},t}(pe),ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getShareLink=function(e,t){void 0===e&&(e=te.OrganizationView),void 0===t&&(t=null);var n=this.addBatchDependency();return this.getShareable().then(function(r){return n(),r.getShareLink(e,t)})},t.prototype.checkSharingPermissions=function(e){var t=this.addBatchDependency();return this.getShareable().then(function(n){return t(),n.checkPermissions(e)})},t.prototype.getSharingInformation=function(e,t){void 0===e&&(e=null);var n=this.addBatchDependency();return this.getShareable().then(function(r){return n(),r.getSharingInformation(e,t)})},t.prototype.getObjectSharingSettings=function(e){void 0===e&&(e=!0);var t=this.addBatchDependency();return this.getShareable().then(function(n){return t(),n.getObjectSharingSettings(e)})},t.prototype.unshare=function(){var e=this.addBatchDependency();return this.getShareable().then(function(t){return e(),t.unshareObject()})},t.prototype.deleteSharingLinkByKind=function(e){var t=this.addBatchDependency();return this.getShareable().then(function(n){return t(),n.deleteLinkByKind(e)})},t.prototype.unshareLink=function(e,t){var n=this.addBatchDependency();return this.getShareable().then(function(r){return n(),r.unshareLink(e,t)})},t.prototype.getShareable=function(){var e=this;return this.clone(ge,"listItemAllFields",!1).select("odata.id").get().then(function(t){var n=new fe(s(t));return e.hasBatch&&(n=n.inBatch(e.batch)),n})},t}(N),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.shareWith=function(e,t,n,r){void 0===t&&(t=ne.View),void 0===n&&(n=!1);var o=this.addBatchDependency();return this.getShareable().then(function(i){return o(),i.shareWith(e,t,n,!1,r)})},t}(ye),ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.shareWith=function(e,t,n,r,o){void 0===t&&(t=ne.View),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=this.addBatchDependency();return this.getShareable().then(function(u){return i(),u.shareWith(e,t,n,r,o)})},t}(ye),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"webparts",{get:function(){return new me(this,"webparts")},enumerable:!0,configurable:!0}),t.prototype.export=function(e){return this.clone(t,"ExportWebPart").postCore({body:Object(v.n)({webPartId:e})})},t.prototype.import=function(e){return this.clone(t,"ImportWebPart").postCore({body:Object(v.n)({webPartXml:e})})},t}(j),me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getById=function(e){return new _e(this,"getbyid('"+e+"')")},t.prototype.getByControlId=function(e){return new _e(this,"getByControlId('"+e+"')")},t}(R),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"webpart",{get:function(){return new Se(this)},enumerable:!0,configurable:!0}),t.prototype.saveChanges=function(){return this.clone(t,"SaveWebPartChanges").postCore()},t.prototype.moveTo=function(e,n){return this.clone(t,"MoveWebPartTo(zoneID='"+e+"', zoneIndex="+n+")").postCore()},t.prototype.close=function(){return this.clone(t,"CloseWebPart").postCore()},t.prototype.open=function(){return this.clone(t,"OpenWebPart").postCore()},t.prototype.delete=function(){return this.clone(t,"DeleteWebPart").postCore()},t}(N),Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t=o([h("webpart")],t)}(N),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getByName=function(e){var t=new we(this);return t.concat("('"+e+"')"),t},t.prototype.add=function(e){var t=this;return this.clone(n,"add('"+e+"')").postCore().then(function(n){return{data:n,folder:t.getByName(e)}})};var n;return t=n=o([h("folders")],t)}(R),we=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.update=t._update("SP.Folder",function(e){return{data:e,folder:t}}),t}return r(t,e),Object.defineProperty(t.prototype,"contentTypeOrder",{get:function(){return new R(this,"contentTypeOrder")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"files",{get:function(){return new Ze(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"folders",{get:function(){return new Te(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listItemAllFields",{get:function(){return new N(this,"listItemAllFields")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentFolder",{get:function(){return new t(this,"parentFolder")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return new N(this,"properties")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverRelativeUrl",{get:function(){return new j(this,"serverRelativeUrl")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueContentTypeOrder",{get:function(){return new R(this,"uniqueContentTypeOrder")},enumerable:!0,configurable:!0}),t.prototype.delete=function(e){return void 0===e&&(e="*"),this.clone(t,null).postCore({headers:{"IF-Match":e,"X-HTTP-Method":"DELETE"}})},t.prototype.recycle=function(){return this.clone(t,"recycle").postCore()},t.prototype.getItem=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.listItemAllFields;return n.select.apply(n,e).get().then(function(e){return Object(v.f)(new ze(s(e)),e)})},t.prototype.moveTo=function(e){var t=this;return this.select("ServerRelativeUrl").get().then(function(n){var r=n.ServerRelativeUrl,o=new P,i=t.toUrl().split("/_api")[0],u=i.replace("://","___").split("/")[0].replace("___","://"),a=i+"/_api/SP.MoveCopyUtil.MoveFolder()";return o.post(a,{body:Object(v.n)({destUrl:0===e.indexOf("http")?e:""+u+e,srcUrl:""+u+r})}).then(function(e){return e.json()})})},t}(ve),Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.addAvailableContentType=function(e){var t=this,r=Object(v.n)({contentTypeId:e});return this.clone(n,"addAvailableContentType").postCore({body:r}).then(function(e){return{contentType:t.getById(e.id),data:e}})},t.prototype.getById=function(e){var t=new Ce(this);return t.concat("('"+e+"')"),t},t.prototype.add=function(e,t,n,r,o){var i=this;void 0===n&&(n=""),void 0===r&&(r="Custom Content Types"),void 0===o&&(o={});var u=Object(v.n)(Object.assign(f("SP.ContentType"),{Description:n,Group:r,Id:{StringValue:e},Name:t},o));return this.postCore({body:u}).then(function(e){return{contentType:i.getById(e.id),data:e}})};var n;return t=n=o([h("contenttypes")],t)}(R),Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delete=t._delete,t}return r(t,e),Object.defineProperty(t.prototype,"fieldLinks",{get:function(){return new Ie(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return new R(this,"fields")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new t(this,"parent")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workflowAssociations",{get:function(){return new R(this,"workflowAssociations")},enumerable:!0,configurable:!0}),t}(N),Ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getById=function(e){var t=new Pe(this);return t.concat("(guid'"+e+"')"),t},t=o([h("fieldlinks")],t)}(R),Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(N),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getByName=function(e){var t=new je(this);return t.concat("('"+e+"')"),t},t.prototype.add=function(e,t){var r=this;return this.clone(n,"add(FileName='"+e+"')",!1).postCore({body:t}).then(function(t){return{data:t,file:r.getByName(e)}})},t.prototype.addMultiple=function(e){var t=this;return e.reduce(function(e,r){return e.then(function(){return t.clone(n,"add(FileName='"+r.name+"')",!1).postCore({body:r.content})})},Promise.resolve())},t.prototype.deleteMultiple=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reduce(function(t,n){return t.then(function(){return e.getByName(n).delete()})},Promise.resolve())},t.prototype.recycleMultiple=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reduce(function(t,n){return t.then(function(){return e.getByName(n).recycle()})},Promise.resolve())};var n;return t=n=o([h("AttachmentFiles")],t)}(R),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delete=t._deleteWithETag,t}return r(t,e),t.prototype.getText=function(){return this.getParsed(new m.i)},t.prototype.getBlob=function(){return this.getParsed(new m.a)},t.prototype.getBuffer=function(){return this.getParsed(new m.b)},t.prototype.getJSON=function(){return this.getParsed(new m.d)},t.prototype.setContent=function(e){var n=this;return this.clone(t,"$value",!1).postCore({body:e,headers:{"X-HTTP-Method":"PUT"}}).then(function(e){return new t(n)})},t.prototype.recycle=function(e){return void 0===e&&(e="*"),this.clone(t,"recycleObject").postCore({headers:{"IF-Match":e,"X-HTTP-Method":"DELETE"}})},t.prototype.getParsed=function(e){return this.clone(t,"$value",!1).get(e)},t}(N),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){var t=new Ne(this);return t.concat("('"+e+"')"),t},t.prototype.getByTitle=function(e){return new Ne(this,"getByTitle('"+e+"')")},t.prototype.add=function(e,t,r){var o=this;void 0===t&&(t=!1),void 0===r&&(r={});var i=Object(v.n)(Object.assign(f("SP.View"),{PersonalView:t,Title:e},r));return this.clone(n,null).postCore({body:i}).then(function(e){return{data:e,view:o.getById(e.Id)}})};var n;return t=n=o([h("views")],t)}(R),Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.update=t._update("SP.View",function(e){return{data:e,view:t}}),t.delete=t._delete,t}return r(t,e),Object.defineProperty(t.prototype,"fields",{get:function(){return new xe(this)},enumerable:!0,configurable:!0}),t.prototype.renderAsHtml=function(){return this.clone(j,"renderashtml").get()},t.prototype.setViewXml=function(e){return this.clone(t,"SetViewXml").postCore({body:Object(v.n)({viewXml:e})})},t}(N),xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getSchemaXml=function(){return this.clone(j,"schemaxml").get()},t.prototype.add=function(e){return this.clone(n,"addviewfield('"+e+"')").postCore()},t.prototype.move=function(e,t){return this.clone(n,"moveviewfieldto").postCore({body:Object(v.n)({field:e,index:t})})},t.prototype.removeAll=function(){return this.clone(n,"removeallviewfields").postCore()},t.prototype.remove=function(e){return this.clone(n,"removeviewfield('"+e+"')").postCore()};var n;return t=n=o([h("viewfields")],t)}(R),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){var t=new Ue(this);return t.concat("('"+e+"')"),t},t.prototype.getByTitle=function(e){return new Ue(this,"getByTitle('"+e+"')")},t.prototype.getByInternalNameOrTitle=function(e){return new Ue(this,"getByInternalNameOrTitle('"+e+"')")},t.prototype.createFieldAsXml=function(e){var t,r=this;t="string"==typeof e?{SchemaXml:e}:e;var o=Object(v.n)({parameters:Object(v.f)(f("SP.XmlSchemaFieldCreationInformation"),t)});return this.clone(n,"createfieldasxml").postCore({body:o}).then(function(e){return{data:e,field:r.getById(e.Id)}})},t.prototype.add=function(e,t,r){var o=this,i=Object(v.n)(Object.assign(f(t),{Title:e},r));return this.clone(n,null).postCore({body:i}).then(function(e){return{data:e,field:o.getById(e.Id)}})},t.prototype.addText=function(e,t,n){void 0===t&&(t=255);var r={FieldTypeKind:2,MaxLength:t};return this.add(e,"SP.FieldText",Object(v.f)(r,n))},t.prototype.addCalculated=function(e,t,n,r,o){void 0===r&&(r=H.Text);var i={DateFormat:n,FieldTypeKind:17,Formula:t,OutputType:r};return this.add(e,"SP.FieldCalculated",Object(v.f)(i,o))},t.prototype.addDateTime=function(e,t,n,r,o){void 0===t&&(t=K.DateOnly),void 0===n&&(n=Q.Gregorian),void 0===r&&(r=V.Unspecified);var i={DateTimeCalendarType:n,DisplayFormat:t,FieldTypeKind:4,FriendlyDisplayFormat:r};return this.add(e,"SP.FieldDateTime",Object(v.f)(i,o))},t.prototype.addNumber=function(e,t,n,r){var o={FieldTypeKind:9};return void 0!==t&&(o=Object(v.f)({MinimumValue:t},o)),void 0!==n&&(o=Object(v.f)({MaximumValue:n},o)),this.add(e,"SP.FieldNumber",Object(v.f)(o,r))},t.prototype.addCurrency=function(e,t,n,r,o){void 0===r&&(r=1033);var i={CurrencyLocaleId:r,FieldTypeKind:10};return void 0!==t&&(i=Object(v.f)({MinimumValue:t},i)),void 0!==n&&(i=Object(v.f)({MaximumValue:n},i)),this.add(e,"SP.FieldCurrency",Object(v.f)(i,o))},t.prototype.addMultilineText=function(e,t,n,r,o,i,u){void 0===t&&(t=6),void 0===n&&(n=!0),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=!0);var a={AllowHyperlink:i,AppendOnly:o,FieldTypeKind:3,NumberOfLines:t,RestrictedMode:r,RichText:n};return this.add(e,"SP.FieldMultiLineText",Object(v.f)(a,u))},t.prototype.addUrl=function(e,t,n){void 0===t&&(t=$.Hyperlink);var r={DisplayFormat:t,FieldTypeKind:11};return this.add(e,"SP.FieldUrl",Object(v.f)(r,n))},t.prototype.addUser=function(e,t,n){var r={FieldTypeKind:20,SelectionMode:t};return this.add(e,"SP.FieldUser",Object(v.f)(r,n))},t.prototype.addLookup=function(e,t,r,o){var i=this,u=Object(v.f)({FieldTypeKind:7,LookupFieldName:r,LookupListId:t,Title:e},o),a=Object(v.n)({parameters:Object(v.f)(f("SP.FieldCreationInformation"),u)});return this.clone(n,"addfield").postCore({body:a}).then(function(e){return{data:e,field:i.getById(e.Id)}})},t.prototype.addChoice=function(e,t,n,r,o){void 0===n&&(n=se.Dropdown);var i={Choices:{results:t},EditFormat:n,FieldTypeKind:6,FillInChoice:r};return this.add(e,"SP.FieldChoice",Object(v.f)(i,o))},t.prototype.addMultiChoice=function(e,t,n,r){var o={Choices:{results:t},FieldTypeKind:15,FillInChoice:n};return this.add(e,"SP.FieldMultiChoice",Object(v.f)(o,r))},t.prototype.addBoolean=function(e,t){var n={FieldTypeKind:8};return this.add(e,"SP.Field",Object(v.f)(n,t))},t.prototype.addDependentLookupField=function(e,t,r){var o=this;return this.clone(n,"adddependentlookupfield(displayName='"+e+"', primarylookupfieldid='"+t+"', showfield='"+r+"')").postCore().then(function(e){return{data:e,field:o.getById(e.Id)}})},t.prototype.addLocation=function(e,t){var n={FieldTypeKind:33};return this.add(e,"SP.FieldLocation",Object(v.f)(n,t))};var n;return t=n=o([h("fields")],t)}(R),Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delete=t._delete,t}return r(t,e),t.prototype.update=function(e,t){var n=this;void 0===t&&(t="SP.Field");var r=Object(v.n)(Object(v.f)(f(t),e));return this.postCore({body:r,headers:{"X-HTTP-Method":"MERGE"}}).then(function(e){return{data:e,field:n}})},t.prototype.setShowInDisplayForm=function(e){return this.clone(t,"setshowindisplayform("+e+")").postCore()},t.prototype.setShowInEditForm=function(e){return this.clone(t,"setshowineditform("+e+")").postCore()},t.prototype.setShowInNewForm=function(e){return this.clone(t,"setshowinnewform("+e+")").postCore()},t}(N),ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getById=function(e){var t=new Le(this);return t.concat("('"+e+"')"),t},t=o([h("forms")],t)}(R),Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(N),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getById=function(e){var t=new Fe(this);return t.concat("('"+e+"')"),t},t.prototype.add=function(e,t,n){var r=this,o={expirationDateTime:t,notificationUrl:e,resource:this.toUrl()};return n&&(o.clientState=n),this.postCore({body:Object(v.n)(o),headers:{"Content-Type":"application/json"}}).then(function(e){return{data:e,subscription:r.getById(e.id)}})},t=o([h("subscriptions")],t)}(R),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.update=function(e,t,n){var r=this,o={};return e&&(o.expirationDateTime=e),t&&(o.notificationUrl=t),n&&(o.clientState=n),this.patchCore({body:Object(v.n)(o),headers:{"Content-Type":"application/json"}}).then(function(e){return{data:e,subscription:r}})},t.prototype.delete=function(){return e.prototype.deleteCore.call(this)},t}(N),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){var t=new qe(this);return t.concat("('"+e+"')"),t},t.prototype.add=function(e){var t=this,n=Object(v.n)(Object(v.f)({__metadata:{type:"SP.UserCustomAction"}},e));return this.postCore({body:n}).then(function(e){return{action:t.getById(e.Id),data:e}})},t.prototype.clear=function(){return this.clone(n,"clear").postCore()};var n;return t=n=o([h("usercustomactions")],t)}(R),qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.update=t._update("SP.UserCustomAction",function(e){return{data:e,action:t}}),t}return r(t,e),t.prototype.delete=function(){return e.prototype.deleteCore.call(this)},t}(N),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){var t=new Ge(this);return t.concat("('"+e+"')"),t},t.prototype.getByTitle=function(e){return new Ge(this,"getByTitle('"+e+"')")},t.prototype.add=function(e,t,n,r,o){var i=this;void 0===t&&(t=""),void 0===n&&(n=100),void 0===r&&(r=!1),void 0===o&&(o={});var u=Object(v.f)({AllowContentTypes:r,BaseTemplate:n,ContentTypesEnabled:r,Description:t,Title:e,__metadata:{type:"SP.List"}},o);return this.postCore({body:Object(v.n)(u)}).then(function(e){return{data:e,list:i.getByTitle(u.Title)}})},t.prototype.ensure=function(e,t,n,r,o){var i=this;if(void 0===t&&(t=""),void 0===n&&(n=100),void 0===r&&(r=!1),void 0===o&&(o={}),this.hasBatch)throw Error("The ensure list method is not supported for use in a batch.");return new Promise(function(u,a){var s=Object(v.f)(o,{Title:e,Description:t,ContentTypesEnabled:r},!0),c=i.getByTitle(s.Title);c.get().then(function(e){c.update(s).then(function(e){u({created:!1,data:e,list:i.getByTitle(s.Title)})}).catch(function(e){return a(e)})}).catch(function(o){i.add(e,t,n,r,s).then(function(e){u({created:!0,data:e.data,list:i.getByTitle(s.Title)})}).catch(function(e){return a(e)})})})},t.prototype.ensureSiteAssetsLibrary=function(){return this.clone(n,"ensuresiteassetslibrary").postCore().then(function(e){return new Ge(s(e))})},t.prototype.ensureSitePagesLibrary=function(){return this.clone(n,"ensuresitepageslibrary").postCore().then(function(e){return new Ge(s(e))})};var n;return t=n=o([h("lists")],t)}(R),Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"contentTypes",{get:function(){return new Oe(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return new Ve(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"views",{get:function(){return new Re(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return new Ae(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forms",{get:function(){return new ke(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultView",{get:function(){return new Ne(this,"DefaultView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userCustomActions",{get:function(){return new Be(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectiveBasePermissions",{get:function(){return new j(this,"EffectiveBasePermissions")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventReceivers",{get:function(){return new R(this,"EventReceivers")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relatedFields",{get:function(){return new j(this,"getRelatedFields")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"informationRightsManagementSettings",{get:function(){return new j(this,"InformationRightsManagementSettings")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptions",{get:function(){return new De(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootFolder",{get:function(){return new we(this,"rootFolder")},enumerable:!0,configurable:!0}),t.prototype.getView=function(e){return new Ne(this,"getView('"+e+"')")},t.prototype.update=function(e,n){var r=this;void 0===n&&(n="*");var o=Object(v.n)(Object(v.f)({__metadata:{type:"SP.List"}},e));return this.postCore({body:o,headers:{"IF-Match":n,"X-HTTP-Method":"MERGE"}}).then(function(n){var o=r;return Object(v.j)(e,"Title")&&(o=r.getParent(t,r.parentUrl,"getByTitle('"+e.Title+"')")),{data:n,list:o}})},t.prototype.delete=function(e){return void 0===e&&(e="*"),this.postCore({headers:{"IF-Match":e,"X-HTTP-Method":"DELETE"}})},t.prototype.getChanges=function(e){return this.clone(t,"getchanges").postCore({body:Object(v.n)({query:Object(v.f)(f("SP.ChangeQuery"),e)})})},t.prototype.getItemsByCAMLQuery=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.clone(t,"getitems");return o.expand.apply(o,n).postCore({body:Object(v.n)({query:Object(v.f)({__metadata:{type:"SP.CamlQuery"}},e)})})},t.prototype.getListItemChangesSinceToken=function(e){return this.clone(t,"getlistitemchangessincetoken").postCore({body:Object(v.n)({query:Object(v.f)({__metadata:{type:"SP.ChangeLogItemQuery"}},e)})},{parse:function(e){return e.text()}})},t.prototype.recycle=function(){return this.clone(t,"recycle").postCore().then(function(e){return Object(v.j)(e,"Recycle")?e.Recycle:e})},t.prototype.renderListData=function(e){var n=this.clone(t,"renderlistdata(@viewXml)");return n.query.set("@viewXml","'"+e+"'"),n.postCore().then(function(e){return JSON.parse(Object(v.j)(e,"RenderListData")?e.RenderListData:e)})},t.prototype.renderListDataAsStream=function(e,n){void 0===n&&(n=null);var r={overrideParameters:Object(v.f)(f("SP.RenderListDataOverrideParameters"),n),parameters:Object(v.f)(f("SP.RenderListDataParameters"),e)};return this.clone(t,"RenderListDataAsStream",!0).postCore({body:Object(v.n)(r)})},t.prototype.renderListFormData=function(e,n,r){return this.clone(t,"renderlistformdata(itemid="+e+", formid='"+n+"', mode='"+r+"')").postCore().then(function(e){return JSON.parse(Object(v.j)(e,"RenderListFormData")?e.RenderListFormData:e)})},t.prototype.reserveListItemId=function(){return this.clone(t,"reservelistitemid").postCore().then(function(e){return Object(v.j)(e,"ReserveListItemId")?e.ReserveListItemId:e})},t.prototype.getListItemEntityTypeFullName=function(){return this.clone(t,null,!1).select("ListItemEntityTypeFullName").get().then(function(e){return e.ListItemEntityTypeFullName})},t.prototype.addValidateUpdateItemUsingPath=function(e,n,r,o){return void 0===r&&(r=!1),this.clone(t,"AddValidateUpdateItemUsingPath()").postCore({body:Object(v.n)({bNewDocumentUpdate:r,checkInComment:o,formValues:e,listItemCreateInfo:{FolderPath:{DecodedUrl:n,__metadata:{type:"SP.ResourcePath"}},__metadata:{type:"SP.ListItemCreationInformationUsingPath"}}})}).then(function(e){return void 0!==e.AddValidateUpdateItemUsingPath?e.AddValidateUpdateItemUsingPath.results:e})},t}(pe),We=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.add=function(e){var t=this;"string"==typeof e&&(e={text:e});var r=Object(v.n)(Object(v.f)(f("Microsoft.SharePoint.Comments.comment"),e));return this.clone(n,null).postCore({body:r}).then(function(e){return Object(v.f)(t.getById(e.id),e)})},t.prototype.getById=function(e){var t=new He(this);return t.concat("("+e+")"),t},t.prototype.clear=function(){return this.clone(n,"DeleteAll").postCore()};var n;return t=n=o([h("comments")],t)}(R),He=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"replies",{get:function(){return new Ke(this)},enumerable:!0,configurable:!0}),t.prototype.like=function(){return this.clone(t,"Like").postCore()},t.prototype.unlike=function(){return this.clone(t,"Unlike").postCore()},t.prototype.delete=function(){return this.clone(t,"DeleteComment").postCore()},t}(N),Ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.add=function(e){"string"==typeof e&&(e={text:e});var t=Object(v.n)(Object(v.f)(f("Microsoft.SharePoint.Comments.comment"),e));return this.clone(n,null).postCore({body:t}).then(function(e){return Object(v.f)(new He(s(e)),e)})};var n;return t=n=o([h("replies")],t)}(R),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){var t=new ze(this);return t.concat("("+e+")"),t},t.prototype.getItemByStringId=function(e){return new ze(this.parentUrl,"getItemByStringId('"+e+"')")},t.prototype.skip=function(e,t){return void 0===t&&(t=!1),t?this.query.set("$skiptoken",encodeURIComponent("Paged=TRUE&PagedPrev=TRUE&p_ID="+e)):this.query.set("$skiptoken",encodeURIComponent("Paged=TRUE&p_ID="+e)),this},t.prototype.getPaged=function(){return this.get(new Xe(this))},t.prototype.getAll=function(e,t){void 0===e&&(e=2e3),void 0===t&&(t="application/json;odata=nometadata"),b.b.write("Calling items.getAll should be done sparingly. Ensure this is the correct choice. If you are unsure, it is not.",2);var r=new n(this,"").top(e).configure({headers:{Accept:t}});return this.query.forEach(function(e,t){/^\$select|filter|top|expand$/i.test(t)&&r.query.set(t,e)}),new Promise(function(e,t){var n=[],o=function(r){[].push.apply(n,r.results),r.hasNext?r.getNext().then(o).catch(t):e(n)};r.getPaged().then(o).catch(t)})},t.prototype.add=function(e,t){var r=this;void 0===e&&(e={}),void 0===t&&(t=null);var o=this.addBatchDependency();return this.ensureListItemEntityTypeName(t).then(function(t){var i=Object(v.n)(Object(v.f)(f(t),e)),u=r.clone(n,"").postCore({body:i}).then(function(e){return{data:e,item:r.getById(e.Id)}});return o(),u})},t.prototype.ensureListItemEntityTypeName=function(e){return e?Promise.resolve(e):this.getParent(Ge).getListItemEntityTypeFullName()};var n;return t=n=o([h("items")],t)}(R),ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delete=t._deleteWithETag,t}return r(t,e),Object.defineProperty(t.prototype,"attachmentFiles",{get:function(){return new Ee(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return new Ce(this,"ContentType")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"comments",{get:function(){return new We(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectiveBasePermissions",{get:function(){return new j(this,"EffectiveBasePermissions")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectiveBasePermissionsForUI",{get:function(){return new j(this,"EffectiveBasePermissionsForUI")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldValuesAsHTML",{get:function(){return new N(this,"FieldValuesAsHTML")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldValuesAsText",{get:function(){return new N(this,"FieldValuesAsText")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldValuesForEdit",{get:function(){return new N(this,"FieldValuesForEdit")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"folder",{get:function(){return new we(this,"folder")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"file",{get:function(){return new et(this,"file")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"versions",{get:function(){return new Qe(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"list",{get:function(){return this.getParent(Ge,this.parentUrl.substr(0,this.parentUrl.lastIndexOf("/")))},enumerable:!0,configurable:!0}),t.prototype.update=function(e,t,n){var r=this;return void 0===t&&(t="*"),void 0===n&&(n=null),new Promise(function(o,i){var u=r.addBatchDependency();return r.ensureListItemEntityTypeName(n).then(function(n){var i=Object(v.n)(Object(v.f)(f(n),e));return u(),r.postCore({body:i,headers:{"IF-Match":t,"X-HTTP-Method":"MERGE"}},new Ye).then(function(e){o({data:e,item:r})})}).catch(function(e){return i(e)})})},t.prototype.getLikedBy=function(){return this.clone(t,"likedBy").postCore()},t.prototype.like=function(){return this.clone(t,"like").postCore()},t.prototype.unlike=function(){return this.clone(t,"unlike").postCore()},t.prototype.recycle=function(){return this.clone(t,"recycle").postCore()},t.prototype.getWopiFrameUrl=function(e){void 0===e&&(e=0);var n=this.clone(t,"getWOPIFrameUrl(@action)");return n.query.set("@action",e),n.postCore().then(function(e){return Object(v.j)(e,"GetWOPIFrameUrl")?e.GetWOPIFrameUrl:e})},t.prototype.validateUpdateListItem=function(e,n){return void 0===n&&(n=!1),this.clone(t,"validateupdatelistitem").postCore({body:Object(v.n)({formValues:e,bNewDocumentUpdate:n})})},t.prototype.getLikedByInformation=function(){return this.clone(t,"likedByInformation").expand("likedby").getCore()},t.prototype.ensureListItemEntityTypeName=function(e){return e?Promise.resolve(e):this.list.getListItemEntityTypeFullName()},t}(de),Qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getById=function(e){var t=new $e(this);return t.concat("("+e+")"),t},t=o([h("versions")],t)}(R),$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delete=t._deleteWithETag,t}return r(t,e),t}(N),Je=function(){function e(e,t,n){this.parent=e,this.nextUrl=t,this.results=n}return Object.defineProperty(e.prototype,"hasNext",{get:function(){return"string"==typeof this.nextUrl&&this.nextUrl.length>0},enumerable:!0,configurable:!0}),e.prototype.getNext=function(){if(this.hasNext){return new Ve(this.nextUrl,null).configureFrom(this.parent).getPaged()}return new Promise(function(e){return e(null)})},e}(),Xe=function(e){function t(t){var n=e.call(this)||this;return n._parent=t,n}return r(t,e),t.prototype.parse=function(e){var t=this;return new Promise(function(n,r){t.handleError(e,r)&&e.json().then(function(e){var r=Object(v.j)(e,"d")&&Object(v.j)(e.d,"__next")?e.d.__next:e["odata.nextLink"];n(new Je(t._parent,r,t.parseODataJSON(e)))})})},t}(m.g),Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.parse=function(e){return i(this,void 0,void 0,function(){var t=this;return u(this,function(n){return[2,new Promise(function(n,r){t.handleError(e,r)&&n({"odata.etag":e.headers.get("etag")})})]})})},t}(m.g),Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getByName=function(e){var t=new et(this);return t.concat("('"+e+"')"),t},t.prototype.add=function(e,t,r){var o=this;return void 0===r&&(r=!0),new n(this,"add(overwrite="+r+",url='"+e+"')").postCore({body:t}).then(function(t){return{data:t,file:o.getByName(e)}})},t.prototype.addChunked=function(e,t,r,o,i){var u=this;return void 0===o&&(o=!0),void 0===i&&(i=10485760),this.clone(n,"add(overwrite="+o+",url='"+e+"')",!1).postCore().then(function(){return u.getByName(e)}).then(function(e){return e.setContentChunked(t,r,i)})},t.prototype.addTemplateFile=function(e,t){var r=this;return this.clone(n,"addTemplateFile(urloffile='"+e+"',templatefiletype="+t+")",!1).postCore().then(function(t){return{data:t,file:r.getByName(e)}})};var n;return t=n=o([h("files")],t)}(R),et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"listItemAllFields",{get:function(){return new N(this,"listItemAllFields")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"versions",{get:function(){return new tt(this)},enumerable:!0,configurable:!0}),t.prototype.approve=function(e){return void 0===e&&(e=""),this.clone(t,"approve(comment='"+e+"')").postCore()},t.prototype.cancelUpload=function(e){return this.clone(t,"cancelUpload(uploadId=guid'"+e+"')",!1).postCore()},t.prototype.checkin=function(e,n){if(void 0===e&&(e=""),void 0===n&&(n=le.Major),e.length>1023)throw Error("The maximum comment length is 1023 characters.");return this.clone(t,"checkin(comment='"+e+"',checkintype="+n+")").postCore()},t.prototype.checkout=function(){return this.clone(t,"checkout").postCore()},t.prototype.copyTo=function(e,n){return void 0===n&&(n=!0),this.clone(t,"copyTo(strnewurl='"+e+"',boverwrite="+n+")").postCore()},t.prototype.delete=function(e){return void 0===e&&(e="*"),this.clone(t,null).postCore({headers:{"IF-Match":e,"X-HTTP-Method":"DELETE"}})},t.prototype.deny=function(e){if(void 0===e&&(e=""),e.length>1023)throw Error("The maximum comment length is 1023 characters.");return this.clone(t,"deny(comment='"+e+"')").postCore()},t.prototype.getLimitedWebPartManager=function(e){return void 0===e&&(e=rt.Shared),new be(this,"getLimitedWebPartManager(scope="+e+")")},t.prototype.moveTo=function(e,n){return void 0===n&&(n=ot.Overwrite),this.clone(t,"moveTo(newurl='"+e+"',flags="+n+")").postCore()},t.prototype.publish=function(e){if(void 0===e&&(e=""),e.length>1023)throw Error("The maximum comment length is 1023 characters.");return this.clone(t,"publish(comment='"+e+"')").postCore()},t.prototype.recycle=function(){return this.clone(t,"recycle").postCore()},t.prototype.undoCheckout=function(){return this.clone(t,"undoCheckout").postCore()},t.prototype.unpublish=function(e){if(void 0===e&&(e=""),e.length>1023)throw Error("The maximum comment length is 1023 characters.");return this.clone(t,"unpublish(comment='"+e+"')").postCore()},t.prototype.getText=function(){return this.clone(t,"$value",!1).get(new m.i,{headers:{binaryStringResponseBody:"true"}})},t.prototype.getBlob=function(){return this.clone(t,"$value",!1).get(new m.a,{headers:{binaryStringResponseBody:"true"}})},t.prototype.getBuffer=function(){return this.clone(t,"$value",!1).get(new m.b,{headers:{binaryStringResponseBody:"true"}})},t.prototype.getJSON=function(){return this.clone(t,"$value",!1).get(new m.d,{headers:{binaryStringResponseBody:"true"}})},t.prototype.setContent=function(e){var n=this;return this.clone(t,"$value",!1).postCore({body:e,headers:{"X-HTTP-Method":"PUT"}}).then(function(e){return new t(n)})},t.prototype.getItem=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.listItemAllFields;return r.select.apply(r,t).get().then(function(t){return Object(v.f)(new ze(s(t)).configureFrom(e),t)})},t.prototype.setContentChunked=function(e,t,n){var r=this;void 0===n&&(n=10485760),void 0===t&&(t=function(){return null});var o=e.size,i=parseInt((e.size/n).toString(),10)+(e.size%n==0?1:0),u=Object(v.h)();t({uploadId:u,blockNumber:1,chunkSize:n,currentPointer:0,fileSize:o,stage:"starting",totalBlocks:i});for(var a=this.startUpload(u,e.slice(0,n)),s=2;s<i;s++)!function(s){a=a.then(function(a){return t({uploadId:u,blockNumber:s,chunkSize:n,currentPointer:a,fileSize:o,stage:"continue",totalBlocks:i}),r.continueUpload(u,a,e.slice(a,a+n))})}(s);return a.then(function(a){return t({uploadId:u,blockNumber:i,chunkSize:n,currentPointer:a,fileSize:o,stage:"finishing",totalBlocks:i}),r.finishUpload(u,a,e.slice(a))})},t.prototype.startUpload=function(e,n){return this.clone(t,"startUpload(uploadId=guid'"+e+"')",!1).postCore({body:n}).then(function(e){return"object"==typeof e&&(e=e.StartUpload),parseFloat(e)})},t.prototype.continueUpload=function(e,n,r){return this.clone(t,"continueUpload(uploadId=guid'"+e+"',fileOffset="+n+")",!1).postCore({body:r}).then(function(e){return"object"==typeof e&&(e=e.ContinueUpload),parseFloat(e)})},t.prototype.finishUpload=function(e,n,r){return this.clone(t,"finishUpload(uploadId=guid'"+e+"',fileOffset="+n+")",!1).postCore({body:r}).then(function(e){return{data:e,file:new t(s(e))}})},t}(ge),tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){var t=new nt(this);return t.concat("("+e+")"),t},t.prototype.deleteAll=function(){return new n(this,"deleteAll").postCore()},t.prototype.deleteById=function(e){return this.clone(n,"deleteById(vid="+e+")").postCore()},t.prototype.recycleByID=function(e){return this.clone(n,"recycleByID(vid="+e+")").postCore()},t.prototype.deleteByLabel=function(e){return this.clone(n,"deleteByLabel(versionlabel='"+e+"')").postCore()},t.prototype.recycleByLabel=function(e){return this.clone(n,"recycleByLabel(versionlabel='"+e+"')").postCore()},t.prototype.restoreByLabel=function(e){return this.clone(n,"restoreByLabel(versionlabel='"+e+"')").postCore()};var n;return t=n=o([h("versions")],t)}(R),nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delete=t._deleteWithETag,t}return r(t,e),t}(N);!function(e){e[e.Minor=0]="Minor",e[e.Major=1]="Major",e[e.Overwrite=2]="Overwrite"}(le||(le={}));var rt;!function(e){e[e.User=0]="User",e[e.Shared=1]="Shared"}(rt||(rt={}));var ot;!function(e){e[e.Overwrite=1]="Overwrite",e[e.AllowBrokenThickets=8]="AllowBrokenThickets"}(ot||(ot={}));var it;!function(e){e[e.StandardPage=0]="StandardPage",e[e.WikiPage=1]="WikiPage",e[e.FormPage=2]="FormPage",e[e.ClientSidePage=3]="ClientSidePage"}(it||(it={}));var ut,at=function(e){function t(t,n){return void 0===n&&(n="_api/web/tenantappcatalog/AvailableApps"),e.call(this,a("string"==typeof t?t:t.toUrl()),n)||this}return r(t,e),t.prototype.getAppById=function(e){return new st(this,"getById('"+e+"')")},t.prototype.add=function(e,n,r){void 0===r&&(r=!0);var o=this.toUrl().indexOf("tenantappcatalog")>0?"tenantappcatalog":"sitecollectionappcatalog";return new t(a(this.toUrl()),"_api/web/"+o+"/add(overwrite="+r+",url='"+e+"')").postCore({body:n}).then(function(e){return{data:e,file:new et(s(e))}})},t}(R),st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.deploy=function(e){return void 0===e&&(e=!1),this.clone(t,"Deploy("+e+")").postCore()},t.prototype.retract=function(){return this.clone(t,"Retract").postCore()},t.prototype.install=function(){return this.clone(t,"Install").postCore()},t.prototype.uninstall=function(){return this.clone(t,"Uninstall").postCore()},t.prototype.upgrade=function(){return this.clone(t,"Upgrade").postCore()},t.prototype.remove=function(){return this.clone(t,"Remove").postCore()},t}(N),ct=function(e){function t(t){var n=e.call(this)||this;return n.baseUrl=t,n}return r(t,e),t.ParseResponse=function(e){return new Promise(function(t,n){for(var r,o,i=[],u=new RegExp("^HTTP/[0-9.]+ +([0-9]+) +(.*)","i"),a=e.split("\n"),s="batch",c=0;c<a.length;++c){var l=a[c];switch(s){case"batch":if("--batchresponse_"===l.substr(0,"--batchresponse_".length))s="batchHeaders";else if(""!==l.trim())throw Error("Invalid response, line "+c);break;case"batchHeaders":""===l.trim()&&(s="status");break;case"status":var p=u.exec(l);if(3!==p.length)throw Error("Invalid status, line "+c);r=parseInt(p[1],10),o=p[2],s="statusHeaders";break;case"statusHeaders":""===l.trim()&&(s="body");break;case"body":i.push(204===r?new Response:new Response(l,{status:r,statusText:o})),s="batch"}}"status"!==s&&n(Error("Unexpected end of input")),t(i)})},t.prototype.executeImpl=function(){var e=this;if(b.b.write("["+this.batchId+"] ("+(new Date).getTime()+") Executing batch with "+this.requests.length+" requests.",1),this.requests.length<1)return b.b.write("Resolving empty batch.",1),Promise.resolve();var n=new P;return p(this.baseUrl).then(function(r){for(var o=[],i="",u=0;u<e.requests.length;u++){var a=e.requests[u];"GET"===a.method?(i.length>0&&(o.push("--changeset_"+i+"--\n\n"),i=""),o.push("--batch_"+e.batchId+"\n")):(i.length<1&&(i=Object(v.h)(),o.push("--batch_"+e.batchId+"\n"),o.push('Content-Type: multipart/mixed; boundary="changeset_'+i+'"\n\n')),o.push("--changeset_"+i+"\n")),o.push("Content-Type: application/http\n"),o.push("Content-Transfer-Encoding: binary\n\n");var s=new Headers,c=Object(v.m)(a.url)?a.url:Object(v.d)(r,a.url);if(b.b.write("["+e.batchId+"] ("+(new Date).getTime()+") Adding request "+a.method+" "+c+" to batch.",0),"GET"!==a.method){var l=a.method,p=a.options.headers;Object(v.j)(a,"options")&&Object(v.j)(a.options,"headers")&&void 0!==p["X-HTTP-Method"]&&(l=p["X-HTTP-Method"],delete p["X-HTTP-Method"]),o.push(l+" "+c+" HTTP/1.1\n"),s.set("Content-Type","application/json;odata=verbose;charset=utf-8")}else o.push(a.method+" "+c+" HTTP/1.1\n");Object(v.o)(s,w.headers),a.options&&Object(v.o)(s,a.options.headers),s.has("Accept")||s.append("Accept","application/json"),s.has("Content-Type")||s.append("Content-Type","application/json;odata=verbose;charset=utf-8"),s.has("X-ClientService-ClientTag")||s.append("X-ClientService-ClientTag","PnPCoreJS:@pnp-1.3.2"),s.forEach(function(e,t){o.push(t+": "+e+"\n")}),o.push("\n"),a.options.body&&o.push(a.options.body+"\n\n")}i.length>0&&(o.push("--changeset_"+i+"--\n\n"),i=""),o.push("--batch_"+e.batchId+"--\n");var f={body:o.join(""),headers:{"Content-Type":"multipart/mixed; boundary=batch_"+e.batchId},method:"POST"};return b.b.write("["+e.batchId+"] ("+(new Date).getTime()+") Sending batch request.",1),n.fetch(Object(v.d)(r,"/_api/$batch"),f).then(function(e){return e.text()}).then(t.ParseResponse).then(function(t){if(t.length!==e.requests.length)throw Error("Could not properly parse responses to match requests in batch.");return b.b.write("["+e.batchId+"] ("+(new Date).getTime()+") Resolving batched requests.",1),t.reduce(function(t,n,r){var o=e.requests[r];return b.b.write("["+o.id+"] ("+(new Date).getTime()+") Resolving request in batch "+e.batchId+".",1),t.then(function(e){return o.parser.parse(n).then(o.resolve).catch(o.reject)})},Promise.resolve())})})},t}(m.e),lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.add=function(e,t){var r=this;return void 0===t&&(t=!1),this.clone(n,"add").postCore({body:Object(v.n)({featdefScope:0,featureId:e,force:t})}).then(function(t){return{data:t,feature:r.getById(e)}})},t.prototype.getById=function(e){var t=new pt(this);return t.concat("('"+e+"')"),t},t.prototype.remove=function(e,t){return void 0===t&&(t=!1),this.clone(n,"remove").postCore({body:Object(v.n)({featureId:e,force:t})})};var n;return t=n=o([h("features")],t)}(R),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.deactivate=function(e){var n=this;void 0===e&&(e=!1);var r=this.addBatchDependency();return new t(this).select("DefinitionId").get().then(function(t){var o=n.getParent(lt,n.parentUrl,"",n.batch).remove(t.DefinitionId,e);return r(),o})},t}(N),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,Object.defineProperty(t.prototype,"rootWeb",{get:function(){return new Ot(this,"rootweb")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"features",{get:function(){return new lt(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userCustomActions",{get:function(){return new Be(this)},enumerable:!0,configurable:!0}),t.prototype.getRootWeb=function(){return this.rootWeb.select("Url").get().then(function(e){return new Ot(e.Url)})},t.prototype.getContextInfo=function(){return new n(this.parentUrl,"_api/contextinfo").postCore().then(function(e){if(Object(v.j)(e,"GetContextWebInformation")){var t=e.GetContextWebInformation;return t.SupportedSchemaVersions=t.SupportedSchemaVersions.results,t}return e})},t.prototype.getDocumentLibraries=function(e){var t=new j("","_api/sp.web.getdocumentlibraries(@v)");return t.query.set("@v","'"+e+"'"),t.get().then(function(e){return Object(v.j)(e,"GetDocumentLibraries")?e.GetDocumentLibraries:e})},t.prototype.getWebUrlFromPageUrl=function(e){var t=new j("","_api/sp.web.getweburlfrompageurl(@v)");return t.query.set("@v","'"+e+"'"),t.get().then(function(e){return Object(v.j)(e,"GetWebUrlFromPageUrl")?e.GetWebUrlFromPageUrl:e})},t.prototype.createBatch=function(){return new ct(this.parentUrl)},t.prototype.openWebById=function(e){return this.clone(n,"openWebById('"+e+"')").postCore().then(function(e){return{data:e,web:Ot.fromUrl(e["odata.id"]||e.__metadata.uri)}})},t.prototype.joinHubSite=function(e){return this.clone(n,"joinHubSite('"+e+"')").postCore()},t.prototype.registerHubSite=function(){return this.clone(n,"registerHubSite").postCore()},t.prototype.unRegisterHubSite=function(){return this.clone(n,"unRegisterHubSite").postCore()},t.prototype.createCommunicationSite=function(e,t,n,r,o,a,s,c){var l=this;void 0===t&&(t=1033),void 0===n&&(n=!1),void 0===o&&(o=""),void 0===a&&(a=""),void 0===s&&(s="00000000-0000-0000-0000-000000000000"),void 0===c&&(c="00000000-0000-0000-0000-000000000000");var p={Classification:a,Description:o,HubSiteId:c,Lcid:t,ShareByEmailEnabled:n,SiteDesignId:s,Title:e,Url:r,WebTemplate:"SITEPAGEPUBLISHING#0",WebTemplateExtensionId:"00000000-0000-0000-0000-000000000000"},f=Object(v.n)({request:Object(v.f)({__metadata:{type:"Microsoft.SharePoint.Portal.SPSiteCreationRequest"}},p)});return this.getRootWeb().then(function(e){return i(l,void 0,void 0,function(){var t,n;return u(this,function(r){return t=new P,n=e.parentUrl+"/_api/SPSiteManager/Create",[2,t.post(n,{body:f,headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose;charset=utf-8"}}).then(function(e){return e.json()})]})})})},t.prototype.createModernTeamSite=function(e,t,n,r,o,a,s,c){var l=this;void 0===n&&(n=!0),void 0===r&&(r=1033),void 0===o&&(o=""),void 0===a&&(a=""),void 0===c&&(c="00000000-0000-0000-0000-000000000000");var p=Object(v.n)({alias:t,displayName:e,isPublic:n,optionalParams:{Classification:a,CreationOptions:{results:["SPSiteLanguage:"+r,"HubSiteId:"+c]},Description:o,Owners:{results:s||[]}}});return this.getRootWeb().then(function(e){return i(l,void 0,void 0,function(){var t,n;return u(this,function(r){return t=new P,n=e.parentUrl+"/_api/GroupSiteManager/CreateGroupEx",[2,t.post(n,{body:p,headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose;charset=utf-8"}}).then(function(e){return e.json()})]})})})};var n;return t=n=o([h("_api/site")],t)}(N),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getById=function(e){var t=new dt(this);return t.concat("("+e+")"),t},t.prototype.add=function(e,n,r){var o=this;void 0===r&&(r=!0);var i=Object(v.n)(Object(v.f)(f("SP.NavigationNode"),{IsVisible:r,Title:e,Url:n}));return this.clone(t,null).postCore({body:i}).then(function(e){return{data:e,node:o.getById(e.Id)}})},t.prototype.moveAfter=function(e,n){var r=Object(v.n)({nodeId:e,previousNodeId:n});return this.clone(t,"MoveAfter").postCore({body:r})},t}(R),dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return new ht(this,"Children")},enumerable:!0,configurable:!0}),t.prototype.delete=function(){return e.prototype.deleteCore.call(this)},t.prototype.update=function(e){var t=this,n=Object(v.n)(Object(v.f)({__metadata:{type:"SP.NavigationNode"}},e));return this.postCore({body:n,headers:{"X-HTTP-Method":"MERGE"}}).then(function(e){return{data:e,node:t}})},t}(N),yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"quicklaunch",{get:function(){return new ht(this,"quicklaunch")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topNavigationBar",{get:function(){return new ht(this,"topnavigationbar")},enumerable:!0,configurable:!0}),t=o([h("navigation")],t)}(j),gt=function(e){function t(t,n){return void 0===n&&(n=null),e.call(this,t,n)||this}return r(t,e),t.prototype.getMenuState=function(e,n,r,o){return void 0===e&&(e=null),void 0===n&&(n=10),void 0===r&&(r=null),void 0===o&&(o=null),new t(this,"_api/navigation/MenuState").postCore({body:Object(v.n)({customProperties:o,depth:n,mapProviderName:r,menuNodeKey:e})})},t.prototype.getMenuNodeKey=function(e,n){return void 0===n&&(n=null),new t(this,"_api/navigation/MenuNodeKey").postCore({body:Object(v.n)({currentUrl:e,mapProviderName:n})})},t}(j),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.FromUrl=function(e){if(null===e)return new n("");var t=e.indexOf("_api/");return new n(t>-1?e.substr(0,t):e)},t.prototype.getRelatedItems=function(e,t){var r=this.clone(n,null);return r.concat(".GetRelatedItems"),r.postCore({body:Object(v.n)({SourceItemID:t,SourceListName:e})})},t.prototype.getPageOneRelatedItems=function(e,t){var r=this.clone(n,null);return r.concat(".GetPageOneRelatedItems"),r.postCore({body:Object(v.n)({SourceItemID:t,SourceListName:e})})},t.prototype.addSingleLink=function(e,t,r,o,i,u,a){void 0===a&&(a=!1);var s=this.clone(n,null);return s.concat(".AddSingleLink"),s.postCore({body:Object(v.n)({SourceItemID:t,SourceListName:e,SourceWebUrl:r,TargetItemID:i,TargetListName:o,TargetWebUrl:u,TryAddReverseLink:a})})},t.prototype.addSingleLinkToUrl=function(e,t,r,o){void 0===o&&(o=!1);var i=this.clone(n,null);return i.concat(".AddSingleLinkToUrl"),i.postCore({body:Object(v.n)({SourceItemID:t,SourceListName:e,TargetItemUrl:r,TryAddReverseLink:o})})},t.prototype.addSingleLinkFromUrl=function(e,t,r,o){void 0===o&&(o=!1);var i=this.clone(n,null);return i.concat(".AddSingleLinkFromUrl"),i.postCore({body:Object(v.n)({SourceItemUrl:e,TargetItemID:r,TargetListName:t,TryAddReverseLink:o})})},t.prototype.deleteSingleLink=function(e,t,r,o,i,u,a){void 0===a&&(a=!1);var s=this.clone(n,null);return s.concat(".DeleteSingleLink"),s.postCore({body:Object(v.n)({SourceItemID:t,SourceListName:e,SourceWebUrl:r,TargetItemID:i,TargetListName:o,TargetWebUrl:u,TryDeleteReverseLink:a})})};var n;return t=n=o([h("_api/SP.RelatedItemManager")],t)}(j),bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"installedLanguages",{get:function(){return new mt(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalInstalledLanguages",{get:function(){return new mt(this,"globalinstalledlanguages")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeZone",{get:function(){return new _t(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeZones",{get:function(){return new St(this)},enumerable:!0,configurable:!0}),t=o([h("regionalsettings")],t)}(N),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t=o([h("installedlanguages")],t)}(R),_t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.utcToLocalTime=function(e){var t;return t="string"==typeof e?e:e.toISOString(),this.clone(n,"utctolocaltime('"+t+"')").postCore().then(function(e){return Object(v.j)(e,"UTCToLocalTime")?e.UTCToLocalTime:e})},t.prototype.localTimeToUTC=function(e){var t;return t="string"==typeof e?e:Object(v.e)(e,"minute",-1*e.getTimezoneOffset()).toISOString(),this.clone(n,"localtimetoutc('"+t+"')").postCore().then(function(e){return Object(v.j)(e,"LocalTimeToUTC")?e.LocalTimeToUTC:e})};var n;return t=n=o([h("timezone")],t)}(N),St=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.getById=function(e){return this.clone(n,"GetById("+e+")").postCore({},c(_t))};var n;return t=n=o([h("timezones")],t)}(R),Tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.add=function(e,t,r,o,i,u){void 0===r&&(r=""),void 0===o&&(o="STS"),void 0===i&&(i=1033),void 0===u&&(u=!0);var a={Description:r,Language:i,Title:e,Url:t,UseSamePermissionsAsParentSite:u,WebTemplate:o},c=Object(v.n)({parameters:Object(v.f)({__metadata:{type:"SP.WebCreationInformation"}},a)});return this.clone(n,"add").postCore({body:c}).then(function(e){return{data:e,web:new Ot(s(e).replace(/_api\/web\/?/i,""))}})};var n;return t=n=o([h("webs")],t)}(R),wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t=o([h("webinfos")],t)}(R),Ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.fromUrl=function(e,t){return new n(a(e),t)},Object.defineProperty(t.prototype,"webs",{get:function(){return new Tt(this)},enumerable:!0,configurable:!0}),t.prototype.getParentWeb=function(){var e=this;return this.select("ParentWeb/Id").expand("ParentWeb").get().then(function(t){var n=t.ParentWeb;return n?new ft(e.parentUrl).openWebById(n.Id):null})},t.prototype.getSubwebsFilteredForCurrentUser=function(e,t){return void 0===e&&(e=-1),void 0===t&&(t=-1),this.clone(Tt,"getSubwebsFilteredForCurrentUser(nWebTemplateFilter="+e+",nConfigurationFilter="+t+")")},Object.defineProperty(t.prototype,"allProperties",{get:function(){return this.clone(N,"allproperties")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"webinfos",{get:function(){return new wt(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentTypes",{get:function(){return new Oe(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lists",{get:function(){return new Me(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return new Ae(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"features",{get:function(){return new lt(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availablefields",{get:function(){return new Ae(this,"availablefields")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"navigation",{get:function(){return new yt(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"siteUsers",{get:function(){return new x(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"siteGroups",{get:function(){return new D(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"siteUserInfoList",{get:function(){return new Ge(this,"siteuserinfolist")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"regionalSettings",{get:function(){return new bt(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentUser",{get:function(){return new k(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"folders",{get:function(){return new Te(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userCustomActions",{get:function(){return new Be(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"roleDefinitions",{get:function(){return new M(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relatedItems",{get:function(){return vt.FromUrl(this.toUrl())},enumerable:!0,configurable:!0}),t.prototype.createBatch=function(){return new ct(this.parentUrl)},Object.defineProperty(t.prototype,"rootFolder",{get:function(){return new we(this,"rootFolder")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"associatedOwnerGroup",{get:function(){return new F(this,"associatedownergroup")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"associatedMemberGroup",{get:function(){return new F(this,"associatedmembergroup")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"associatedVisitorGroup",{get:function(){return new F(this,"associatedvisitorgroup")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultDocumentLibrary",{get:function(){return new Ge(this,"DefaultDocumentLibrary")},enumerable:!0,configurable:!0}),t.prototype.getFolderById=function(e){return new we(this,"getFolderById('"+e+"')")},t.prototype.getFolderByServerRelativeUrl=function(e){return new we(this,"getFolderByServerRelativeUrl('"+e+"')")},t.prototype.getFolderByServerRelativePath=function(e){return new we(this,"getFolderByServerRelativePath(decodedUrl='"+e+"')")},t.prototype.getFileById=function(e){return new et(this,"getFileById('"+e+"')")},t.prototype.getFileByServerRelativeUrl=function(e){return new et(this,"getFileByServerRelativeUrl('"+e+"')")},t.prototype.getFileByServerRelativePath=function(e){return new et(this,"getFileByServerRelativePath(decodedUrl='"+e+"')")},t.prototype.getList=function(e){return new Ge(this,"getList('"+e+"')")},t.prototype.update=function(e){var t=this,n=Object(v.n)(Object(v.f)({__metadata:{type:"SP.Web"}},e));return this.postCore({body:n,headers:{"X-HTTP-Method":"MERGE"}}).then(function(e){return{data:e,web:t}})},t.prototype.delete=function(){return e.prototype.deleteCore.call(this)},t.prototype.applyTheme=function(e,t,r,o){var i=Object(v.n)({backgroundImageUrl:r,colorPaletteUrl:e,fontSchemeUrl:t,shareGenerated:o});return this.clone(n,"applytheme").postCore({body:i})},t.prototype.applyWebTemplate=function(e){var t=this.clone(n,"applywebtemplate");return t.concat("(@t)"),t.query.set("@t",e),t.postCore()},t.prototype.ensureUser=function(e){var t=Object(v.n)({logonName:e});return this.clone(n,"ensureuser").postCore({body:t}).then(function(e){return{data:e,user:new U(s(e))}})},t.prototype.availableWebTemplates=function(e,t){return void 0===e&&(e=1033),void 0===t&&(t=!0),new R(this,"getavailablewebtemplates(lcid="+e+", doincludecrosslanguage="+t+")")},t.prototype.getCatalog=function(e){return this.clone(n,"getcatalog("+e+")").select("Id").get().then(function(e){return new Ge(s(e))})},t.prototype.getChanges=function(e){var t=Object(v.n)({query:Object(v.f)({__metadata:{type:"SP.ChangeQuery"}},e)});return this.clone(n,"getchanges").postCore({body:t})},Object.defineProperty(t.prototype,"customListTemplate",{get:function(){return new R(this,"getcustomlisttemplates")},enumerable:!0,configurable:!0}),t.prototype.getUserById=function(e){return new U(this,"getUserById("+e+")")},t.prototype.mapToIcon=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=""),this.clone(n,"maptoicon(filename='"+e+"', progid='"+r+"', size="+t+")").get()},t.prototype.getStorageEntity=function(e){return this.clone(n,"getStorageEntity('"+e+"')").get()},t.prototype.setStorageEntity=function(e,t,r,o){return void 0===r&&(r=""),void 0===o&&(o=""),this.clone(n,"setStorageEntity").postCore({body:Object(v.n)({comments:o,description:r,key:e,value:t})})},t.prototype.removeStorageEntity=function(e){return this.clone(n,"removeStorageEntity('"+e+"')").postCore()},t.prototype.getAppCatalog=function(e){return new at(e||this)},t.prototype.getSiteCollectionAppCatalog=function(e){return new at(e||this,"_api/web/sitecollectionappcatalog/AvailableApps")},t.prototype.getClientSideWebParts=function(){return this.clone(R,"GetClientSideWebParts").get()},t.prototype.addClientSidePage=function(e,t){return void 0===t&&(t=e.replace(/\.[^\/.]+$/,"")),It.create(this,e,t)},t.prototype.addClientSidePageByPath=function(e,t){return void 0===t&&(t=e.replace(/\.[^\/.]+$/,"")),It.create(this,e,t)},t.prototype.createDefaultAssociatedGroups=function(e,t,r){var o=this.clone(n,"createDefaultAssociatedGroups(userLogin=@u,userLogin2=@v,groupNameSeed=@s)");return o.query.set("@u","'"+encodeURIComponent(e||"")+"'"),o.query.set("@v","'"+encodeURIComponent(t||"")+"'"),o.query.set("@s","'"+encodeURIComponent(r||"")+"'"),o.postCore()},t.prototype.hubSiteData=function(e){return void 0===e&&(e=!1),i(this,void 0,void 0,function(){return u(this,function(t){return[2,this.clone(n,"hubSiteData("+e+")").get().then(function(e){return JSON.parse(e)})]})})},t.prototype.syncHubSiteTheme=function(){return this.clone(n,"syncHubSiteTheme").postCore()};var n;return t=n=o([h("_api/web")],t)}(he);!function(e){e[e.NotPromoted=0]="NotPromoted",e[e.PromoteOnPublish=1]="PromoteOnPublish",e[e.Promoted=2]="Promoted"}(ut||(ut={}));var Ct,It=function(e){function t(n,r,o,i,u,s){void 0===i&&(i=!1),void 0===u&&(u=[]),void 0===s&&(s=!1);var c=e.call(this,n,r)||this;return c.json=o,c.sections=u,c.commentsDisabled=s,c._bannerImageDirty=!1,"string"==typeof n?(c._parentUrl="",c._url=Object(v.d)(a(n),r)):c.extend(t.initFrom(n,null),r),c._pageSettings={controlType:0,pageSettingsSlice:{isDefaultDescription:!0,isDefaultThumbnail:!0}},c._layoutPart=t.getDefaultLayoutPart(),void 0===o||i||c.fromJSON(o),c}return r(t,e),t.create=function(e,n,r,o){return void 0===o&&(o="Article"),i(this,void 0,void 0,function(){var i,a;return u(this,function(u){switch(u.label){case 0:return n=n.replace(/\.aspx$/i,""),[4,t.initFrom(e,"_api/sitepages/pages").postCore({body:Object(v.n)(Object.assign(f("SP.Publishing.SitePage"),{PageLayoutType:o}))})];case 1:return i=u.sent(),a=new t(e,"",i),a.title=n,[4,a.save(!1)];case 2:return u.sent(),a.title=r,[2,a]}})})},t.fromFile=function(e){return e.getItem().then(function(n){return new t(a(e.toUrl()),"",{Id:n.Id},!0).configureFrom(e).load()})},t.getDefaultLayoutPart=function(){return{dataVersion:"1.4",description:"Title Region Description",id:"cbe7b0a9-3504-44dd-a3a3-0e5cacd07788",instanceId:"cbe7b0a9-3504-44dd-a3a3-0e5cacd07788",properties:{authors:[],layoutType:"FullWidthImage",showPublishDate:!1,showTopicHeader:!1,textAlignment:"Left",title:"",topicHeader:""},serverProcessedContent:{htmlStrings:{},searchablePlainTexts:{},imageSources:{},links:{}},title:"Title area"}},t.initFrom=function(e,n){return new t(a(e.toUrl()),n).configureFrom(e)},Object.defineProperty(t.prototype,"pageLayout",{get:function(){return this.json.PageLayoutType},set:function(e){this.json.PageLayoutType=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bannerImageUrl",{get:function(){return this.json.BannerImageUrl},set:function(e){this.json.BannerImageUrl=e,this._bannerImageDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bannerImageSourceType",{get:function(){return this._layoutPart.properties.imageSourceType},set:function(e){this._layoutPart.properties.imageSourceType=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topicHeader",{get:function(){return Object(v.q)(this.json.TopicHeader)?this.json.TopicHeader:""},set:function(e){this.json.TopicHeader=e,this._layoutPart.properties.topicHeader=e,Object(v.r)(e)&&(this.showTopicHeader=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._layoutPart.properties.title},set:function(e){this.json.Title=e,this._layoutPart.properties.title=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutType",{get:function(){return this._layoutPart.properties.layoutType},set:function(e){this._layoutPart.properties.layoutType=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerTextAlignment",{get:function(){return this._layoutPart.properties.textAlignment},set:function(e){this._layoutPart.properties.textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTopicHeader",{get:function(){return this._layoutPart.properties.showTopicHeader},set:function(e){this._layoutPart.properties.showTopicHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPublishDate",{get:function(){return this._layoutPart.properties.showPublishDate},set:function(e){this._layoutPart.properties.showPublishDate=e},enumerable:!0,configurable:!0}),t.prototype.addSection=function(){var e=new Pt(this,d(this.sections));return this.sections.push(e),e},t.prototype.fromJSON=function(e){this.json=e;var t=JSON.parse(e.CanvasContent1),n=JSON.parse(e.LayoutWebpartsContent);return n&&n.length>0&&(this._layoutPart=n[0]),this.setControls(t),this},t.prototype.load=function(){var e=this;return this.getItem("Id","CommentsDisabled").then(function(t){return new j(e,"_api/sitepages/pages("+t.Id+")").get().then(function(n){return e.commentsDisabled=t.CommentsDisabled,e.fromJSON(n)})})},t.prototype.save=function(e){var n=this;if(void 0===e&&(e=!0),null===this.json.Id)throw Error("The id for this page is null. If you want to create a new page, please use ClientSidePage.Create");var r=Promise.resolve({});return this._bannerImageDirty&&(r=r.then(function(e){return new Promise(function(e,t){var r=n.json.BannerImageUrl,o=new ft(a(n.toUrl())),i=new Ot(a(n.toUrl())),u=i.getFileByServerRelativePath(r),s="",c="",l="",p="",f="";Promise.all([o.select("Id","Url").get().then(function(e){return s=e.Id}),i.select("Id","Url").get().then(function(e){c=e.Id,f=e.Url}),u.listItemAllFields.select("UniqueId","ParentList/Id").expand("ParentList").get().then(function(e){l=e.UniqueId,p=e.ParentList.Id})]).then(function(){var t=new j(f,"_layouts/15/getpreview.ashx");t.query.set("guidSite",""+s),t.query.set("guidWeb",""+c),t.query.set("guidFile",""+l),n.bannerImageUrl=t.toUrlAndQuery(),Object(v.q)(n._layoutPart.serverProcessedContent)||(n._layoutPart.serverProcessedContent={}),n._layoutPart.serverProcessedContent.imageSources={imageSource:r},Object(v.q)(n._layoutPart.serverProcessedContent.customMetadata)||(n._layoutPart.serverProcessedContent.customMetadata={}),n._layoutPart.serverProcessedContent.customMetadata.imageSource={listId:p,siteId:s,uniqueId:l,webId:c},n._layoutPart.properties.webId=c,n._layoutPart.properties.siteId=s,n._layoutPart.properties.listId=p,n._layoutPart.properties.uniqueId=l,e()}).catch(t)})})),this.json.IsPageCheckedOutToCurrentUser||(r=r.then(function(e){return t.initFrom(n,"_api/sitepages/pages("+n.json.Id+")/checkoutpage").postCore()})),r=r.then(function(e){var r=Object.assign(f("SP.Publishing.SitePage"),{AuthorByline:n.json.AuthorByline||[],BannerImageUrl:n.bannerImageUrl,CanvasContent1:n.getCanvasContent1(),LayoutWebpartsContent:n.getLayoutWebpartsContent(),Title:n.title,TopicHeader:n.topicHeader}),o=t.initFrom(n,"_api/sitepages/pages("+n.json.Id+")/savepage");return o.configure({headers:{"if-match":"*"}}),o.postCore({body:Object(v.n)(r)})}),e&&(r=r.then(function(e){return t.initFrom(n,"_api/sitepages/pages("+n.json.Id+")/publish").postCore()}).then(function(e){e&&(n.json.IsPageCheckedOutToCurrentUser=!1)})),r=r.then(function(e){n._bannerImageDirty=!1})},t.prototype.discardPageCheckout=function(){var e=this;if(null===this.json.Id)throw Error("The id for this page is null. If you want to create a new page, please use ClientSidePage.Create");return t.initFrom(this,"_api/sitepages/pages("+this.json.Id+")/discardPage").postCore({body:Object(v.n)(f("SP.Publishing.SitePage"))}).then(function(t){e.fromJSON(t)})},t.prototype.enableComments=function(){var e=this;return this.setCommentsOn(!0).then(function(t){return e.commentsDisabled=!1,t})},t.prototype.disableComments=function(){var e=this;return this.setCommentsOn(!1).then(function(t){return e.commentsDisabled=!0,t})},t.prototype.findControlById=function(e){return this.findControl(function(t){return t.id===e})},t.prototype.findControl=function(e){for(var t=0;t<this.sections.length;t++)for(var n=0;n<this.sections[t].columns.length;n++)for(var r=0;r<this.sections[t].columns[n].controls.length;r++)if(e(this.sections[t].columns[n].controls[r]))return this.sections[t].columns[n].controls[r];return null},t.prototype.like=function(){return this.getItem().then(function(e){return e.like()})},t.prototype.unlike=function(){return this.getItem().then(function(e){return e.unlike()})},t.prototype.getLikedByInformation=function(){return this.getItem().then(function(e){return e.getLikedByInformation()})},t.prototype.copyPage=function(e,n,r,o){return void 0===o&&(o=!0),i(this,void 0,void 0,function(){var i;return u(this,function(u){switch(u.label){case 0:return[4,t.create(e,n,r,this.pageLayout)];case 1:return i=u.sent(),i.setControls(this.getControls()),[4,i.save(o)];case 2:return u.sent(),[2,i]}})})},t.prototype.setBannerImage=function(e,t){this.bannerImageUrl=e,this.bannerImageSourceType=2,Object(v.q)(t)&&(Object(v.j)(t,"translateX")&&(this._layoutPart.properties.translateX=t.translateX),Object(v.j)(t,"translateY")&&(this._layoutPart.properties.translateY=t.translateY),Object(v.j)(t,"imageSourceType")&&(this.bannerImageSourceType=t.imageSourceType),Object(v.j)(t,"altText")&&(this._layoutPart.properties.altText=t.altText))},t.prototype.getCanvasContent1=function(){return JSON.stringify(this.getControls())},t.prototype.getLayoutWebpartsContent=function(){return this._layoutPart?JSON.stringify([this._layoutPart]):JSON.stringify(null)},t.prototype.setControls=function(e){if(e&&e.length){for(var t=0;t<e.length;t++){switch(Object(v.j)(e[t],"controlType")?e[t].controlType:0){case 0:Object(v.j)(e[t],"pageSettingsSlice")?this._pageSettings=e[t]:this.mergeColumnToTree(new Et(e[t]));break;case 3:var n=new Nt(e[t]);this.mergePartToTree(n,n.data.position);break;case 4:var r=e[t],o=new Rt(r.innerHTML,r);this.mergePartToTree(o,o.data.position)}}y(this.sections)}},t.prototype.getControls=function(){var e=this;y(this.sections);var t=[];return this.sections.forEach(function(n){n.columns.forEach(function(r){r.controls.length<1?t.push({displayMode:r.data.displayMode,emphasis:e.getEmphasisObj(n.emphasis),position:r.data.position}):r.controls.forEach(function(r){r.data.emphasis=e.getEmphasisObj(n.emphasis),t.push(r.data)})})}),t.push(this._pageSettings),t},t.prototype.getEmphasisObj=function(e){return e<1||e>3?{}:{zoneEmphasis:e}},t.prototype.setCommentsOn=function(e){return this.getItem().then(function(t){return new ze(t,"SetCommentsDisabled("+!e+")").update({})})},t.prototype.mergePartToTree=function(e,t){var n=null,r=null,o=12,i=0,u=0;t&&(Object(v.j)(t,"zoneIndex")&&(u=t.zoneIndex),Object(v.j)(t,"sectionIndex")&&(i=t.sectionIndex),Object(v.j)(t,"sectionFactor")&&(o=t.sectionFactor));var a=this.sections.filter(function(e){return e.order===u});a.length<1?(n=new Pt(this,u),this.sections.push(n)):n=a[0],n.emphasis=e.data.emphasis.zoneEmphasis||0;var s=n.columns.filter(function(e){return e.order===i});r=s.length<1?n.addColumn(o):s[0],e.column=r,r.addControl(e)},t.prototype.mergeColumnToTree=function(e){var t=Object(v.j)(e.data,"position")&&Object(v.j)(e.data.position,"zoneIndex")?e.data.position.zoneIndex:0,n=null,r=this.sections.filter(function(e){return e.order===t});r.length<1?(n=new Pt(this,t),n.emphasis=e.data.emphasis.zoneEmphasis||0,this.sections.push(n)):n=r[0],e.section=n,n.columns.push(e)},t.prototype.getItem=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.initFrom(this,"/_api/lists/EnsureClientRenderedSitePagesLibrary").select("EnableModeration","EnableMinorVersions","Id").postCore().then(function(t){var r=new Ge(t["odata.id"]).configureFrom(e).items.getById(e.json.Id);return r.select.apply(r,n).get().then(function(t){return Object(v.f)(new ze(s(t)).configureFrom(e),t)})})},t}(j),Pt=function(){function e(e,t,n,r){void 0===n&&(n=[]),void 0===r&&(r=0),this.page=e,this.columns=n,this._emphasis=r,this._memId=Object(v.h)(),this._order=t}return Object.defineProperty(e.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e;for(var t=0;t<this.columns.length;t++)this.columns[t].data.position.zoneIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultColumn",{get:function(){return this.columns.length<1&&this.addColumn(12),this.columns[0]},enumerable:!0,configurable:!0}),e.prototype.addColumn=function(e){var t=new Et;return t.section=this,t.data.position.zoneIndex=this.order,t.data.position.sectionFactor=e,t.order=d(this.columns),this.columns.push(t),t},e.prototype.addControl=function(e){return this.defaultColumn.addControl(e),this},Object.defineProperty(e.prototype,"emphasis",{get:function(){return this._emphasis},set:function(e){this._emphasis=e},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var e=this;this.page.sections=this.page.sections.filter(function(t){return t._memId!==e._memId}),y(this.page.sections)},e}(),Et=function(){function e(t,n){void 0===t&&(t=JSON.parse(JSON.stringify(e.Default))),void 0===n&&(n=[]),this.json=t,this.controls=n,this._section=null,this._memId=Object(v.h)()}return Object.defineProperty(e.prototype,"data",{get:function(){return this.json},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"section",{get:function(){return this._section},set:function(e){this._section=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.data.position.sectionIndex},set:function(e){this.data.position.sectionIndex=e;for(var t=0;t<this.controls.length;t++)this.controls[t].data.position.zoneIndex=this.data.position.zoneIndex,this.controls[t].data.position.sectionIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"factor",{get:function(){return this.data.position.sectionFactor},set:function(e){this.data.position.sectionFactor=e},enumerable:!0,configurable:!0}),e.prototype.addControl=function(e){return e.column=this,this.controls.push(e),this},e.prototype.getControl=function(e){return this.controls[e]},e.prototype.remove=function(){var e=this;this.section.columns=this.section.columns.filter(function(t){return t._memId!==e._memId}),y(this.section.columns)},e.Default={controlType:0,displayMode:2,emphasis:{},position:{layoutIndex:1,sectionFactor:12,sectionIndex:1,zoneIndex:1}},e}(),jt=function(){function e(e){this.json=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this.json.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.json},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._column},set:function(e){this._column=e,this.onColumnChange(this._column)},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var e=this;this.column.controls=this.column.controls.filter(function(t){return t.id!==e.id}),y(this.column.controls)},e.prototype.setData=function(e){this.json=e},e}(),Rt=function(e){function t(n,r){void 0===r&&(r=JSON.parse(JSON.stringify(t.Default)));var o=this;return Object(v.r)(r.id)&&(r.id=Object(v.h)(),r.anchorComponentId=r.id),o=e.call(this,r)||this,o.text=n,o}return r(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.data.innerHTML},set:function(e){e.startsWith("<p>")||(e="<p>"+e+"</p>"),this.data.innerHTML=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this.data.position.controlIndex},set:function(e){this.data.position.controlIndex=e},enumerable:!0,configurable:!0}),t.prototype.onColumnChange=function(e){this.data.position.sectionFactor=e.factor,this.data.position.controlIndex=d(e.controls),this.data.position.zoneIndex=e.data.position.zoneIndex,this.data.position.sectionIndex=e.order},t.Default={addedFromPersistedData:!1,anchorComponentId:"",controlType:4,displayMode:2,editorType:"CKEditor",emphasis:{},id:"",innerHTML:"",position:{controlIndex:1,layoutIndex:1,sectionFactor:12,sectionIndex:1,zoneIndex:1}},t}(jt),Nt=function(e){function t(n){return void 0===n&&(n=JSON.parse(JSON.stringify(t.Default))),e.call(this,n)||this}return r(t,e),t.fromComponentDef=function(e){var n=new t;return n.import(e),n},Object.defineProperty(t.prototype,"title",{get:function(){return this.data.webPartData.title},set:function(e){this.data.webPartData.title=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.data.webPartData.description},set:function(e){this.data.webPartData.description=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this.data.position.controlIndex},set:function(e){this.data.position.controlIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.data.reservedHeight},set:function(e){this.data.reservedHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.data.reservedWidth},set:function(e){this.data.reservedWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataVersion",{get:function(){return this.data.webPartData.dataVersion},set:function(e){this.data.webPartData.dataVersion=e},enumerable:!0,configurable:!0}),t.prototype.setProperties=function(e){return this.data.webPartData.properties=Object(v.f)(this.data.webPartData.properties,e),this},t.prototype.getProperties=function(){return this.data.webPartData.properties},t.prototype.onColumnChange=function(e){this.data.position.sectionFactor=e.factor,this.data.position.controlIndex=d(e.controls),this.data.position.zoneIndex=e.data.position.zoneIndex,this.data.position.sectionIndex=e.data.position.sectionIndex},t.prototype.import=function(e){var t=Object(v.h)(),n=e.Id.replace(/^\{|\}$/g,"").toLowerCase(),r=JSON.parse(e.Manifest),o=r.preconfiguredEntries[0];this.setData(Object.assign({},this.data,{id:t,webPartData:{dataVersion:"1.0",description:o.description.default,id:n,instanceId:t,properties:o.properties,title:o.title.default},webPartId:n}))},t.Default={addedFromPersistedData:!1,controlType:3,displayMode:2,emphasis:{},id:null,position:{controlIndex:1,sectionFactor:12,sectionIndex:1,zoneIndex:1},reservedHeight:500,reservedWidth:500,webPartData:null,webPartId:null},t}(jt),xt=(new Map([["text","Querytext"],["template","QueryTemplate"],["sourceId","SourceId"],["trimDuplicatesIncludeId",""],["startRow",""],["rowLimit",""],["rankingModelId",""],["rowsPerPage",""],["selectProperties",""],["culture",""],["timeZoneId",""],["refinementFilters",""],["refiners",""],["hiddenConstraints",""],["sortList",""],["timeout",""],["hithighlightedProperties",""],["clientType",""],["personalizationData",""],["resultsURL",""],["queryTag",""],["properties",""],["queryTemplatePropertiesUrl",""],["reorderingRules",""],["hitHighlightedMultivaluePropertyLimit",""],["collapseSpecification",""],["uiLanguage",""],["desiredSnippetLength",""],["maxSnippetLength",""],["summaryLength",""]]),new Map([]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=this,n=this.parseQuery(e),r=Object(v.n)({request:Object(v.f)(f("Microsoft.Office.Server.Search.REST.SearchRequest"),Object.assign({},n,{HitHighlightedProperties:this.fixArrProp(n.HitHighlightedProperties),Properties:this.fixArrProp(n.Properties),RefinementFilters:this.fixArrProp(n.RefinementFilters),ReorderingRules:this.fixArrProp(n.ReorderingRules),SelectProperties:this.fixArrProp(n.SelectProperties),SortList:this.fixArrProp(n.SortList)}))});if(this._useCaching){this._forceCaching=!0;var o="PnPjs.SearchWithCaching("+Object(v.i)(r)+")";Object(v.q)(this._cachingOptions)?/\/_api\/search\/postquery$/i.test(this._cachingOptions.key)&&(this._cachingOptions.key=o):this._cachingOptions=new m.c(o)}return this.postCore({body:r}).then(function(e){return new At(e,t.toUrl(),n)})},t.prototype.fixArrProp=function(e){return void 0===e?{results:[]}:(e=Object(v.k)(e)?e:[e],Object(v.j)(e,"results")?e:{results:e})},t.prototype.parseQuery=function(e){return"string"==typeof e?{Querytext:e}:e.toSearchQuery?e.toSearchQuery():e},t=o([h("_api/search/postquery")],t)}(N)),At=function(){function e(e,t,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null),this._url=t,this._query=n,this._raw=r,this._primary=o,this._raw=e.postquery?e.postquery:e}return Object.defineProperty(e.prototype,"ElapsedTime",{get:function(){return this.RawSearchResults.ElapsedTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RowCount",{get:function(){return this.RawSearchResults.PrimaryQueryResult.RelevantResults.RowCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalRows",{get:function(){return this.RawSearchResults.PrimaryQueryResult.RelevantResults.TotalRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalRowsIncludingDuplicates",{get:function(){return this.RawSearchResults.PrimaryQueryResult.RelevantResults.TotalRowsIncludingDuplicates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RawSearchResults",{get:function(){return this._raw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PrimarySearchResults",{get:function(){return null===this._primary&&(this._primary=this.formatSearchResults(this._raw.PrimaryQueryResult.RelevantResults.Table.Rows)),this._primary},enumerable:!0,configurable:!0}),e.prototype.getPage=function(e,t){if(this.TotalRows<this.RowCount)return Promise.resolve(null);var n=void 0!==t?t:Object(v.j)(this._query,"RowLimit")?this._query.RowLimit:10,r=Object(v.f)(this._query,{RowLimit:n,StartRow:n*(e-1)});return r.StartRow>this.TotalRows?Promise.resolve(null):new xt(this._url,null).execute(r)},e.prototype.formatSearchResults=function(e){for(var t=new Array,n=e.results?e.results:e,r=0,o=n;r<o.length;r++){var i=o[r],u=i.Cells.results?i.Cells.results:i.Cells;t.push(u.reduce(function(e,t){return Object.defineProperty(e,t.Key,{configurable:!1,enumerable:!0,value:t.Value,writable:!1}),e},{}))}return t},e}();!function(e){e[e.Ascending=0]="Ascending",e[e.Descending=1]="Descending",e[e.FQLFormula=2]="FQLFormula"}(Ct||(Ct={}));var Ut;!function(e){e[e.ResultContainsKeyword=0]="ResultContainsKeyword",e[e.TitleContainsKeyword=1]="TitleContainsKeyword",e[e.TitleMatchesKeyword=2]="TitleMatchesKeyword",e[e.UrlStartsWith=3]="UrlStartsWith",e[e.UrlExactlyMatches=4]="UrlExactlyMatches",e[e.ContentTypeIs=5]="ContentTypeIs",e[e.FileExtensionMatches=6]="FileExtensionMatches",e[e.ResultHasTag=7]="ResultHasTag",e[e.ManualCondition=8]="ManualCondition"}(Ut||(Ut={}));var kt;!function(e){e[e.None=0]="None",e[e.StringType=1]="StringType",e[e.Int32Type=2]="Int32Type",e[e.BooleanType=3]="BooleanType",e[e.StringArrayType=4]="StringArrayType",e[e.UnSupportedType=5]="UnSupportedType"}(kt||(kt={}));var Lt,Dt=(function(){function e(){}e.Documents="e7ec8cee-ded8-43c9-beb5-436b54b31e84",e.ItemsMatchingContentType="5dc9f503-801e-4ced-8a2c-5d1237132419",e.ItemsMatchingTag="e1327b9c-2b8c-4b23-99c9-3730cb29c3f7",e.ItemsRelatedToCurrentUser="48fec42e-4a92-48ce-8363-c2703a40e67d",e.ItemsWithSameKeywordAsThisItem="5c069288-1d17-454a-8ac6-9c642a065f48",e.LocalPeopleResults="b09a7990-05ea-4af9-81ef-edfab16c4e31",e.LocalReportsAndDataResults="203fba36-2763-4060-9931-911ac8c0583b",e.LocalSharePointResults="8413cd39-2156-4e00-b54d-11efd9abdb89",e.LocalVideoResults="78b793ce-7956-4669-aa3b-451fc5defebf",e.Pages="5e34578e-4d08-4edc-8bf3-002acf3cdbcc",e.Pictures="38403c8c-3975-41a8-826e-717f2d41568a",e.Popular="97c71db1-58ce-4891-8b64-585bc2326c12",e.RecentlyChangedItems="ba63bbae-fa9c-42c0-b027-9a878f16557c",e.RecommendedItems="ec675252-14fa-4fbe-84dd-8d098ed74181",e.Wiki="9479bf85-e257-4318-b5a8-81a180f5faa1"}(),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){return this.mapQueryToQueryString(e),this.get().then(function(e){var t=Object(v.j)(e,"suggest")?function(t){return e.suggest[t].results}:function(t){return e[t]};return{PeopleNames:t("PeopleNames"),PersonalResults:t("PersonalResults"),Queries:t("Queries")}})},t.prototype.mapQueryToQueryString=function(e){var t=this;this.query.set("querytext","'"+e.querytext+"'");var n=function(e){return function(n){return function(r){Object(v.j)(e,n)&&t.query.set(r,e[n].toString())}}}(e);n("count")("inumberofquerysuggestions"),n("personalCount")("inumberofresultsuggestions"),n("preQuery")("fprequerysuggestions"),n("hitHighlighting")("fhithighlighting"),n("capitalize")("fcapitalizefirstletters"),n("culture")("culture"),n("stemming")("enablestemming"),n("includePeople")("showpeoplenamesuggestions"),n("queryRules")("enablequeryrules"),n("prefixMatch")("fprefixmatchallterms")},t=o([h("_api/search/suggest")],t)}(N)),Ft=function(e){function t(t,n){void 0===n&&(n="_api/sp.userprofiles.peoplemanager");var r=e.call(this,t,n)||this;return r.clientPeoplePickerQuery=new qt(t).configureFrom(r),r.profileLoader=new Bt(t).configureFrom(r),r}return r(t,e),Object.defineProperty(t.prototype,"editProfileLink",{get:function(){return this.clone(t,"EditProfileLink").get()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMyPeopleListPublic",{get:function(){return this.clone(t,"IsMyPeopleListPublic").get()},enumerable:!0,configurable:!0}),t.prototype.amIFollowedBy=function(e){var n=this.clone(t,"amifollowedby(@v)");return n.query.set("@v","'"+encodeURIComponent(e)+"'"),n.get()},t.prototype.amIFollowing=function(e){var n=this.clone(t,"amifollowing(@v)");return n.query.set("@v","'"+encodeURIComponent(e)+"'"),n.get()},t.prototype.getFollowedTags=function(e){return void 0===e&&(e=20),this.clone(t,"getfollowedtags("+e+")").get()},t.prototype.getFollowersFor=function(e){var n=this.clone(t,"getfollowersfor(@v)");return n.query.set("@v","'"+encodeURIComponent(e)+"'"),n.get()},Object.defineProperty(t.prototype,"myFollowers",{get:function(){return new R(this,"getmyfollowers")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"myProperties",{get:function(){return new t(this,"getmyproperties")},enumerable:!0,configurable:!0}),t.prototype.getPeopleFollowedBy=function(e){var n=this.clone(t,"getpeoplefollowedby(@v)");return n.query.set("@v","'"+encodeURIComponent(e)+"'"),n.get()},t.prototype.getPropertiesFor=function(e){var n=this.clone(t,"getpropertiesfor(@v)");return n.query.set("@v","'"+encodeURIComponent(e)+"'"),n.get()},Object.defineProperty(t.prototype,"trendingTags",{get:function(){var e=this.clone(t,null);return e.concat(".gettrendingtags"),e.get()},enumerable:!0,configurable:!0}),t.prototype.getUserProfilePropertyFor=function(e,n){var r=this.clone(t,"getuserprofilepropertyfor(accountname=@v, propertyname='"+n+"')");return r.query.set("@v","'"+encodeURIComponent(e)+"'"),r.get()},t.prototype.hideSuggestion=function(e){var n=this.clone(t,"hidesuggestion(@v)");return n.query.set("@v","'"+encodeURIComponent(e)+"'"),n.postCore()},t.prototype.isFollowing=function(e,n){var r=this.clone(t,null);return r.concat(".isfollowing(possiblefolloweraccountname=@v, possiblefolloweeaccountname=@y)"),r.query.set("@v","'"+encodeURIComponent(e)+"'"),r.query.set("@y","'"+encodeURIComponent(n)+"'"),r.get()},t.prototype.setMyProfilePic=function(e){var n=this;return new Promise(function(r,o){var i=null,u=new FileReader;u.onload=function(e){return i=e.target.result},u.readAsArrayBuffer(e),new t(n,"setmyprofilepicture").postCore({body:String.fromCharCode.apply(null,new Uint16Array(i))}).then(function(e){return r()}).catch(function(e){return o(e)})})},t.prototype.setSingleValueProfileProperty=function(e,n,r){var o=Object(v.n)({accountName:e,propertyName:n,propertyValue:r});return this.clone(t,"SetSingleValueProfileProperty").postCore({body:o})},t.prototype.setMultiValuedProfileProperty=function(e,n,r){var o=Object(v.n)({accountName:e,propertyName:n,propertyValues:r});return this.clone(t,"SetMultiValuedProfileProperty").postCore({body:o})},t.prototype.createPersonalSiteEnqueueBulk=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.profileLoader.createPersonalSiteEnqueueBulk(e)},Object.defineProperty(t.prototype,"ownerUserProfile",{get:function(){return this.profileLoader.ownerUserProfile},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userProfile",{get:function(){return this.profileLoader.userProfile},enumerable:!0,configurable:!0}),t.prototype.createPersonalSite=function(e){return void 0===e&&(e=!1),this.profileLoader.createPersonalSite(e)},t.prototype.shareAllSocialData=function(e){return this.profileLoader.shareAllSocialData(e)},t.prototype.clientPeoplePickerResolveUser=function(e){return this.clientPeoplePickerQuery.clientPeoplePickerResolveUser(e)},t.prototype.clientPeoplePickerSearchUser=function(e){return this.clientPeoplePickerQuery.clientPeoplePickerSearchUser(e)},t}(N),Bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.createPersonalSiteEnqueueBulk=function(e){return this.clone(n,"createpersonalsiteenqueuebulk",!1).postCore({body:Object(v.n)({emailIDs:e})})},Object.defineProperty(t.prototype,"ownerUserProfile",{get:function(){var e=this.getParent(n,this.parentUrl,"_api/sp.userprofiles.profileloader.getowneruserprofile");return this.hasBatch&&(e=e.inBatch(this.batch)),e.postCore()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userProfile",{get:function(){return this.clone(n,"getuserprofile").postCore()},enumerable:!0,configurable:!0}),t.prototype.createPersonalSite=function(e){return void 0===e&&(e=!1),this.clone(n,"getuserprofile/createpersonalsiteenque("+e+")").postCore()},t.prototype.shareAllSocialData=function(e){return this.clone(n,"getuserprofile/shareallsocialdata("+e+")").postCore()};var n;return t=n=o([h("_api/sp.userprofiles.profileloader.getprofileloader")],t)}(j),qt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.clientPeoplePickerResolveUser=function(e){var t=this.clone(n,null);return t.concat(".clientpeoplepickerresolveuser"),t.postCore({body:this.createClientPeoplePickerQueryParametersRequestBody(e)}).then(function(e){return"object"==typeof e?e.ClientPeoplePickerResolveUser:e}).then(JSON.parse)},t.prototype.clientPeoplePickerSearchUser=function(e){var t=this.clone(n,null);return t.concat(".clientpeoplepickersearchuser"),t.postCore({body:this.createClientPeoplePickerQueryParametersRequestBody(e)}).then(function(e){return"object"==typeof e?e.ClientPeoplePickerSearchUser:e}).then(JSON.parse)},t.prototype.createClientPeoplePickerQueryParametersRequestBody=function(e){return Object(v.n)({queryParams:Object(v.f)(f("SP.UI.ApplicationPages.ClientPeoplePickerQueryParameters"),e)})};var n;return t=n=o([h("_api/sp.ui.applicationpages.clientpeoplepickerwebserviceinterface")],t)}(j),Mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,Object.defineProperty(t.prototype,"my",{get:function(){return new Gt(this)},enumerable:!0,configurable:!0}),t.prototype.getFollowedSitesUri=function(){return this.clone(n,"FollowedSitesUri").get().then(function(e){return e.FollowedSitesUri||e})},t.prototype.getFollowedDocumentsUri=function(){return this.clone(n,"FollowedDocumentsUri").get().then(function(e){return e.FollowedDocumentsUri||e})},t.prototype.follow=function(e){return this.clone(n,"follow").postCore({body:this.createSocialActorInfoRequestBody(e)})},t.prototype.isFollowed=function(e){return this.clone(n,"isfollowed").postCore({body:this.createSocialActorInfoRequestBody(e)})},t.prototype.stopFollowing=function(e){return this.clone(n,"stopfollowing").postCore({body:this.createSocialActorInfoRequestBody(e)})},t.prototype.createSocialActorInfoRequestBody=function(e){return Object(v.n)({actor:Object.assign(f("SP.Social.SocialActorInfo"),{Id:null},e)})};var n;return t=n=o([h("_api/social.following")],t)}(N),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),n=t,t.prototype.followed=function(e){return this.clone(n,"followed(types="+e+")").get().then(function(e){return Object(v.j)(e,"Followed")?e.Followed.results:e})},t.prototype.followedCount=function(e){return this.clone(n,"followedcount(types="+e+")").get().then(function(e){return e.FollowedCount||e})},t.prototype.followers=function(){return this.clone(n,"followers").get().then(function(e){return Object(v.j)(e,"Followers")?e.Followers.results:e})},t.prototype.suggestions=function(){return this.clone(n,"suggestions").get().then(function(e){return Object(v.j)(e,"Suggestions")?e.Suggestions.results:e})};var n;return t=n=o([h("my")],t)}(N);!function(e){e[e.User=0]="User",e[e.Document=1]="Document",e[e.Site=2]="Site",e[e.Tag=3]="Tag"}(Lt||(Lt={}));var Wt;!function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.Document=2]="Document",e[e.Site=4]="Site",e[e.Tag=8]="Tag",e[e.ExcludeContentWithoutFeeds=268435456]="ExcludeContentWithoutFeeds",e[e.IncludeGroupsSites=536870912]="IncludeGroupsSites",e[e.WithinLast24Hours=1073741824]="WithinLast24Hours"}(Wt||(Wt={}));var Ht;!function(e){e[e.Ok=0]="Ok",e[e.AlreadyFollowing=1]="AlreadyFollowing",e[e.LimitReached=2]="LimitReached",e[e.InternalError=3]="InternalError"}(Ht||(Ht={}));var Kt;!function(e){e[e.OK=0]="OK",e[e.InvalidRequest=1]="InvalidRequest",e[e.AccessDenied=2]="AccessDenied",e[e.ItemNotFound=3]="ItemNotFound",e[e.InvalidOperation=4]="InvalidOperation",e[e.ItemNotModified=5]="ItemNotModified",e[e.InternalError=6]="InternalError",e[e.CacheReadError=7]="CacheReadError",e[e.CacheUpdateError=8]="CacheUpdateError",e[e.PersonalSiteNotFound=9]="PersonalSiteNotFound",e[e.FailedToCreatePersonalSite=10]="FailedToCreatePersonalSite",e[e.NotAuthorizedToCreatePersonalSite=11]="NotAuthorizedToCreatePersonalSite",e[e.CannotCreatePersonalSite=12]="CannotCreatePersonalSite",e[e.LimitReached=13]="LimitReached",e[e.AttachmentError=14]="AttachmentError",e[e.PartialData=15]="PartialData",e[e.FeatureDisabled=16]="FeatureDisabled",e[e.StorageQuotaExceeded=17]="StorageQuotaExceeded",e[e.DatabaseError=18]="DatabaseError"}(Kt||(Kt={}));var Vt=function(e){function t(n,r){return e.call(this,t.getBaseUrl(n),"_api/Microsoft.Sharepoint.Utilities.WebTemplateExtensions.SiteScriptUtility."+r)||this}return r(t,e),t.getBaseUrl=function(e){if("string"==typeof e)return e;var t=e,n=t.toUrl(),r=n.indexOf("_api/");return r<0?n:n.substr(0,r)},t.prototype.execute=function(e){return this.postCore({body:JSON.stringify(e)})},t.prototype.getSiteScripts=function(){return this.clone(t,"GetSiteScripts",!0).execute({})},t.prototype.createSiteScript=function(e,n,r){return i(this,void 0,void 0,function(){return u(this,function(o){switch(o.label){case 0:return[4,this.clone(t,"CreateSiteScript(Title=@title,Description=@desc)?@title='"+encodeURIComponent(e)+"'&@desc='"+encodeURIComponent(n)+"'").execute(r)];case 1:return[2,o.sent()]}})})},t.prototype.getSiteScriptMetadata=function(e){return i(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,this.clone(t,"GetSiteScriptMetadata").execute({id:e})];case 1:return[2,n.sent()]}})})},t.prototype.deleteSiteScript=function(e){return i(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,this.clone(t,"DeleteSiteScript").execute({id:e})];case 1:return n.sent(),[2]}})})},t.prototype.updateSiteScript=function(e,n){return i(this,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return n&&(e.Content=JSON.stringify(n)),[4,this.clone(t,"UpdateSiteScript").execute({updateInfo:e})];case 1:return[2,r.sent()]}})})},t}(j),zt=function(e){function t(n,r){return e.call(this,t.getBaseUrl(n),"_api/Microsoft.Sharepoint.Utilities.WebTemplateExtensions.SiteScriptUtility."+r)||this}return r(t,e),t.getBaseUrl=function(e){if("string"==typeof e)return e;var t=e,n=t.toUrl(),r=n.indexOf("_api/");return r<0?n:n.substr(0,r)},t.prototype.execute=function(e){return this.postCore({body:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=utf-8"}})},t.prototype.createSiteDesign=function(e){return i(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,this.clone(t,"CreateSiteDesign").execute({info:e})];case 1:return[2,n.sent()]}})})},t.prototype.applySiteDesign=function(e,n){return i(this,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return[4,this.clone(t,"ApplySiteDesign").execute({siteDesignId:e,webUrl:n})];case 1:return[2,r.sent()]}})})},t.prototype.getSiteDesigns=function(){return i(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this.clone(t,"GetSiteDesigns").execute({})];case 1:return[2,e.sent()]}})})},t.prototype.getSiteDesignMetadata=function(e){return i(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,this.clone(t,"GetSiteDesignMetadata").execute({id:e})];case 1:return[2,n.sent()]}})})},t.prototype.updateSiteDesign=function(e){return i(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,this.clone(t,"UpdateSiteDesign").execute({updateInfo:e})];case 1:return[2,n.sent()]}})})},t.prototype.deleteSiteDesign=function(e){return i(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,this.clone(t,"DeleteSiteDesign").execute({id:e})];case 1:return[2,n.sent()]}})})},t.prototype.getSiteDesignRights=function(e){return i(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,this.clone(t,"GetSiteDesignRights").execute({id:e})];case 1:return[2,n.sent()]}})})},t.prototype.grantSiteDesignRights=function(e,n,r){return void 0===r&&(r=1),i(this,void 0,void 0,function(){return u(this,function(o){switch(o.label){case 0:return[4,this.clone(t,"GrantSiteDesignRights").execute({grantedRights:r.toString(),id:e,principalNames:n})];case 1:return[2,o.sent()]}})})},t.prototype.revokeSiteDesignRights=function(e,n){return i(this,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return[4,this.clone(t,"RevokeSiteDesignRights").execute({id:e,principalNames:n})];case 1:return[2,r.sent()]}})})},t}(j),Qt=function(e){function t(n,r){return e.call(this,t.getBaseUrl(n),"_api/SP.Utilities.Utility."+r)||this}return r(t,e),t.getBaseUrl=function(e){if("string"==typeof e)return e;var t=e,n=t.toUrl(),r=n.indexOf("_api/");return r<0?n:n.substr(0,r)},t.prototype.excute=function(e){return this.postCore({body:Object(v.n)(e)})},t.prototype.sendEmail=function(e){var n={properties:Object(v.f)(f("SP.Utilities.EmailProperties"),{Body:e.Body,From:e.From,Subject:e.Subject})};return e.To&&e.To.length>0&&(n.properties=Object(v.f)(n.properties,{To:{results:e.To}})),e.CC&&e.CC.length>0&&(n.properties=Object(v.f)(n.properties,{CC:{results:e.CC}})),e.BCC&&e.BCC.length>0&&(n.properties=Object(v.f)(n.properties,{BCC:{results:e.BCC}})),e.AdditionalHeaders&&(n.properties=Object(v.f)(n.properties,{AdditionalHeaders:e.AdditionalHeaders})),this.clone(t,"SendEmail",!0).excute(n)},t.prototype.getCurrentUserEmailAddresses=function(){return this.clone(t,"GetCurrentUserEmailAddresses",!0).excute({}).then(function(e){return Object(v.j)(e,"GetCurrentUserEmailAddresses")?e.GetCurrentUserEmailAddresses:e})},t.prototype.resolvePrincipal=function(e,n,r,o,i,u){void 0===u&&(u=!1);var a={addToUserInfoList:i,input:e,inputIsEmailOnly:o,matchUserInfoList:u,scopes:n,sources:r};return this.clone(t,"ResolvePrincipalInCurrentContext",!0).excute(a).then(function(e){return Object(v.j)(e,"ResolvePrincipalInCurrentContext")?e.ResolvePrincipalInCurrentContext:e})},t.prototype.searchPrincipals=function(e,n,r,o,i){var u={groupName:o,input:e,maxCount:i,scopes:n,sources:r};return this.clone(t,"SearchPrincipalsUsingContextWeb",!0).excute(u).then(function(e){return Object(v.j)(e,"SearchPrincipalsUsingContextWeb")?e.SearchPrincipalsUsingContextWeb:e})},t.prototype.createEmailBodyForInvitation=function(e){var n={pageAddress:e};return this.clone(t,"CreateEmailBodyForInvitation",!0).excute(n).then(function(e){return Object(v.j)(e,"CreateEmailBodyForInvitation")?e.CreateEmailBodyForInvitation:e})},t.prototype.expandGroupsToPrincipals=function(e,n){void 0===n&&(n=30);var r={inputs:e,maxCount:n};return this.clone(t,"ExpandGroupsToPrincipals",!0).excute(r).then(function(e){return Object(v.j)(e,"ExpandGroupsToPrincipals")?e.ExpandGroupsToPrincipals:e})},t.prototype.createWikiPage=function(e){return this.clone(t,"CreateWikiPageInContextWeb",!0).excute({parameters:e}).then(function(e){return{data:Object(v.j)(e,"CreateWikiPageInContextWeb")?e.CreateWikiPageInContextWeb:e,file:new et(s(e))}})},t.prototype.containsInvalidFileFolderChars=function(e,n){return void 0===n&&(n=!1),n?t.InvalidFileFolderNameCharsOnPremiseRegex.test(e):t.InvalidFileFolderNameCharsOnlineRegex.test(e)},t.prototype.stripInvalidFileFolderChars=function(e,n,r){return void 0===n&&(n=""),void 0===r&&(r=!1),r?e.replace(t.InvalidFileFolderNameCharsOnPremiseRegex,n):e.replace(t.InvalidFileFolderNameCharsOnlineRegex,n)},t.InvalidFileFolderNameCharsOnlineRegex=/["*:<>?\/\\|\x00-\x1f\x7f-\x9f]/g,t.InvalidFileFolderNameCharsOnPremiseRegex=/["#%*:<>?\/\\|\x00-\x1f\x7f-\x9f]/g,t}(j),$t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getById=function(e){return new Jt(this,"GetById?hubSiteId='"+e+"'")},t=o([h("_api/hubsites")],t)}(R),Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(N),Xt=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=""),this._options=e,this._baseUrl=t}return e.prototype.configure=function(t,n){return void 0===n&&(n=""),new e(t,n)},e.prototype.setup=function(e){l(e)},e.prototype.searchSuggest=function(e){var t;return t="string"==typeof e?{querytext:e}:e,this.create(Dt).execute(t)},e.prototype.search=function(e){return this.create(xt).execute(e)},e.prototype.searchWithCaching=function(e,t){return this.create(xt).usingCaching(t).execute(e)},Object.defineProperty(e.prototype,"site",{get:function(){return this.create(ft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"web",{get:function(){return this.create(Ot)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"profiles",{get:function(){return this.create(Ft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"social",{get:function(){return this.create(Mt)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"navigation",{get:function(){return this.create(gt)},enumerable:!0,configurable:!0}),e.prototype.createBatch=function(){return this.web.createBatch()},Object.defineProperty(e.prototype,"utility",{get:function(){return this.create(Qt,"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"siteScripts",{get:function(){return this.create(Vt,"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"siteDesigns",{get:function(){return this.create(zt,"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hubSites",{get:function(){return this.create($t)},enumerable:!0,configurable:!0}),e.prototype.getTenantAppCatalogWeb=function(){var e=this;return this.create(Ot,"_api/SP_TenantSettings_Current").get().then(function(t){return new Ot(t.CorporateCatalogUrl).configure(e._options)})},e.prototype.create=function(e,t){return new e(this._baseUrl,t).configure(this._options)},e}(),Yt=new Xt}).call(t,n(1))},function(e,t){/*! adal-angular v1.0.17 2018-02-27 */
var n=function(){"use strict";return n=function(e){if(this.REQUEST_TYPE={LOGIN:"LOGIN",RENEW_TOKEN:"RENEW_TOKEN",UNKNOWN:"UNKNOWN"},this.RESPONSE_TYPE={ID_TOKEN_TOKEN:"id_token token",TOKEN:"token"},this.CONSTANTS={ACCESS_TOKEN:"access_token",EXPIRES_IN:"expires_in",ID_TOKEN:"id_token",ERROR_DESCRIPTION:"error_description",SESSION_STATE:"session_state",ERROR:"error",STORAGE:{TOKEN_KEYS:"adal.token.keys",ACCESS_TOKEN_KEY:"adal.access.token.key",EXPIRATION_KEY:"adal.expiration.key",STATE_LOGIN:"adal.state.login",STATE_RENEW:"adal.state.renew",NONCE_IDTOKEN:"adal.nonce.idtoken",SESSION_STATE:"adal.session.state",USERNAME:"adal.username",IDTOKEN:"adal.idtoken",ERROR:"adal.error",ERROR_DESCRIPTION:"adal.error.description",LOGIN_REQUEST:"adal.login.request",LOGIN_ERROR:"adal.login.error",RENEW_STATUS:"adal.token.renew.status",ANGULAR_LOGIN_REQUEST:"adal.angular.login.request"},RESOURCE_DELIMETER:"|",CACHE_DELIMETER:"||",LOADFRAME_TIMEOUT:6e3,TOKEN_RENEW_STATUS_CANCELED:"Canceled",TOKEN_RENEW_STATUS_COMPLETED:"Completed",TOKEN_RENEW_STATUS_IN_PROGRESS:"In Progress",LOGGING_LEVEL:{ERROR:0,WARN:1,INFO:2,VERBOSE:3},LEVEL_STRING_MAP:{0:"ERROR:",1:"WARNING:",2:"INFO:",3:"VERBOSE:"},POPUP_WIDTH:483,POPUP_HEIGHT:600},n.prototype._singletonInstance)return n.prototype._singletonInstance;if(n.prototype._singletonInstance=this,this.instance="https://login.microsoftonline.com/",this.config={},this.callback=null,this.popUp=!1,this.isAngular=!1,this._user=null,this._activeRenewals={},this._loginInProgress=!1,this._acquireTokenInProgress=!1,this._renewStates=[],this._callBackMappedToRenewStates={},this._callBacksMappedToRenewStates={},this._openedWindows=[],this._requestType=this.REQUEST_TYPE.LOGIN,window._adalInstance=this,e.displayCall&&"function"!=typeof e.displayCall)throw new Error("displayCall is not a function");if(!e.clientId)throw new Error("clientId is required");this.config=this._cloneConfig(e),void 0===this.config.navigateToLoginRequestUrl&&(this.config.navigateToLoginRequestUrl=!0),this.config.popUp&&(this.popUp=!0),this.config.callback&&"function"==typeof this.config.callback&&(this.callback=this.config.callback),this.config.instance&&(this.instance=this.config.instance),this.config.loginResource||(this.config.loginResource=this.config.clientId),this.config.redirectUri||(this.config.redirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.postLogoutRedirectUri||(this.config.postLogoutRedirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.anonymousEndpoints||(this.config.anonymousEndpoints=[]),this.config.isAngular&&(this.isAngular=this.config.isAngular),this.config.loadFrameTimeout&&(this.CONSTANTS.LOADFRAME_TIMEOUT=this.config.loadFrameTimeout)},"undefined"!=typeof window&&(window.Logging={piiLoggingEnabled:!1,level:0,log:function(e){}}),n.prototype.login=function(){if(this._loginInProgress)return void this.info("Login in progress");this._loginInProgress=!0;var e=this._guid();this.config.state=e,this._idTokenNonce=this._guid();var t=this._getItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST);t&&""!==t?this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""):t=window.location.href,this.verbose("Expected state: "+e+" startPage:"+t),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,t),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,e,!0),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"");var n=this._getNavigateUrl("id_token",null)+"&nonce="+encodeURIComponent(this._idTokenNonce);this.config.displayCall?this.config.displayCall(n):this.popUp?(this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._renewStates.push(e),this.registerCallback(e,this.config.clientId,this.callback),this._loginPopup(n)):this.promptUser(n)},n.prototype._openPopup=function(e,t,n,r){try{var o=window.screenLeft?window.screenLeft:window.screenX,i=window.screenTop?window.screenTop:window.screenY,u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=u/2-n/2+o,c=a/2-r/2+i,l=window.open(e,t,"width="+n+", height="+r+", top="+c+", left="+s);return l.focus&&l.focus(),l}catch(e){return this.warn("Error opening popup, "+e.message),this._loginInProgress=!1,this._acquireTokenInProgress=!1,null}},n.prototype._handlePopupError=function(e,t,n,r,o){this.warn(r),this._saveItem(this.CONSTANTS.STORAGE.ERROR,n),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,r),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,o),t&&this._activeRenewals[t]&&(this._activeRenewals[t]=null),this._loginInProgress=!1,this._acquireTokenInProgress=!1,e&&e(r,null,n)},n.prototype._loginPopup=function(e,t,n){var r=this._openPopup(e,"login",this.CONSTANTS.POPUP_WIDTH,this.CONSTANTS.POPUP_HEIGHT),o=n||this.callback;if(null==r){var i="Popup Window is null. This can happen if you are using IE";return void this._handlePopupError(o,t,"Error opening popup",i,i)}if(this._openedWindows.push(r),-1!=this.config.redirectUri.indexOf("#"))var u=this.config.redirectUri.split("#")[0];else var u=this.config.redirectUri;var a=this,s=window.setInterval(function(){if(!r||r.closed||void 0===r.closed){var e="Popup Window closed",n="Popup Window closed by UI action/ Popup Window handle destroyed due to cross zone navigation in IE/Edge";return a.isAngular&&a._broadcast("adal:popUpClosed",n+a.CONSTANTS.RESOURCE_DELIMETER+e),a._handlePopupError(o,t,e,n,n),void window.clearInterval(s)}try{var i=r.location;if(-1!=encodeURI(i.href).indexOf(encodeURI(u)))return a.isAngular?a._broadcast("adal:popUpHashChanged",i.hash):a.handleWindowCallback(i.hash),window.clearInterval(s),a._loginInProgress=!1,a._acquireTokenInProgress=!1,a.info("Closing popup window"),a._openedWindows=[],void r.close()}catch(e){}},1)},n.prototype._broadcast=function(e,t){!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}();var n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)},n.prototype.loginInProgress=function(){return this._loginInProgress},n.prototype._hasResource=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);return t&&!this._isEmpty(t)&&t.indexOf(e+this.CONSTANTS.RESOURCE_DELIMETER)>-1},n.prototype.getCachedToken=function(e){if(!this._hasResource(e))return null;var t=this._getItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e),n=this._getItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e),r=this.config.expireOffsetSeconds||300;return n&&n>this._now()+r?t:(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e,0),null)},n.prototype.getCachedUser=function(){if(this._user)return this._user;var e=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);return this._user=this._createUser(e),this._user},n.prototype.registerCallback=function(e,t,n){this._activeRenewals[t]=e,this._callBacksMappedToRenewStates[e]||(this._callBacksMappedToRenewStates[e]=[]);var r=this;this._callBacksMappedToRenewStates[e].push(n),this._callBackMappedToRenewStates[e]||(this._callBackMappedToRenewStates[e]=function(n,o,i,u){r._activeRenewals[t]=null;for(var a=0;a<r._callBacksMappedToRenewStates[e].length;++a)try{r._callBacksMappedToRenewStates[e][a](n,o,i,u)}catch(i){r.warn(i)}r._callBacksMappedToRenewStates[e]=null,r._callBackMappedToRenewStates[e]=null})},n.prototype._renewToken=function(e,t,n){this.info("renewToken is called for resource:"+e);var r=this._addAdalFrame("adalRenewFrame"+e),o=this._guid()+"|"+e;this.config.state=o,this._renewStates.push(o),this.verbose("Renew token Expected state: "+o),n=n||"token";var i=this._urlRemoveQueryStringParameter(this._getNavigateUrl(n,e),"prompt");n===this.RESPONSE_TYPE.ID_TOKEN_TOKEN&&(this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),i+="&nonce="+encodeURIComponent(this._idTokenNonce)),i+="&prompt=none",i=this._addHintParameters(i),this.registerCallback(o,e,t),this.verbosePii("Navigate to:"+i),r.src="about:blank",this._loadFrameTimeout(i,"adalRenewFrame"+e,e)},n.prototype._renewIdToken=function(e,t){this.info("renewIdToken is called");var n=this._addAdalFrame("adalIdTokenFrame"),r=this._guid()+"|"+this.config.clientId;this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this.config.state=r,this._renewStates.push(r),this.verbose("Renew Idtoken Expected state: "+r);var o=null===t||void 0===t?null:this.config.clientId,t=t||"id_token",i=this._urlRemoveQueryStringParameter(this._getNavigateUrl(t,o),"prompt");i+="&prompt=none",i=this._addHintParameters(i),i+="&nonce="+encodeURIComponent(this._idTokenNonce),this.registerCallback(r,this.config.clientId,e),this.verbosePii("Navigate to:"+i),n.src="about:blank",this._loadFrameTimeout(i,"adalIdTokenFrame",this.config.clientId)},n.prototype._urlContainsQueryStringParameter=function(e,t){return new RegExp("[\\?&]"+e+"=").test(t)},n.prototype._urlRemoveQueryStringParameter=function(e,t){var n=new RegExp("(\\&"+t+"=)[^&]+");return e=e.replace(n,""),n=new RegExp("("+t+"=)[^&]+&"),e=e.replace(n,""),n=new RegExp("("+t+"=)[^&]+"),e=e.replace(n,"")},n.prototype._loadFrameTimeout=function(e,t,n){this.verbose("Set loading state to pending for: "+n),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+n,this.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS),this._loadFrame(e,t);var r=this;setTimeout(function(){if(r._getItem(r.CONSTANTS.STORAGE.RENEW_STATUS+n)===r.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS){r.verbose("Loading frame has timed out after: "+r.CONSTANTS.LOADFRAME_TIMEOUT/1e3+" seconds for resource "+n);var e=r._activeRenewals[n];e&&r._callBackMappedToRenewStates[e]&&r._callBackMappedToRenewStates[e]("Token renewal operation failed due to timeout",null,"Token Renewal Failed"),r._saveItem(r.CONSTANTS.STORAGE.RENEW_STATUS+n,r.CONSTANTS.TOKEN_RENEW_STATUS_CANCELED)}},r.CONSTANTS.LOADFRAME_TIMEOUT)},n.prototype._loadFrame=function(e,t){var n=this;n.info("LoadFrame: "+t);var r=t;setTimeout(function(){var t=n._addAdalFrame(r);""!==t.src&&"about:blank"!==t.src||(t.src=e,n._loadFrame(e,r))},500)},n.prototype.acquireToken=function(e,t){if(this._isEmpty(e))return this.warn("resource is required"),void t("resource is required",null,"resource is required");var n=this.getCachedToken(e);return n?(this.info("Token is already in cache for resource:"+e),void t(null,n,null)):this._user||this.config.extraQueryParameter&&-1!==this.config.extraQueryParameter.indexOf("login_hint")?void(this._activeRenewals[e]?this.registerCallback(this._activeRenewals[e],e,t):(this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,e===this.config.clientId?this._user?(this.verbose("renewing idtoken"),this._renewIdToken(t)):(this.verbose("renewing idtoken and access_token"),this._renewIdToken(t,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)):this._user?(this.verbose("renewing access_token"),this._renewToken(e,t)):(this.verbose("renewing idtoken and access_token"),this._renewToken(e,t,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)))):(this.warn("User login is required"),void t("User login is required",null,"login required"))},n.prototype.acquireTokenPopup=function(e,t,n,r){if(this._isEmpty(e))return this.warn("resource is required"),void r("resource is required",null,"resource is required");if(!this._user)return this.warn("User login is required"),void r("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void r("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var o=this._guid()+"|"+e;this.config.state=o,this._renewStates.push(o),this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,this.verbose("Renew token Expected state: "+o);var i=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",e),"prompt");if(i+="&prompt=select_account",t&&(i+=t),n&&-1===i.indexOf("&claims"))i+="&claims="+encodeURIComponent(n);else if(n&&-1!==i.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");i=this._addHintParameters(i),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+e),this.registerCallback(o,e,r),this._loginPopup(i,e,r)},n.prototype.acquireTokenRedirect=function(e,t,n){if(this._isEmpty(e))return this.warn("resource is required"),void r("resource is required",null,"resource is required");var r=this.callback;if(!this._user)return this.warn("User login is required"),void r("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void r("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var o=this._guid()+"|"+e;this.config.state=o,this.verbose("Renew token Expected state: "+o);var i=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",e),"prompt");if(i+="&prompt=select_account",t&&(i+=t),n&&-1===i.indexOf("&claims"))i+="&claims="+encodeURIComponent(n);else if(n&&-1!==i.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");i=this._addHintParameters(i),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+e),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,window.location.href),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,o,!0),this.promptUser(i)},n.prototype.promptUser=function(e){e?(this.infoPii("Navigate to:"+e),window.location.replace(e)):this.info("Navigate url is empty")},n.prototype.clearCache=function(){this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._renewStates=[],this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"");var e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);if(!this._isEmpty(e)){e=e.split(this.CONSTANTS.RESOURCE_DELIMETER);for(var t=0;t<e.length&&""!==e[t];t++)this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e[t],""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e[t],0)}this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,"")},n.prototype.clearCacheForResource=function(e){this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._hasResource(e)&&(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e,0))},n.prototype.logOut=function(){this.clearCache(),this._user=null;var e;if(this.config.logOutUri)e=this.config.logOutUri;else{var t="common",n="";this.config.tenant&&(t=this.config.tenant),this.config.postLogoutRedirectUri&&(n="post_logout_redirect_uri="+encodeURIComponent(this.config.postLogoutRedirectUri)),e=this.instance+t+"/oauth2/logout?"+n}this.infoPii("Logout navigate to: "+e),this.promptUser(e)},n.prototype._isEmpty=function(e){return void 0===e||!e||0===e.length},n.prototype.getUser=function(e){if("function"!=typeof e)throw new Error("callback is not a function");if(this._user)return void e(null,this._user);var t=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);this._isEmpty(t)?(this.warn("User information is not available"),e("User information is not available",null)):(this.info("User exists in cache: "),this._user=this._createUser(t),e(null,this._user))},n.prototype._addHintParameters=function(e){if(this._user&&this._user.profile)if(this._user.profile.sid&&-1!==e.indexOf("&prompt=none"))this._urlContainsQueryStringParameter("sid",e)||(e+="&sid="+encodeURIComponent(this._user.profile.sid));else if(this._user.profile.upn&&(this._urlContainsQueryStringParameter("login_hint",e)||(e+="&login_hint="+encodeURIComponent(this._user.profile.upn)),!this._urlContainsQueryStringParameter("domain_hint",e)&&this._user.profile.upn.indexOf("@")>-1)){var t=this._user.profile.upn.split("@");e+="&domain_hint="+encodeURIComponent(t[t.length-1])}return e},n.prototype._createUser=function(e){var t=null,n=this._extractIdToken(e);return n&&n.hasOwnProperty("aud")&&(n.aud.toLowerCase()===this.config.clientId.toLowerCase()?(t={userName:"",profile:n},n.hasOwnProperty("upn")?t.userName=n.upn:n.hasOwnProperty("email")&&(t.userName=n.email)):this.warn("IdToken has invalid aud field")),t},n.prototype._getHash=function(e){return e.indexOf("#/")>-1?e=e.substring(e.indexOf("#/")+2):e.indexOf("#")>-1&&(e=e.substring(1)),e},n.prototype.isCallback=function(e){e=this._getHash(e);var t=this._deserialize(e);return t.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||t.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||t.hasOwnProperty(this.CONSTANTS.ID_TOKEN)},n.prototype.getLoginError=function(){return this._getItem(this.CONSTANTS.STORAGE.LOGIN_ERROR)},n.prototype.getRequestInfo=function(e){e=this._getHash(e);var t=this._deserialize(e),n={valid:!1,parameters:{},stateMatch:!1,stateResponse:"",requestType:this.REQUEST_TYPE.UNKNOWN};if(t&&(n.parameters=t,t.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||t.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||t.hasOwnProperty(this.CONSTANTS.ID_TOKEN))){n.valid=!0;var r="";if(!t.hasOwnProperty("state"))return this.warn("No state returned"),n;if(this.verbose("State: "+t.state),r=t.state,n.stateResponse=r,this._matchState(n))return n;if(!n.stateMatch&&window.parent){n.requestType=this._requestType;for(var o=this._renewStates,i=0;i<o.length;i++)if(o[i]===n.stateResponse){n.stateMatch=!0;break}}}return n},n.prototype._matchNonce=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN);if(t){t=t.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<t.length;n++)if(t[n]===e.profile.nonce)return!0}return!1},n.prototype._matchState=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.STATE_LOGIN);if(t){t=t.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<t.length;n++)if(t[n]===e.stateResponse)return e.requestType=this.REQUEST_TYPE.LOGIN,e.stateMatch=!0,!0}var r=this._getItem(this.CONSTANTS.STORAGE.STATE_RENEW);if(r){r=r.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<r.length;n++)if(r[n]===e.stateResponse)return e.requestType=this.REQUEST_TYPE.RENEW_TOKEN,e.stateMatch=!0,!0}return!1},n.prototype._getResourceFromState=function(e){if(e){var t=e.indexOf("|");if(t>-1&&t+1<e.length)return e.substring(t+1)}return""},n.prototype.saveTokenFromHash=function(e){this.info("State status:"+e.stateMatch+"; Request type:"+e.requestType),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"");var t=this._getResourceFromState(e.stateResponse);if(e.parameters.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION))this.infoPii("Error :"+e.parameters.error+"; Error description:"+e.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),this._saveItem(this.CONSTANTS.STORAGE.ERROR,e.parameters.error),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,e.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),e.requestType===this.REQUEST_TYPE.LOGIN&&(this._loginInProgress=!1,this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,e.parameters.error_description));else if(e.stateMatch){this.info("State is right"),e.parameters.hasOwnProperty(this.CONSTANTS.SESSION_STATE)&&this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,e.parameters[this.CONSTANTS.SESSION_STATE]);var n;e.parameters.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)&&(this.info("Fragment has access token"),this._hasResource(t)||(n=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,n+t+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+t,e.parameters[this.CONSTANTS.ACCESS_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+t,this._expiresIn(e.parameters[this.CONSTANTS.EXPIRES_IN]))),e.parameters.hasOwnProperty(this.CONSTANTS.ID_TOKEN)&&(this.info("Fragment has id token"),this._loginInProgress=!1,this._user=this._createUser(e.parameters[this.CONSTANTS.ID_TOKEN]),this._user&&this._user.profile?this._matchNonce(this._user)?(this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,e.parameters[this.CONSTANTS.ID_TOKEN]),t=this.config.loginResource?this.config.loginResource:this.config.clientId,this._hasResource(t)||(n=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,n+t+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+t,e.parameters[this.CONSTANTS.ID_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+t,this._user.profile.exp)):(this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"Nonce received: "+this._user.profile.nonce+" is not same as requested: "+this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN)),this._user=null):(e.parameters.error="invalid id_token",e.parameters.error_description="Invalid id_token. id_token: "+e.parameters[this.CONSTANTS.ID_TOKEN],this._saveItem(this.CONSTANTS.STORAGE.ERROR,"invalid id_token"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid id_token. id_token: "+e.parameters[this.CONSTANTS.ID_TOKEN])))}else e.parameters.error="Invalid_state",e.parameters.error_description="Invalid_state. state: "+e.stateResponse,this._saveItem(this.CONSTANTS.STORAGE.ERROR,"Invalid_state"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid_state. state: "+e.stateResponse);this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+t,this.CONSTANTS.TOKEN_RENEW_STATUS_COMPLETED)},n.prototype.getResourceForEndpoint=function(e){if(this.config&&this.config.anonymousEndpoints)for(var t=0;t<this.config.anonymousEndpoints.length;t++)if(e.indexOf(this.config.anonymousEndpoints[t])>-1)return null;if(this.config&&this.config.endpoints)for(var n in this.config.endpoints)if(e.indexOf(n)>-1)return this.config.endpoints[n];return e.indexOf("http://")>-1||e.indexOf("https://")>-1?this._getHostFromUri(e)===this._getHostFromUri(this.config.redirectUri)?this.config.loginResource:null:this.config.loginResource},n.prototype._getHostFromUri=function(e){var t=String(e).replace(/^(https?:)\/\//,"");return t=t.split("/")[0]},n.prototype.handleWindowCallback=function(e){if(null==e&&(e=window.location.hash),this.isCallback(e)){var t=null,n=!1;this._openedWindows.length>0&&this._openedWindows[this._openedWindows.length-1].opener&&this._openedWindows[this._openedWindows.length-1].opener._adalInstance?(t=this._openedWindows[this._openedWindows.length-1].opener._adalInstance,n=!0):window.parent&&window.parent._adalInstance&&(t=window.parent._adalInstance);var r,o,i=t.getRequestInfo(e),u=null;o=n||window.parent!==window?t._callBackMappedToRenewStates[i.stateResponse]:t.callback,t.info("Returned from redirect url"),t.saveTokenFromHash(i),i.requestType===this.REQUEST_TYPE.RENEW_TOKEN&&window.parent?(window.parent!==window?t.verbose("Window is in iframe, acquiring token silently"):t.verbose("acquiring token interactive in progress"),r=i.parameters[t.CONSTANTS.ACCESS_TOKEN]||i.parameters[t.CONSTANTS.ID_TOKEN],u=t.CONSTANTS.ACCESS_TOKEN):i.requestType===this.REQUEST_TYPE.LOGIN&&(r=i.parameters[t.CONSTANTS.ID_TOKEN],u=t.CONSTANTS.ID_TOKEN);var a=i.parameters[t.CONSTANTS.ERROR_DESCRIPTION],s=i.parameters[t.CONSTANTS.ERROR];try{o&&o(a,r,s,u)}catch(e){t.error("Error occurred in user defined callback function: "+e)}window.parent!==window||n||(t.config.navigateToLoginRequestUrl?window.location.href=t._getItem(t.CONSTANTS.STORAGE.LOGIN_REQUEST):window.location.hash="")}},n.prototype._getNavigateUrl=function(e,t){var n="common";this.config.tenant&&(n=this.config.tenant);var r=this.instance+n+"/oauth2/authorize"+this._serialize(e,this.config,t)+this._addLibMetadata();return this.info("Navigate url:"+r),r},n.prototype._extractIdToken=function(e){var t=this._decodeJwt(e);if(!t)return null;try{var n=t.JWSPayload,r=this._base64DecodeStringUrlSafe(n);return r?JSON.parse(r):(this.info("The returned id_token could not be base64 url safe decoded."),null)}catch(e){this.error("The returned id_token could not be decoded",e)}return null},n.prototype._base64DecodeStringUrlSafe=function(e){return e=e.replace(/-/g,"+").replace(/_/g,"/"),window.atob?decodeURIComponent(escape(window.atob(e))):decodeURIComponent(escape(this._decode(e)))},n.prototype._decode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=String(e).replace(/=+$/,"");var n=e.length;if(n%4==1)throw new Error("The token to be decoded is not correctly encoded.");for(var r,o,i,u,a,s,c,l,p="",f=0;f<n;f+=4){if(r=t.indexOf(e.charAt(f)),o=t.indexOf(e.charAt(f+1)),i=t.indexOf(e.charAt(f+2)),u=t.indexOf(e.charAt(f+3)),f+2===n-1){a=r<<18|o<<12|i<<6,s=a>>16&255,c=a>>8&255,p+=String.fromCharCode(s,c);break}if(f+1===n-1){a=r<<18|o<<12,s=a>>16&255,p+=String.fromCharCode(s);break}a=r<<18|o<<12|i<<6|u,s=a>>16&255,c=a>>8&255,l=255&a,p+=String.fromCharCode(s,c,l)}return p},n.prototype._decodeJwt=function(e){if(this._isEmpty(e))return null;var t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/,n=t.exec(e);return!n||n.length<4?(this.warn("The returned id_token is not parseable."),null):{header:n[1],JWSPayload:n[2],JWSSig:n[3]}},n.prototype._convertUrlSafeToRegularBase64EncodedString=function(e){return e.replace("-","+").replace("_","/")},n.prototype._serialize=function(e,t,n){var r=[];if(null!==t){r.push("?response_type="+e),r.push("client_id="+encodeURIComponent(t.clientId)),n&&r.push("resource="+encodeURIComponent(n)),r.push("redirect_uri="+encodeURIComponent(t.redirectUri)),r.push("state="+encodeURIComponent(t.state)),t.hasOwnProperty("slice")&&r.push("slice="+encodeURIComponent(t.slice)),t.hasOwnProperty("extraQueryParameter")&&r.push(t.extraQueryParameter);var o=t.correlationId?t.correlationId:this._guid();r.push("client-request-id="+encodeURIComponent(o))}return r.join("&")},n.prototype._deserialize=function(e){var t,n=/\+/g,r=/([^&=]+)=([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(n," "))},i={};for(t=r.exec(e);t;)i[o(t[1])]=o(t[2]),t=r.exec(e);return i},n.prototype._decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},n.prototype._guid=function(){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues){var t=new Uint8Array(16);return e.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,this._decimalToHex(t[0])+this._decimalToHex(t[1])+this._decimalToHex(t[2])+this._decimalToHex(t[3])+"-"+this._decimalToHex(t[4])+this._decimalToHex(t[5])+"-"+this._decimalToHex(t[6])+this._decimalToHex(t[7])+"-"+this._decimalToHex(t[8])+this._decimalToHex(t[9])+"-"+this._decimalToHex(t[10])+this._decimalToHex(t[11])+this._decimalToHex(t[12])+this._decimalToHex(t[13])+this._decimalToHex(t[14])+this._decimalToHex(t[15])}for(var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",o=0,i="",u=0;u<36;u++)"-"!==n[u]&&"4"!==n[u]&&(o=16*Math.random()|0),"x"===n[u]?i+=r[o]:"y"===n[u]?(o&=3,o|=8,i+=r[o]):i+=n[u];return i},n.prototype._expiresIn=function(e){return e||(e=3599),this._now()+parseInt(e,10)},n.prototype._now=function(){return Math.round((new Date).getTime()/1e3)},n.prototype._addAdalFrame=function(e){if(void 0!==e){this.info("Add adal frame to document:"+e);var t=document.getElementById(e);if(!t){if(document.createElement&&document.documentElement&&(window.opera||-1===window.navigator.userAgent.indexOf("MSIE 5.0"))){var n=document.createElement("iframe");n.setAttribute("id",e),n.setAttribute("aria-hidden","true"),n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height=n.borderWidth="0px",t=document.getElementsByTagName("body")[0].appendChild(n)}else document.body&&document.body.insertAdjacentHTML&&document.body.insertAdjacentHTML("beforeEnd",'<iframe name="'+e+'" id="'+e+'" style="display:none"></iframe>');window.frames&&window.frames[e]&&(t=window.frames[e])}return t}},n.prototype._saveItem=function(e,t,n){if(this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation){if(!this._supportsLocalStorage())return this.info("Local storage is not supported"),!1;if(n){var r=this._getItem(e)||"";localStorage.setItem(e,r+t+this.CONSTANTS.CACHE_DELIMETER)}else localStorage.setItem(e,t);return!0}return this._supportsSessionStorage()?(sessionStorage.setItem(e,t),!0):(this.info("Session storage is not supported"),!1)},n.prototype._getItem=function(e){return this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation?this._supportsLocalStorage()?localStorage.getItem(e):(this.info("Local storage is not supported"),null):this._supportsSessionStorage()?sessionStorage.getItem(e):(this.info("Session storage is not supported"),null)},n.prototype._supportsLocalStorage=function(){try{return!!window.localStorage&&(window.localStorage.setItem("storageTest","A"),"A"==window.localStorage.getItem("storageTest")&&(window.localStorage.removeItem("storageTest"),!window.localStorage.getItem("storageTest")))}catch(e){return!1}},n.prototype._supportsSessionStorage=function(){try{return!!window.sessionStorage&&(window.sessionStorage.setItem("storageTest","A"),"A"==window.sessionStorage.getItem("storageTest")&&(window.sessionStorage.removeItem("storageTest"),!window.sessionStorage.getItem("storageTest")))}catch(e){return!1}},n.prototype._cloneConfig=function(e){if(null===e||"object"!=typeof e)return e;var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},n.prototype._addLibMetadata=function(){return"&x-client-SKU=Js&x-client-Ver="+this._libVersion()},n.prototype.log=function(e,t,n,r){if(e<=Logging.level){if(!Logging.piiLoggingEnabled&&r)return;var o=(new Date).toUTCString(),i="";i=this.config.correlationId?o+":"+this.config.correlationId+"-"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[e]+" "+t:o+":"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[e]+" "+t,n&&(i+="\nstack:\n"+n.stack),Logging.log(i)}},n.prototype.error=function(e,t){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,e,t)},n.prototype.warn=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,e,null)},n.prototype.info=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,e,null)},n.prototype.verbose=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,e,null)},n.prototype.errorPii=function(e,t){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,e,t,!0)},n.prototype.warnPii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,e,null,!0)},n.prototype.infoPii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,e,null,!0)},n.prototype.verbosePii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,e,null,!0)},n.prototype._libVersion=function(){return"1.0.17"},void 0!==e&&e.exports&&(e.exports=n,e.exports.inject=function(e){return new n(e)}),n}()},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function i(e){return f.b.log({data:0===f.b.activeLogLevel?e.result:{},level:1,message:"["+e.requestId+"] ("+(new Date).getTime()+") Returning result from pipeline. Set logging to verbose to see data."}),Promise.resolve(e.result)}function u(e,t){return new Promise(function(n){e.result=t,e.hasResult=!0,n(e)})}function a(e){return e.pipeline.length>0?e.pipeline.shift()(e):Promise.resolve(e)}function s(e){e.pipeline.length<1&&f.b.write("["+e.requestId+"] ("+(new Date).getTime()+") Request pipeline contains no methods!",2);var t=a(e).then(function(e){return i(e)}).catch(function(e){throw f.b.error(e),e});return e.isBatched&&e.batch.addResolveBatchDependency(t),t}function c(e){return void 0===e&&(e=!1),function(t,n,r){var o=r.value;r.value=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return!e&&r.length>0&&Object(p.j)(r[0],"hasResult")&&r[0].hasResult?(f.b.write("["+r[0].requestId+"] ("+(new Date).getTime()+") Skipping request pipeline method "+n+", existing result in pipeline.",0),Promise.resolve(r[0])):(f.b.write("["+r[0].requestId+"] ("+(new Date).getTime()+") Calling request pipeline method "+n+".",0),o.apply(t,r).then(function(e){return a(e)}))}}}function l(){return[w.logStart,w.caching,w.send,w.logEnd].slice(0)}n.d(t,"c",function(){return h}),n.d(t,"g",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"i",function(){return m}),n.d(t,"a",function(){return _}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"h",function(){return C}),n.d(t,"e",function(){return I});var p=n(3),f=n(0),h=function(){function e(e){this.key=e,this.expiration=Object(p.e)(new Date,"second",p.c.defaultCachingTimeoutSeconds),this.storeName=p.c.defaultCachingStore}return Object.defineProperty(e.prototype,"store",{get:function(){return"local"===this.storeName?e.storage.local:e.storage.session},enumerable:!0,configurable:!0}),e.storage=new p.b,e}(),d=function(){function e(e,t){this.parser=e,this.cacheOptions=t}return e.prototype.parse=function(e){var t=this;return this.parser.parse(e).then(function(e){return t.cacheData(e)})},e.prototype.cacheData=function(e){return null!==this.cacheOptions.store&&this.cacheOptions.store.put(this.cacheOptions.key,e,this.cacheOptions.expiration),e},e}(),y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},g=function(e){function t(t,n,r,o){void 0===r&&(r=n.status),void 0===o&&(o=n.statusText);var i=e.call(this,t)||this;return i.response=n,i.status=r,i.statusText=o,i.isHttpRequestError=!0,i}return r(t,e),t.init=function(e){return e.clone().text().then(function(n){return new t("Error making HttpClient request in queryable ["+e.status+"] "+e.statusText+" ::> "+n,e.clone())})},t}(Error),v=function(){function e(){}return e.prototype.parse=function(e){var t=this;return new Promise(function(n,r){t.handleError(e,r)&&t.parseImpl(e,n,r)})},e.prototype.parseImpl=function(e,t,n){var r=this;e.headers.has("Content-Length")&&0===parseFloat(e.headers.get("Content-Length"))||204===e.status?t({}):e.text().then(function(e){return e.replace(/\s/gi,"").length>0?JSON.parse(e):{}}).then(function(e){return t(r.parseODataJSON(e))}).catch(function(e){return n(e)})},e.prototype.handleError=function(e,t){return e.ok||g.init(e).then(t),e.ok},e.prototype.parseODataJSON=function(e){var t=e;return Object(p.j)(e,"d")?t=Object(p.j)(e.d,"results")?e.d.results:e.d:Object(p.j)(e,"value")&&(t=e.value),t},e}(),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(v),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.parseImpl=function(e,t){e.text().then(t)},t}(v),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.parseImpl=function(e,t){e.blob().then(t)},t}(v),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.parseImpl=function(e,t){e.json().then(t)},t}(v),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.parseImpl=function(e,t){Object(p.l)(e.arrayBuffer)?e.arrayBuffer().then(t):e.buffer().then(t)},t}(v),w=(function(e){function t(t){var n=e.call(this)||this;return n.parser=t,n}r(t,e),t.prototype.parseImpl=function(e,t){this.parser(e).then(t)}}(v),function(){function e(){}return e.logStart=function(e){return new Promise(function(t){f.b.log({data:1===f.b.activeLogLevel?{}:e,level:1,message:"["+e.requestId+"] ("+(new Date).getTime()+") Beginning "+e.verb+" request ("+e.requestAbsoluteUrl+")"}),t(e)})},e.caching=function(e){return new Promise(function(t){if(e.isCached){f.b.write("["+e.requestId+"] ("+(new Date).getTime()+") Caching is enabled for request, checking cache...",1);var n=new h(e.requestAbsoluteUrl.toLowerCase());if(void 0!==e.cachingOptions&&(n=Object(p.f)(n,e.cachingOptions)),null!==n.store){var r=n.store.get(n.key);if(null!==r)return f.b.log({data:1===f.b.activeLogLevel?{}:r,level:1,message:"["+e.requestId+"] ("+(new Date).getTime()+") Value returned from cache."}),Object(p.l)(e.batchDependency)&&e.batchDependency(),Object(p.j)(e.parser,"hydrate")&&(r=e.parser.hydrate(r)),u(e,r).then(function(e){return t(e)})}f.b.write("["+e.requestId+"] ("+(new Date).getTime()+") Value not found in cache.",1),e.parser=new d(e.parser,n)}return t(e)})},e.send=function(e){return new Promise(function(t,n){if(e.isBatched){var r=e.batch.add(e.requestAbsoluteUrl,e.verb,e.options,e.parser,e.requestId);Object(p.l)(e.batchDependency)&&e.batchDependency(),f.b.write("["+e.requestId+"] ("+(new Date).getTime()+") Batching request in batch "+e.batch.batchId+".",1),t(u(e,r))}else{f.b.write("["+e.requestId+"] ("+(new Date).getTime()+") Sending request.",1);var o=e.clientFactory(),i=Object(p.f)(e.options||{},{method:e.verb});o.fetch(e.requestAbsoluteUrl,i).then(function(t){return e.parser.parse(t)}).then(function(t){return u(e,t)}).then(function(e){return t(e)}).catch(function(e){return n(e)})}})},e.logEnd=function(e){return new Promise(function(t){e.isBatched?f.b.log({data:1===f.b.activeLogLevel?{}:e,level:1,message:"["+e.requestId+"] ("+(new Date).getTime()+") "+e.verb+" request will complete in batch "+e.batch.batchId+"."}):f.b.log({data:1===f.b.activeLogLevel?{}:e,level:1,message:"["+e.requestId+"] ("+(new Date).getTime()+") Completing "+e.verb+" request."}),t(e)})},o([c(!0)],e,"logStart",null),o([c()],e,"caching",null),o([c()],e,"send",null),o([c(!0)],e,"logEnd",null),e}()),O=function(){function e(){this._query=new Map,this._options={},this._url="",this._parentUrl="",this._useCaching=!1,this._cachingOptions=null,this._cloneParentWasCaching=!1,this._cloneParentCacheOptions=null,this._requestPipeline=null}return e.prototype.toUrl=function(){return this._url},e.prototype.concat=function(e){return this._url+=e,this},Object.defineProperty(e.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),e.prototype.configure=function(e){return Object(p.p)(this._options,e),this},e.prototype.configureFrom=function(e){return Object(p.p)(this._options,e._options),this},e.prototype.usingCaching=function(e){return p.c.globalCacheDisable||(this._useCaching=!0,void 0!==e&&(this._cachingOptions=e)),this},e.prototype.withPipeline=function(e){return this._requestPipeline=e.slice(0),this},e.prototype.getCore=function(e,t){return void 0===e&&(e=new S),void 0===t&&(t={}),this._cloneParentWasCaching&&this.usingCaching(this._cloneParentCacheOptions),this.reqImpl("GET",t,e)},e.prototype.postCore=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=new S),this.reqImpl("POST",e,t)},e.prototype.patchCore=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=new S),this.reqImpl("PATCH",e,t)},e.prototype.deleteCore=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=new S),this.reqImpl("DELETE",e,t)},e.prototype.putCore=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=new S),this.reqImpl("PUT",e,t)},e.prototype.reqImpl=function(e,t,n){var r=this;return void 0===t&&(t={}),this.getRequestPipeline(e,t,n).then(function(o){return r.toRequestContext(e,t,n,o)}).then(function(e){return s(e)})},e.prototype.append=function(e){this._url=Object(p.d)(this._url,e)},Object.defineProperty(e.prototype,"parentUrl",{get:function(){return this._parentUrl},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this._parentUrl=e._url,this._url=Object(p.d)(this._parentUrl,t||""),this.configureFrom(e)},e.prototype._clone=function(e,t){return e.configureFrom(this),this._useCaching&&(e._cloneParentWasCaching=!0,e._cloneParentCacheOptions=this._cachingOptions),e},e.prototype.getRequestPipeline=function(e,t,n){var r=this;return void 0===t&&(t={}),new Promise(function(e){e(Object(p.q)(r._requestPipeline)&&Object(p.k)(r._requestPipeline)?r._requestPipeline:l())})},e}(),C=function(e){function t(){var t=e.call(this)||this;return t._batch=null,t._batchDependency=null,t}return r(t,e),t.prototype.inBatch=function(e){if(null!==this.batch)throw Error("This query is already part of a batch.");return Object(p.q)(e)&&(this._batch=e),this},t.prototype.toUrl=function(){return this._url},t.prototype.get=function(e,t){return void 0===e&&(e=new b),void 0===t&&(t={}),this.getCore(e,t)},t.prototype.getCore=function(t,n){return void 0===t&&(t=new b),void 0===n&&(n={}),e.prototype.getCore.call(this,t,n)},t.prototype.postCore=function(t,n){return void 0===t&&(t={}),void 0===n&&(n=new b),e.prototype.postCore.call(this,t,n)},t.prototype.patchCore=function(t,n){return void 0===t&&(t={}),void 0===n&&(n=new b),e.prototype.patchCore.call(this,t,n)},t.prototype.deleteCore=function(t,n){return void 0===t&&(t={}),void 0===n&&(n=new b),e.prototype.deleteCore.call(this,t,n)},t.prototype.putCore=function(t,n){return void 0===t&&(t={}),void 0===n&&(n=new b),e.prototype.putCore.call(this,t,n)},t.prototype.reqImpl=function(t,n,r){return void 0===n&&(n={}),this.hasBatch&&(this._batchDependency=this.addBatchDependency()),e.prototype.reqImpl.call(this,t,n,r)},t.prototype.addBatchDependency=function(){return null!==this._batch?this._batch.addDependency():function(){return null}},Object.defineProperty(t.prototype,"hasBatch",{get:function(){return Object(p.q)(this._batch)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"batch",{get:function(){return this.hasBatch?this._batch:null},enumerable:!0,configurable:!0}),t.prototype._clone=function(t,n){return t=e.prototype._clone.call(this,t,n),n.includeBatch&&(t=t.inBatch(this._batch)),t},t}(O),I=function(){function e(e){void 0===e&&(e=Object(p.h)()),this._batchId=e,this._reqs=[],this._deps=[],this._rDeps=[]}return Object.defineProperty(e.prototype,"batchId",{get:function(){return this._batchId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"requests",{get:function(){return this._reqs},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t,n,r,o){var i={id:o,method:t.toUpperCase(),options:n,parser:r,reject:null,resolve:null,url:e},u=new Promise(function(e,t){i.resolve=e,i.reject=t});return this._reqs.push(i),u},e.prototype.addDependency=function(){var e=function(){};return this._deps.push(new Promise(function(t){e=t})),e},e.prototype.addResolveBatchDependency=function(e){this._rDeps.push(e)},e.prototype.execute=function(){var e=this;return Promise.all(this._deps).then(function(){return Promise.all(e._deps)}).then(function(){return e.executeImpl()}).then(function(){return Promise.all(e._rDeps)}).then(function(){})},e}()},function(e,t){e.exports=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(16),o=n(18);"string"==typeof r&&(r=[[e.i,r]]);for(var i=0;i<r.length;i++)o.loadStyles(r[i][1],!0);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(17)(!1),t.push([e.i,".linkTiles_b64f5c91.tileCont_b64f5c91{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}.linkTiles_b64f5c91 .tile_b64f5c91,.linkTiles_b64f5c91 .tileBack_b64f5c91,.linkTiles_b64f5c91 .tileFlip_b64f5c91,.linkTiles_b64f5c91 .tileFront_b64f5c91,.linkTiles_b64f5c91 .tileFront_b64f5c91>img{width:var(--tileWidth);height:var(--tileHeight)}.linkTiles_b64f5c91 .tile_b64f5c91{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-perspective:1000px;perspective:1000px}.linkTiles_b64f5c91 .tile_b64f5c91.hover_b64f5c91 .tileFlip_b64f5c91,.linkTiles_b64f5c91 .tile_b64f5c91:hover .tileFlip_b64f5c91{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.linkTiles_b64f5c91 .tileFlip_b64f5c91{-webkit-transition:.6s;transition:.6s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;position:relative}.linkTiles_b64f5c91 .tileBack_b64f5c91,.linkTiles_b64f5c91 .tileFront_b64f5c91{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.linkTiles_b64f5c91 .tileFront_b64f5c91{z-index:2;-webkit-transform:rotateY(0);transform:rotateY(0)}.linkTiles_b64f5c91 .tileFront_b64f5c91 .tileTitle_b64f5c91{position:absolute;right:0;bottom:0;left:0;background-color:#333333E6;color:#fff;padding:2px;text-align:center}.linkTiles_b64f5c91 .tileBack_b64f5c91{-webkit-transform:rotateY(180deg);transform:rotateY(180deg);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#000;color:#fff}.linkTiles_b64f5c91 .tileDescription_b64f5c91{padding:0 10px;text-align:center;width:100%}",""])},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var u=e[o];"number"==typeof u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),t.push(u))}},t}},function(e,t,n){"use strict";(function(e){function n(e){var t=C();e();var n=C();T.perf.duration+=n-t}function r(e,t){void 0===t&&(t=!1),n(function(){var n=Array.isArray(e)?e:y(e);void 0===_&&(_=b());var r=T.runState,o=r.mode,i=r.buffer,u=r.flushTimer;t||1===o?(i.push(n),u||(T.runState.flushTimer=a())):s(n)})}function o(e){T.loadStyles=e}function i(e){T.runState.mode=e}function u(){n(function(){var e=T.runState.buffer.slice();T.runState.buffer=[];var t=[].concat.apply([],e);t.length>0&&s(t)})}function a(){return setTimeout(function(){T.runState.flushTimer=0,u()},0)}function s(e,t){T.loadStyles?T.loadStyles(d(e).styleString,e):_?v(e,t):g(e)}function c(e){T.theme=e,f()}function l(e){void 0===e&&(e=3),3!==e&&2!==e||(p(T.registeredStyles),T.registeredStyles=[]),3!==e&&1!==e||(p(T.registeredThemableStyles),T.registeredThemableStyles=[])}function p(e){e.forEach(function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)})}function f(){if(T.theme){for(var e=[],t=0,n=T.registeredThemableStyles;t<n.length;t++){var r=n[t];e.push(r.themableStyle)}e.length>0&&(l(1),s([].concat.apply([],e)))}}function h(e){return e&&(e=d(y(e)).styleString),e}function d(e){var t=T.theme,n=!1;return{styleString:(e||[]).map(function(e){var r=e.theme;if(r){n=!0;var o=t?t[r]:void 0,i=e.defaultValue||"inherit";return t&&!o&&console,o||i}return e.rawString}).join(""),themable:n}}function y(e){var t=[];if(e){for(var n=0,r=void 0;r=w.exec(e);){var o=r.index;o>n&&t.push({rawString:e.substring(n,o)}),t.push({theme:r[1],defaultValue:r[2]}),n=w.lastIndex}t.push({rawString:e.substring(n)})}return t}function g(e){if("undefined"!=typeof document){var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),r=d(e),o=r.styleString,i=r.themable;n.type="text/css",n.appendChild(document.createTextNode(o)),T.perf.count++,t.appendChild(n);var u={styleElement:n,themableStyle:e};i?T.registeredThemableStyles.push(u):T.registeredStyles.push(u)}}function v(e,t){if("undefined"!=typeof document){var n=document.getElementsByTagName("head")[0],r=T.registeredStyles,o=T.lastStyleElement,i=o?o.styleSheet:void 0,u=i?i.cssText:"",a=r[r.length-1],s=d(e).styleString;(!o||u.length+s.length>O)&&(o=document.createElement("style"),o.type="text/css",t?(n.replaceChild(o,t.styleElement),t.styleElement=o):n.appendChild(o),t||(a={styleElement:o,themableStyle:e},r.push(a))),o.styleSheet.cssText+=h(s),Array.prototype.push.apply(a.themableStyle,e),T.lastStyleElement=o}}function b(){var e=!1;if("undefined"!=typeof document){var t=document.createElement("style");t.type="text/css",e=!!t.styleSheet}return e}var m=this&&this.__assign||function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},m.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var _,S="undefined"==typeof window?e:window,T=function(){var e=S.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};return e.runState||(e=m({},e,{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}})),e.registeredThemableStyles||(e=m({},e,{registeredThemableStyles:[]})),S.__themeState__=e,e}(),w=/[\'\"]\[theme:\s*(\w+)\s*(?:\,\s*default:\s*([\\"\']?[\.\,\(\)\#\-\s\w]*[\.\,\(\)\#\-\w][\"\']?))?\s*\][\'\"]/g,O=1e4,C=function(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()};t.loadStyles=r,t.configureLoadStyles=o,t.configureRunMode=i,t.flush=u,t.loadTheme=c,t.clearStyles=l,t.detokenize=h,t.splitStyles=y}).call(t,n(1))}])});